(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{463:function(e,t,n){"use strict";n.r(t);var a=n(251),r=n.n(a),c=n(63),l=n.n(c),o=n(13),i=n.n(o),s=n(0),u=n.n(s),m=n(4),p=n(264),d=n.n(p),f=n(30),b=n.n(f),g=n(44),h=n.n(g),v=n(258),y=n.n(v),O=n(1),E=n(308),j=n.n(E),C=n(6),N=n(7),S=n(40),w=n(280),P=n(255),R=n(256),k=n(43),I=n(316),x=n(28),_=n.n(x),L=n(29),z=n.n(L),q=n(119),D=n.n(q),T=n(31),B=n.n(T),M=n(32),A=n.n(M),U=n(20),F=n.n(U),J=n(3),V=n.n(J),G=n(34);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=F()(e);if(t){var r=F()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return A()(this,n)}}var K=function(e){B()(n,e);var t=H(n);function n(e){var a;return _()(this,n),a=t.call(this,e),r()(D()(a),"setValue",(function(e){a.props.handleChange(e)})),r()(D()(a),"loadCustomMenu",(function(){return new Promise((function(e){if("external"===a.props.type)import("".concat(Object(G.a)(),"/custom/").concat(a.props.fileName,".js")).then((function(t){var n=t.default;e(n)}));else{var t=Object(S.d)().meta.name;require(["app/".concat(t,"/js/build/custom/").concat(a.props.fileName)],(function(t){return e(t)}))}}))})),a.state={loading:!0},a.shouldRender=!0,a}return z()(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(S.d)();this.setState({loading:!0}),this.loadCustomMenu().then((function(n){new n(t,e.el,e.setValue).render(),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.loading||!this.shouldRender)&&(this.shouldRender=!1,!0)}},{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,this.state.loading&&Object(C._)("Loading..."),u.a.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),n}(s.Component);K.propTypes={fileName:V.a.string.isRequired,type:V.a.string,handleChange:V.a.func};var Q=K,W=n(323),X=n(285),Y=n(324),Z=n(120),$=n.n(Z),ee=n(67),te=n.n(ee),ne=n(14),ae=n(288);function re(e){var t=e.handleRequestClose,n=e.serviceName,a=e.mode,r=e.stanzaName,c=e.formLabel,o=Object(s.useRef)(),i=Object(s.useState)(!1),m=l()(i,2),p=m[0],f=m[1],g=Object(C._)("Submit");a===R.c?g=Object(C._)("Add"):a===R.a?g=Object(C._)("Clone Input"):a===R.d&&(g=Object(C._)("Update"));var h={boxShadow:Object(ne.useSplunkTheme)().embossShadow,padding:"1%",backgroundColor:"white"};return u.a.createElement(d.a,{gutter:8},u.a.createElement(d.a.Row,{style:{padding:"5px 0px"}},u.a.createElement(d.a.Column,null,u.a.createElement(w.a,null,u.a.createElement($.a,{onClick:t},Object(C._)("Inputs"))," > ",Object(C._)(c)))),u.a.createElement(d.a.Row,null,u.a.createElement(d.a.Column,{span:2}),u.a.createElement(d.a.Column,{span:8,style:h},u.a.createElement(ae.a,{ref:o,page:k.b,serviceName:n,mode:a,stanzaName:r,handleFormSubmit:function(e,n){f(e),n&&t()}})),u.a.createElement(d.a.Column,{span:2})),u.a.createElement(d.a.Row,null,u.a.createElement(d.a.Column,{span:7}),u.a.createElement(d.a.Column,{span:3,style:{textAlign:"right"}},u.a.createElement(b.a,{appearance:"secondary",onClick:t,label:Object(C._)("Cancel"),disabled:p}),u.a.createElement(b.a,{appearance:"primary",label:p?u.a.createElement(te.a,null):g,onClick:function(){o.current.handleSubmit()&&t()},disabled:p})),u.a.createElement(d.a.Column,{span:2})))}re.propTypes={handleRequestClose:V.a.func,serviceName:V.a.string,mode:V.a.string,stanzaName:V.a.string,formLabel:V.a.string};var ce,le=Object(s.memo)(re),oe=n(284);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=Object(O.default)(d.a.Row)(ce||(ce=i()(["\n    padding: 5px 0px;\n\n    .dropdown {\n        text-align: right;\n    }\n\n    .input_button {\n        text-align: right;\n        margin-right: 0px;\n    }\n"])));t.default=function(){var e=Object(s.useState)({open:!1}),t=l()(e,2),n=t[0],a=t[1],r=Object(S.d)().pages.inputs,c=r.services,o=r.title,i=r.description,p=r.menu,f=u.a.createElement(b.a,{appearance:"primary",id:"addInputBtn",label:Object(C._)("Create New Input"),isMenu:!0}),g=[R.a,R.c,R.d],v=Object(m.d)(),O=Object(oe.a)(),E=function(e,t){var r=c.find((function(t){return t.name===e})).style===I.b;a(se(se({},n),{},{open:!0,serviceName:e,mode:R.c,formLabel:"Add ".concat(t),isInputPageStyle:r})),r&&(O.set("service",e),O.set("action",R.c),v.push({search:O.toString()}))},x=function(){a(se(se({},n),{},{open:!1}))},_=function(){a(se(se({},n),{},{open:!1})),O.delete("service"),O.delete("action"),v.push({search:O.toString()})};return Object(s.useEffect)((function(){var e=c.find((function(e){return e.name===O.get("service")}));O&&e&&g.includes(O.get("action"))&&!n.open?O.get("action")!==R.c&&n.stanzaName?a(se(se({},n),{},{open:!0,isInputPageStyle:!0,serviceName:O.get("service"),mode:O.get("action")})):a(se(se({},n),{},{open:!0,isInputPageStyle:!0,serviceName:O.get("service"),formLabel:"Create ".concat(null==e?void 0:e.title),mode:R.c})):O.get("service")&&O.get("action")||!n.open||!n.isInputPageStyle||a(se(se({},n),{},{open:!1}))}),[v.location.search]),u.a.createElement(Y.a,null,u.a.createElement(P.a,{value:null},n.isInputPageStyle&&n.open?u.a.createElement(le,{open:n.open,handleRequestClose:_,serviceName:n.serviceName,stanzaName:n.stanzaName,mode:n.mode,formLabel:n.formLabel}):null," ",u.a.createElement("div",{style:n.isInputPageStyle&&n.open?{display:"none"}:{display:"block"}},u.a.createElement(d.a,{gutter:8},u.a.createElement(ue,null,u.a.createElement(d.a.Column,{span:9},u.a.createElement(w.b,null,Object(C._)(o)),u.a.createElement(w.a,null,Object(C._)(i||""))),c&&c.length>1&&!(null!=p&&p.src)&&u.a.createElement(d.a.Column,{className:"dropdown",span:3},u.a.createElement(h.a,{toggle:f},u.a.createElement(y.a,{onClick:function(e){var t=c[c.findIndex((function(t){return t.title===e.target.innerText}))].name;E(t,e.target.innerText)}},c.map((function(e){return u.a.createElement(y.a.Item,{key:e.name},e.title)}))))),c&&1===c.length&&!(null!=p&&p.src)&&u.a.createElement(d.a.Column,{span:3,className:"input_button"},u.a.createElement(b.a,{label:Object(N.a)(100),appearance:"primary",id:"addInputBtn",onClick:function(){E(c[0].name,c[0].title)}})),(null==p?void 0:p.src)&&u.a.createElement(d.a.Column,{span:3,className:"input_button"},u.a.createElement(Q,{fileName:p.src,type:p.type,handleChange:function(e){Object.keys(e).forEach((function(t){O.set(t,e[t])})),v.push({search:O.toString()})}})))),u.a.createElement(W.a,{page:k.b,handleOpenPageStyleDialog:function(e,t){var r,l=null===(r=c.find((function(t){return t.name===e.serviceName})))||void 0===r?void 0:r.title;a(se(se({},n),{},{open:!0,isInputPageStyle:!0,serviceName:e.serviceName,stanzaName:e.name,formLabel:t===R.a?"Clone ".concat(l):"Update ".concat(l),mode:t})),O.set("service",e.serviceName),O.set("action",t),v.push({search:O.toString()})}}),u.a.createElement(j.a,{position:"top-right"}),!n.isInputPageStyle&&n.open?u.a.createElement(X.a,{page:k.b,open:n.open,handleRequestClose:x,serviceName:n.serviceName,mode:R.c,formLabel:n.formLabel}):null)))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9DdXN0b21NZW51LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9FbnRpdHlQYWdlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvcGFnZXMvSW5wdXQvSW5wdXRQYWdlLmpzeCJdLCJuYW1lcyI6WyJDdXN0b21NZW51IiwicHJvcHMiLCJuZXdWYWx1ZSIsImhhbmRsZUNoYW5nZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidHlwZSIsImltcG9ydCIsImdldEJ1aWxkRGlyUGF0aCIsImZpbGVOYW1lIiwidGhlbiIsImV4dGVybmFsIiwiQ29udHJvbCIsImFwcE5hbWUiLCJnZXRVbmlmaWVkQ29uZmlncyIsIm1ldGEiLCJuYW1lIiwiX19ub25fd2VicGFja19yZXF1aXJlX18iLCJzdGF0ZSIsImxvYWRpbmciLCJzaG91bGRSZW5kZXIiLCJnbG9iYWxDb25maWciLCJ0aGlzIiwic2V0U3RhdGUiLCJsb2FkQ3VzdG9tTWVudSIsImVsIiwic2V0VmFsdWUiLCJyZW5kZXIiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJfIiwicmVmIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiQ29tcG9uZW50IiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsImZ1bmMiLCJFbnRpdHlQYWdlIiwiaGFuZGxlUmVxdWVzdENsb3NlIiwic2VydmljZU5hbWUiLCJtb2RlIiwic3RhbnphTmFtZSIsImZvcm1MYWJlbCIsImZvcm0iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsImJ1dHRvblRleHQiLCJNT0RFX0NSRUFURSIsIk1PREVfQ0xPTkUiLCJNT0RFX0VESVQiLCJjb2xTdHlsZSIsImJveFNoYWRvdyIsInVzZVNwbHVua1RoZW1lIiwiZW1ib3NzU2hhZG93IiwicGFkZGluZyIsImJhY2tncm91bmRDb2xvciIsImd1dHRlciIsIlJvdyIsIkNvbHVtbiIsIm9uQ2xpY2siLCJzcGFuIiwiQmFzZUZvcm1WaWV3IiwicGFnZSIsIlBBR0VfSU5QVVQiLCJoYW5kbGVGb3JtU3VibWl0Iiwic2V0IiwiY2xvc2UiLCJ0ZXh0QWxpZ24iLCJhcHBlYXJhbmNlIiwibGFiZWwiLCJkaXNhYmxlZCIsImN1cnJlbnQiLCJoYW5kbGVTdWJtaXQiLCJtZW1vIiwic3R5bGVkIiwiQ29sdW1uTGF5b3V0IiwiSW5wdXRQYWdlIiwib3BlbiIsImVudGl0eSIsInNldEVudGl0eSIsInBhZ2VzIiwiaW5wdXRzIiwic2VydmljZXMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY3VzdG9tTWVudUZpZWxkIiwibWVudSIsInRvZ2dsZSIsImlkIiwiaXNNZW51IiwiUEVSTUlUVEVEX01PREVTIiwiaGlzdG9yeSIsInVzZUhpc3RvcnkiLCJxdWVyeSIsInVzZVF1ZXJ5IiwiaGFuZGxlUmVxdWVzdE9wZW4iLCJzZXJ2aWNlVGl0bGUiLCJpc0lucHV0UGFnZVN0eWxlIiwiZmluZCIsIngiLCJTVFlMRV9QQUdFIiwicHVzaCIsInNlYXJjaCIsInRvU3RyaW5nIiwiaGFuZGxlTW9kYWxEaWFsb2dDbG9zZSIsImhhbmRsZVBhZ2VEaWFsb2dDbG9zZSIsInVzZUVmZmVjdCIsInNlcnZpY2UiLCJnZXQiLCJpbmNsdWRlcyIsImxvY2F0aW9uIiwiRXJyb3JCb3VuZGFyeSIsIlRhYmxlQ29udGV4dCIsInZhbHVlIiwiZGlzcGxheSIsImxlbmd0aCIsInNyYyIsImNsYXNzTmFtZSIsImV2ZW50IiwiZmluZG5hbWUiLCJmaW5kSW5kZXgiLCJ0YXJnZXQiLCJpbm5lclRleHQiLCJtYXAiLCJJdGVtIiwia2V5IiwiZ2V0Rm9ybWF0dGVkTWVzc2FnZSIsIlJlYWN0IiwiY3JlYXRlRWxlbWVudCIsInZhbCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiVGFibGVXcmFwcGVyIiwiaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZyIsInJv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QW9CbkIsRUFBT0QsS0EvSjVDLGtCQUFDNEQsRUFBQSxFQUFELENBQ0kzRSxLQUFNQyxJQUNOYyxLQUFNQyxFQUFPRCxLQUNiekMsbUJBQW9Cb0UsRUFDcEJuRSxZQUFheUMsRUFBT3pDLFlBQ3BCQyxLQUFNUyxJQUNOUCxVQUFXc0MsRUFBT3RDLFlBeUpxRCIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcbmltcG9ydCB7IGdldFVuaWZpZWRDb25maWdzIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IGdldEJ1aWxkRGlyUGF0aCB9IGZyb20gJy4uL3V0aWwvc2NyaXB0JztcblxuY2xhc3MgQ3VzdG9tTWVudSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zaG91bGRSZW5kZXIgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBnbG9iYWxDb25maWcgPSBnZXRVbmlmaWVkQ29uZmlncygpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5sb2FkQ3VzdG9tTWVudSgpLnRoZW4oKENvbnRyb2wpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUNvbnRyb2wgPSBuZXcgQ29udHJvbChnbG9iYWxDb25maWcsIHRoaXMuZWwsIHRoaXMuc2V0VmFsdWUpO1xuICAgICAgICAgICAgY3VzdG9tQ29udHJvbC5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgIGlmICghbmV4dFN0YXRlLmxvYWRpbmcgJiYgdGhpcy5zaG91bGRSZW5kZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkUmVuZGVyID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc2V0VmFsdWUgPSAobmV3VmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2UobmV3VmFsdWUpO1xuICAgIH07XG5cbiAgICBsb2FkQ3VzdG9tTWVudSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy50eXBlID09PSAnZXh0ZXJuYWwnKSB7XG4gICAgICAgICAgICAgICAgaW1wb3J0KFxuICAgICAgICAgICAgICAgICAgICAvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIGAke2dldEJ1aWxkRGlyUGF0aCgpfS9jdXN0b20vJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZmlsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgfS5qc2BcbiAgICAgICAgICAgICAgICApLnRoZW4oKGV4dGVybmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IENvbnRyb2wgPSBleHRlcm5hbC5kZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKENvbnRyb2wpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxDb25maWcgPSBnZXRVbmlmaWVkQ29uZmlncygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcE5hbWUgPSBnbG9iYWxDb25maWcubWV0YS5uYW1lO1xuICAgICAgICAgICAgICAgIF9fbm9uX3dlYnBhY2tfcmVxdWlyZV9fKFxuICAgICAgICAgICAgICAgICAgICBbYGFwcC8ke2FwcE5hbWV9L2pzL2J1aWxkL2N1c3RvbS8ke3RoaXMucHJvcHMuZmlsZU5hbWV9YF0sXG4gICAgICAgICAgICAgICAgICAgIChDb250cm9sKSA9PiByZXNvbHZlKENvbnRyb2wpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubG9hZGluZyAmJiBfKCdMb2FkaW5nLi4uJyl9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsoZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgdmlzaWJpbGl0eTogdGhpcy5zdGF0ZS5sb2FkaW5nID8gJ2hpZGRlbicgOiAndmlzaWJsZScgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkN1c3RvbU1lbnUucHJvcFR5cGVzID0ge1xuICAgIGZpbGVOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgdHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBoYW5kbGVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VzdG9tTWVudTtcbiIsImltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0J1dHRvbic7XG5pbXBvcnQgTGluayBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0xpbmsnO1xuaW1wb3J0IFdhaXRTcGlubmVyIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvV2FpdFNwaW5uZXInO1xuaW1wb3J0IENvbHVtbkxheW91dCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0NvbHVtbkxheW91dCc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcbmltcG9ydCB7IHVzZVNwbHVua1RoZW1lIH0gZnJvbSAnQHNwbHVuay90aGVtZXMnO1xuXG5pbXBvcnQgeyBNT0RFX0NMT05FLCBNT0RFX0NSRUFURSwgTU9ERV9FRElUIH0gZnJvbSAnLi4vY29uc3RhbnRzL21vZGVzJztcbmltcG9ydCB7IFBBR0VfSU5QVVQgfSBmcm9tICcuLi9jb25zdGFudHMvcGFnZXMnO1xuaW1wb3J0IEJhc2VGb3JtVmlldyBmcm9tICcuL0Jhc2VGb3JtVmlldyc7XG5pbXBvcnQgeyBTdWJUaXRsZUNvbXBvbmVudCB9IGZyb20gJy4uL3BhZ2VzL0lucHV0L0lucHV0UGFnZVN0eWxlJztcblxuZnVuY3Rpb24gRW50aXR5UGFnZSh7IGhhbmRsZVJlcXVlc3RDbG9zZSwgc2VydmljZU5hbWUsIG1vZGUsIHN0YW56YU5hbWUsIGZvcm1MYWJlbCB9KSB7XG4gICAgLy8gUmVmIGlzIHVzZWQgaGVyZSB0byBjYWxsIHN1Ym1pdCBtZXRob2Qgb2YgZm9ybSBvbmx5XG4gICAgY29uc3QgZm9ybSA9IHVzZVJlZigpOyAvLyBub3NlbWdyZXA6IHR5cGVzY3JpcHQucmVhY3Quc2VjdXJpdHkuYXVkaXQucmVhY3Qtbm8tcmVmcy5yZWFjdC1uby1yZWZzXG4gICAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBsZXQgYnV0dG9uVGV4dCA9IF8oJ1N1Ym1pdCcpO1xuXG4gICAgaWYgKG1vZGUgPT09IE1PREVfQ1JFQVRFKSB7XG4gICAgICAgIGJ1dHRvblRleHQgPSBfKCdBZGQnKTtcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09IE1PREVfQ0xPTkUpIHtcbiAgICAgICAgYnV0dG9uVGV4dCA9IF8oJ0Nsb25lIElucHV0Jyk7XG4gICAgfSBlbHNlIGlmIChtb2RlID09PSBNT0RFX0VESVQpIHtcbiAgICAgICAgYnV0dG9uVGV4dCA9IF8oJ1VwZGF0ZScpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZW1ib3NzU2hhZG93IH0gPSB1c2VTcGx1bmtUaGVtZSgpO1xuICAgIGNvbnN0IGNvbFN0eWxlID0ge1xuICAgICAgICBib3hTaGFkb3c6IGVtYm9zc1NoYWRvdyxcbiAgICAgICAgcGFkZGluZzogJzElJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGZvcm0uY3VycmVudC5oYW5kbGVTdWJtaXQoKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgaGFuZGxlUmVxdWVzdENsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRm9ybVN1Ym1pdCA9IChzZXQsIGNsb3NlKSA9PiB7XG4gICAgICAgIHNldElzU3VibWl0dGluZyhzZXQpO1xuICAgICAgICBpZiAoY2xvc2UpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RDbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Q29sdW1uTGF5b3V0IGd1dHRlcj17OH0+XG4gICAgICAgICAgICA8Q29sdW1uTGF5b3V0LlJvdyBzdHlsZT17eyBwYWRkaW5nOiAnNXB4IDBweCcgfX0+XG4gICAgICAgICAgICAgICAgPENvbHVtbkxheW91dC5Db2x1bW4+XG4gICAgICAgICAgICAgICAgICAgIDxTdWJUaXRsZUNvbXBvbmVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIG9uQ2xpY2s9e2hhbmRsZVJlcXVlc3RDbG9zZX0+e18oJ0lucHV0cycpfTwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsnID4gJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtfKGZvcm1MYWJlbCl9XG4gICAgICAgICAgICAgICAgICAgIDwvU3ViVGl0bGVDb21wb25lbnQ+XG4gICAgICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuQ29sdW1uPlxuICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuUm93PlxuICAgICAgICAgICAgPENvbHVtbkxheW91dC5Sb3c+XG4gICAgICAgICAgICAgICAgPENvbHVtbkxheW91dC5Db2x1bW4gc3Bhbj17Mn0gLz5cbiAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0LkNvbHVtbiBzcGFuPXs4fSBzdHlsZT17Y29sU3R5bGV9PlxuICAgICAgICAgICAgICAgICAgICA8QmFzZUZvcm1WaWV3IC8vIG5vc2VtZ3JlcDogdHlwZXNjcmlwdC5yZWFjdC5zZWN1cml0eS5hdWRpdC5yZWFjdC1uby1yZWZzLnJlYWN0LW5vLXJlZnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17Zm9ybX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U9e1BBR0VfSU5QVVR9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZT17c2VydmljZU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlPXttb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbnphTmFtZT17c3RhbnphTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUZvcm1TdWJtaXQ9e2hhbmRsZUZvcm1TdWJtaXR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuQ29sdW1uPlxuICAgICAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuQ29sdW1uIHNwYW49ezJ9IC8+XG4gICAgICAgICAgICA8L0NvbHVtbkxheW91dC5Sb3c+XG4gICAgICAgICAgICA8Q29sdW1uTGF5b3V0LlJvdz5cbiAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0LkNvbHVtbiBzcGFuPXs3fSAvPlxuICAgICAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuQ29sdW1uIHNwYW49ezN9IHN0eWxlPXt7IHRleHRBbGlnbjogJ3JpZ2h0JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXF1ZXN0Q2xvc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17XygnQ2FuY2VsJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17aXNTdWJtaXR0aW5nID8gPFdhaXRTcGlubmVyIC8+IDogYnV0dG9uVGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Db2x1bW5MYXlvdXQuQ29sdW1uPlxuICAgICAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuQ29sdW1uIHNwYW49ezJ9IC8+XG4gICAgICAgICAgICA8L0NvbHVtbkxheW91dC5Sb3c+XG4gICAgICAgIDwvQ29sdW1uTGF5b3V0PlxuICAgICk7XG59XG5cbkVudGl0eVBhZ2UucHJvcFR5cGVzID0ge1xuICAgIGhhbmRsZVJlcXVlc3RDbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2VydmljZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbW9kZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzdGFuemFOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGZvcm1MYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oRW50aXR5UGFnZSk7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuaW1wb3J0IENvbHVtbkxheW91dCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0NvbHVtbkxheW91dCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvQnV0dG9uJztcbmltcG9ydCBEcm9wZG93biBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0Ryb3Bkb3duJztcbmltcG9ydCBNZW51IGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvTWVudSc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBUb2FzdE1lc3NhZ2VzIGZyb20gJ0BzcGx1bmsvcmVhY3QtdG9hc3Qtbm90aWZpY2F0aW9ucy9Ub2FzdE1lc3NhZ2VzJztcbmltcG9ydCB7IF8gfSBmcm9tICdAc3BsdW5rL3VpLXV0aWxzL2kxOG4nO1xuaW1wb3J0IHsgZ2V0Rm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJy4uLy4uL3V0aWwvbWVzc2FnZVV0aWwnO1xuaW1wb3J0IHsgZ2V0VW5pZmllZENvbmZpZ3MgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgVGl0bGVDb21wb25lbnQsIFN1YlRpdGxlQ29tcG9uZW50IH0gZnJvbSAnLi9JbnB1dFBhZ2VTdHlsZSc7XG5pbXBvcnQgeyBUYWJsZUNvbnRleHRQcm92aWRlciB9IGZyb20gJy4uLy4uL2NvbnRleHQvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IE1PREVfQ1JFQVRFLCBNT0RFX0NMT05FLCBNT0RFX0VESVQgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvbW9kZXMnO1xuaW1wb3J0IHsgUEFHRV9JTlBVVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wYWdlcyc7XG5pbXBvcnQgeyBTVFlMRV9QQUdFIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2RpYWxvZ1N0eWxlcyc7XG5pbXBvcnQgQ3VzdG9tTWVudSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0N1c3RvbU1lbnUnO1xuaW1wb3J0IFRhYmxlV3JhcHBlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL3RhYmxlL1RhYmxlV3JhcHBlcic7XG5pbXBvcnQgRW50aXR5TW9kYWwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9FbnRpdHlNb2RhbCc7XG5pbXBvcnQgRXJyb3JCb3VuZGFyeSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0Vycm9yQm91bmRhcnknO1xuaW1wb3J0IEVudGl0eVBhZ2UgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9FbnRpdHlQYWdlJztcbmltcG9ydCB1c2VRdWVyeSBmcm9tICcuLi8uLi9ob29rcy91c2VRdWVyeSc7XG5cbmNvbnN0IFJvdyA9IHN0eWxlZChDb2x1bW5MYXlvdXQuUm93KWBcbiAgICBwYWRkaW5nOiA1cHggMHB4O1xuXG4gICAgLmRyb3Bkb3duIHtcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgfVxuXG4gICAgLmlucHV0X2J1dHRvbiB7XG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgICB9XG5gO1xuXG5mdW5jdGlvbiBJbnB1dFBhZ2UoKSB7XG4gICAgY29uc3QgW2VudGl0eSwgc2V0RW50aXR5XSA9IHVzZVN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG5cbiAgICBjb25zdCB1bmlmaWVkQ29uZmlncyA9IGdldFVuaWZpZWRDb25maWdzKCk7XG4gICAgY29uc3QgeyBzZXJ2aWNlcywgdGl0bGUsIGRlc2NyaXB0aW9uLCBtZW51OiBjdXN0b21NZW51RmllbGQgfSA9IHVuaWZpZWRDb25maWdzLnBhZ2VzLmlucHV0cztcbiAgICBjb25zdCB0b2dnbGUgPSAoXG4gICAgICAgIDxCdXR0b24gYXBwZWFyYW5jZT1cInByaW1hcnlcIiBpZD1cImFkZElucHV0QnRuXCIgbGFiZWw9e18oJ0NyZWF0ZSBOZXcgSW5wdXQnKX0gaXNNZW51IC8+XG4gICAgKTtcbiAgICBjb25zdCBQRVJNSVRURURfTU9ERVMgPSBbTU9ERV9DTE9ORSwgTU9ERV9DUkVBVEUsIE1PREVfRURJVF07XG5cbiAgICBjb25zdCBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gdXNlUXVlcnkoKTtcblxuICAgIGNvbnN0IGdldElucHV0TWVudSA9ICgpID0+IHtcbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBhcnIgPSBzZXJ2aWNlcy5tYXAoKHNlcnZpY2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8TWVudS5JdGVtIGtleT17c2VydmljZS5uYW1lfT57c2VydmljZS50aXRsZX08L01lbnUuSXRlbT47XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH07XG5cbiAgICAvLyBoYW5kbGUgbW9kYWwvcGFnZSBvcGVuIHJlcXVlc3Qgb24gY3JlYXRlL2FkZCBlbnRpdHkgYnV0dG9uXG4gICAgY29uc3QgaGFuZGxlUmVxdWVzdE9wZW4gPSAoc2VydmljZU5hbWUsIHNlcnZpY2VUaXRsZSkgPT4ge1xuICAgICAgICBjb25zdCBpc0lucHV0UGFnZVN0eWxlID0gc2VydmljZXMuZmluZCgoeCkgPT4geC5uYW1lID09PSBzZXJ2aWNlTmFtZSkuc3R5bGUgPT09IFNUWUxFX1BBR0U7XG5cbiAgICAgICAgc2V0RW50aXR5KHtcbiAgICAgICAgICAgIC4uLmVudGl0eSxcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBzZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgIG1vZGU6IE1PREVfQ1JFQVRFLFxuICAgICAgICAgICAgZm9ybUxhYmVsOiBgQWRkICR7c2VydmljZVRpdGxlfWAsXG4gICAgICAgICAgICBpc0lucHV0UGFnZVN0eWxlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzSW5wdXRQYWdlU3R5bGUpIHtcbiAgICAgICAgICAgIC8vIHNldCBxdWVyeSBhbmQgcHVzaCB0byBoaXN0b3J5XG4gICAgICAgICAgICBxdWVyeS5zZXQoJ3NlcnZpY2UnLCBzZXJ2aWNlTmFtZSk7XG4gICAgICAgICAgICBxdWVyeS5zZXQoJ2FjdGlvbicsIE1PREVfQ1JFQVRFKTtcbiAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7IHNlYXJjaDogcXVlcnkudG9TdHJpbmcoKSB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBoYW5kbGUgY2xvc2UvY2FuY2VsL2JhY2sgcmVxdWVzdCBpbiBhZGQvY3JlYXRlIG1vZGFsIGNvbXBvbmVudFxuICAgIGNvbnN0IGhhbmRsZU1vZGFsRGlhbG9nQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldEVudGl0eSh7IC4uLmVudGl0eSwgb3BlbjogZmFsc2UgfSk7XG4gICAgfTtcblxuICAgIC8vIGdlbmVyYXRlIG1vZGFsIHN0eWxlIGRpYWxvZ1xuICAgIGNvbnN0IGdlbmVyYXRlTW9kYWxEaWFsb2cgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8RW50aXR5TW9kYWxcbiAgICAgICAgICAgICAgICBwYWdlPXtQQUdFX0lOUFVUfVxuICAgICAgICAgICAgICAgIG9wZW49e2VudGl0eS5vcGVufVxuICAgICAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RDbG9zZT17aGFuZGxlTW9kYWxEaWFsb2dDbG9zZX1cbiAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZT17ZW50aXR5LnNlcnZpY2VOYW1lfVxuICAgICAgICAgICAgICAgIG1vZGU9e01PREVfQ1JFQVRFfVxuICAgICAgICAgICAgICAgIGZvcm1MYWJlbD17ZW50aXR5LmZvcm1MYWJlbH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8vIGhhbmRsZSBjbG9uZS9lZGl0IHJlcXVlc3QgcGVyIHJvdyBmcm9tIHRhYmxlIGZvciBwYWdlIHN0eWxlIGRpYWxvZ1xuICAgIGNvbnN0IGhhbmRsZU9wZW5QYWdlU3R5bGVEaWFsb2cgPSAocm93LCBtb2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gc2VydmljZXMuZmluZCgoeCkgPT4geC5uYW1lID09PSByb3cuc2VydmljZU5hbWUpPy50aXRsZTtcbiAgICAgICAgc2V0RW50aXR5KHtcbiAgICAgICAgICAgIC4uLmVudGl0eSxcbiAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICBpc0lucHV0UGFnZVN0eWxlOiB0cnVlLFxuICAgICAgICAgICAgc2VydmljZU5hbWU6IHJvdy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgIHN0YW56YU5hbWU6IHJvdy5uYW1lLFxuICAgICAgICAgICAgZm9ybUxhYmVsOiBtb2RlID09PSBNT0RFX0NMT05FID8gYENsb25lICR7bGFiZWx9YCA6IGBVcGRhdGUgJHtsYWJlbH1gLFxuICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNldCBxdWVyeSBhbmQgcHVzaCB0byBoaXN0b3J5XG4gICAgICAgIHF1ZXJ5LnNldCgnc2VydmljZScsIHJvdy5zZXJ2aWNlTmFtZSk7XG4gICAgICAgIHF1ZXJ5LnNldCgnYWN0aW9uJywgbW9kZSk7XG4gICAgICAgIGhpc3RvcnkucHVzaCh7IHNlYXJjaDogcXVlcnkudG9TdHJpbmcoKSB9KTtcbiAgICB9O1xuXG4gICAgLy8gaGFuZGxlIGNsb3NlIHJlcXVlc3QgZm9yIHBhZ2Ugc3R5bGUgZGlhbG9nXG4gICAgY29uc3QgaGFuZGxlUGFnZURpYWxvZ0Nsb3NlID0gKCkgPT4ge1xuICAgICAgICBzZXRFbnRpdHkoeyAuLi5lbnRpdHksIG9wZW46IGZhbHNlIH0pO1xuICAgICAgICBxdWVyeS5kZWxldGUoJ3NlcnZpY2UnKTtcbiAgICAgICAgcXVlcnkuZGVsZXRlKCdhY3Rpb24nKTtcbiAgICAgICAgaGlzdG9yeS5wdXNoKHsgc2VhcmNoOiBxdWVyeS50b1N0cmluZygpIH0pO1xuICAgIH07XG5cbiAgICAvLyBnZW5lcmF0ZSBwYWdlIHN0eWxlIGRpYWxvZ1xuICAgIGNvbnN0IGdlbmVyYXRlUGFnZURpYWxvZyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxFbnRpdHlQYWdlXG4gICAgICAgICAgICAgICAgb3Blbj17ZW50aXR5Lm9wZW59XG4gICAgICAgICAgICAgICAgaGFuZGxlUmVxdWVzdENsb3NlPXtoYW5kbGVQYWdlRGlhbG9nQ2xvc2V9XG4gICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e2VudGl0eS5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgICBzdGFuemFOYW1lPXtlbnRpdHkuc3RhbnphTmFtZX1cbiAgICAgICAgICAgICAgICBtb2RlPXtlbnRpdHkubW9kZX1cbiAgICAgICAgICAgICAgICBmb3JtTGFiZWw9e2VudGl0eS5mb3JtTGFiZWx9XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBzZXJ2aWNlID0gc2VydmljZXMuZmluZCgoeCkgPT4geC5uYW1lID09PSBxdWVyeS5nZXQoJ3NlcnZpY2UnKSk7XG4gICAgICAgIC8vIFJ1biBvbmx5IHdoZW4gc2VydmljZSBhbmQgYWN0aW9uL21vZGUgaXMgdmFsaWQgYW5kIG1vZGFsL3BhZ2UgaXMgbm90IG9wZW5cbiAgICAgICAgaWYgKHF1ZXJ5ICYmIHNlcnZpY2UgJiYgUEVSTUlUVEVEX01PREVTLmluY2x1ZGVzKHF1ZXJ5LmdldCgnYWN0aW9uJykpICYmICFlbnRpdHkub3Blbikge1xuICAgICAgICAgICAgLy8gcnVuIHdoZW4gbW9kZSBpcyBub3QgY3JlYXRlIGFuZCBwcmV2aW91cyBzdGF0ZSBpbmZvIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKHF1ZXJ5LmdldCgnYWN0aW9uJykgIT09IE1PREVfQ1JFQVRFICYmIGVudGl0eS5zdGFuemFOYW1lKSB7XG4gICAgICAgICAgICAgICAgc2V0RW50aXR5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpc0lucHV0UGFnZVN0eWxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogcXVlcnkuZ2V0KCdzZXJ2aWNlJyksXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHF1ZXJ5LmdldCgnYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGlmIHByZXZpb3VzIHN0YXRlIGluZm8gaXMgbm90IGF2YWlsYWJsZSB0aGVuIGRlZmF1bHQgdG8gY3JlYXRlIG1vZGVcbiAgICAgICAgICAgICAgICBzZXRFbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICAuLi5lbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGlzSW5wdXRQYWdlU3R5bGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBxdWVyeS5nZXQoJ3NlcnZpY2UnKSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybUxhYmVsOiBgQ3JlYXRlICR7c2VydmljZT8udGl0bGV9YCxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogTU9ERV9DUkVBVEUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAoIXF1ZXJ5LmdldCgnc2VydmljZScpIHx8ICFxdWVyeS5nZXQoJ2FjdGlvbicpKSAmJlxuICAgICAgICAgICAgZW50aXR5Lm9wZW4gJiZcbiAgICAgICAgICAgIGVudGl0eS5pc0lucHV0UGFnZVN0eWxlXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gQ2xvc2UgcGFnZSB3aGVuIGFueSBvZiB0aGUgcmVxdWlyZWQgcXVlcnkgcGFyYW1zIGFyZSBub3QgcHJvdmlkZWRcbiAgICAgICAgICAgIHNldEVudGl0eSh7IC4uLmVudGl0eSwgb3BlbjogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIH0sIFtoaXN0b3J5LmxvY2F0aW9uLnNlYXJjaF0pO1xuXG4gICAgY29uc3QgY2hhbmdlUm91dGUgPSAodmFsKSA9PiB7XG4gICAgICAgIE9iamVjdC5rZXlzKHZhbCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBxdWVyeS5zZXQoa2V5LCB2YWxba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5LnB1c2goeyBzZWFyY2g6IHF1ZXJ5LnRvU3RyaW5nKCkgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgPFRhYmxlQ29udGV4dFByb3ZpZGVyIHZhbHVlPXtudWxsfT5cbiAgICAgICAgICAgICAgICB7ZW50aXR5LmlzSW5wdXRQYWdlU3R5bGUgJiYgZW50aXR5Lm9wZW4gPyBnZW5lcmF0ZVBhZ2VEaWFsb2coKSA6IG51bGx9eycgJ31cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5pc0lucHV0UGFnZVN0eWxlICYmIGVudGl0eS5vcGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGRpc3BsYXk6ICdub25lJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7IGRpc3BsYXk6ICdibG9jaycgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0IGd1dHRlcj17OH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuQ29sdW1uIHNwYW49ezl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGl0bGVDb21wb25lbnQ+e18odGl0bGUpfTwvVGl0bGVDb21wb25lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTdWJUaXRsZUNvbXBvbmVudD57XyhkZXNjcmlwdGlvbiB8fCAnJyl9PC9TdWJUaXRsZUNvbXBvbmVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbHVtbkxheW91dC5Db2x1bW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2VzICYmIHNlcnZpY2VzLmxlbmd0aCA+IDEgJiYgIWN1c3RvbU1lbnVGaWVsZD8uc3JjICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbHVtbkxheW91dC5Db2x1bW4gY2xhc3NOYW1lPVwiZHJvcGRvd25cIiBzcGFuPXszfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93biB0b2dnbGU9e3RvZ2dsZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5kbmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXNbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh4KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgudGl0bGUgPT09IGV2ZW50LnRhcmdldC5pbm5lclRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RPcGVuKGZpbmRuYW1lLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRJbnB1dE1lbnUoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01lbnU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbHVtbkxheW91dC5Db2x1bW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljZXMgJiYgc2VydmljZXMubGVuZ3RoID09PSAxICYmICFjdXN0b21NZW51RmllbGQ/LnNyYyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5MYXlvdXQuQ29sdW1uIHNwYW49ezN9IGNsYXNzTmFtZT1cImlucHV0X2J1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXRGb3JtYXR0ZWRNZXNzYWdlKDEwMCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiYWRkSW5wdXRCdG5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVxdWVzdE9wZW4oc2VydmljZXNbMF0ubmFtZSwgc2VydmljZXNbMF0udGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbHVtbkxheW91dC5Db2x1bW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VzdG9tTWVudUZpZWxkPy5zcmMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sdW1uTGF5b3V0LkNvbHVtbiBzcGFuPXszfSBjbGFzc05hbWU9XCJpbnB1dF9idXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtSZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbU1lbnUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogY3VzdG9tTWVudUZpZWxkLnNyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXN0b21NZW51RmllbGQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2U6IGNoYW5nZVJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sdW1uTGF5b3V0LkNvbHVtbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgIDwvQ29sdW1uTGF5b3V0PlxuXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZVdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U9e1BBR0VfSU5QVVR9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVPcGVuUGFnZVN0eWxlRGlhbG9nPXtoYW5kbGVPcGVuUGFnZVN0eWxlRGlhbG9nfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8VG9hc3RNZXNzYWdlcyBwb3NpdGlvbj1cInRvcC1yaWdodFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIHshZW50aXR5LmlzSW5wdXRQYWdlU3R5bGUgJiYgZW50aXR5Lm9wZW4gPyBnZW5lcmF0ZU1vZGFsRGlhbG9nKCkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9UYWJsZUNvbnRleHRQcm92aWRlcj5cbiAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IElucHV0UGFnZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=