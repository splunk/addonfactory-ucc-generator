<form script="{{addon_name}}:tabs.js" stylesheet="{{addon_name}}:tabs.css" version="1.1">
    <label>Monitoring Dashboard</label>
    <fieldset submitButton="false">
        <input id="myOverviewInput" type="time" token="log_time">
            <label>Overview</label>
            <default>
                <earliest>-7d</earliest>
                <latest>now</latest>
            </default>
        </input>
    </fieldset>
    <row>
        <panel>
            <title>Data ingestion</title>
            <chart>
                <search>
                    <query>{{ data_ingestion }}</query>
                    <earliest>$log_time.earliest$</earliest>
                    <latest>$log_time.latest$</latest>
                </search>
                <option name="charting.chart">column</option>
                <option name="charting.axisTitleY.text">Volume[GB]</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
        <panel>
            <title>Errors</title>
            <chart>
                <search>
                    <query>{{ errors_chart }}</query>
                    <earliest>$log_time.earliest$</earliest>
                    <latest>$log_time.latest$</latest>
                </search>
                <option name="charting.chart">line</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
    </row>
    <row id="tabs">
        <panel>
            <html>
                <ul id="tabs" class="nav nav-tabs">
                    <li class="active">
                        <a href="#" class="toggle-tab" data-toggle="tab"
                           data-elements="input2,tab_data_ingestion,tab_data_ingestion_table,row_table">Data
                            ingestion
                        </a>
                    </li>
                    <li>
                        <a href="#" class="toggle-tab" data-toggle="tab" data-elements="tab_errors">
                            Errors
                        </a>
                    </li>
                </ul>
            </html>
        </panel>
    </row>
    <row id="input2">
        <panel>
            <input id="myOverviewInput2" type="time" token="log_time2">
                <label>Data ingestion</label>
                <default>
                    <earliest>-7d</earliest>
                    <latest>now</latest>
                </default>
            </input>
        </panel>
    </row>
    <row id="tab_data_ingestion">
        <panel>
            <title>Data volume</title>
            <chart>
                <search>
                    <query>{{ data_ingestion }}</query>
                    <earliest>$log_time2.earliest$</earliest>
                    <latest>$log_time2.latest$</latest>
                </search>
                <option name="charting.chart">line</option>
                <option name="charting.axisTitleY.text">Volume[GB]</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
        <panel>
            <title>Events count</title>
            <chart>
                <search>
                    <query>{{ events_count }}</query>
                    <earliest>$log_time2.earliest$</earliest>
                    <latest>$log_time2.latest$</latest>
                </search>
                <option name="charting.chart">line</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
    </row>
    <row id="row_table">
        <panel>
            <input id="myOverviewInput3" type="dropdown" token="droptablevalue">
                <label>View by</label>
            <default>Source type</default>
            <choice value='{{ table1 }}'>Source type</choice>
            <choice value='{{ table2 }}'>Source</choice>
            </input>
        </panel>
    </row>
    <row id="tab_data_ingestion_table">
        <panel>
            <table>
                <search>
                    <query>$droptablevalue$</query>
                    <earliest>-24h@h</earliest>
                    <latest>now</latest>
                </search>
                <option name="count">3</option>
                <format type="sparkline" field="trend">
                    <option name="type">bar</option>
                    <option name="height">40</option>
                    <option name="type">line</option>
                    <option name="colorMap">
                        <option name="2000:">#5379AF</option>
                        <option name=":1999">#9ac23c</option>
                    </option>
                    <option name="barWidth">5px</option>
                </format>
            </table>
        </panel>
    </row>
    <row id="tab_errors">
        <panel>
            <title>Errors in the add-on</title>
            <event>
                <search>
                    <query>{{ q3 }}</query>
                    <earliest>$log_time2.earliest$</earliest>
                    <latest>$log_time2.latest$</latest>
                </search>
                <option name="list.drilldown">none</option>
                <option name="maxLines">10</option>
                <option name="raw.drilldown">none</option>
                <option name="refresh.display">progressbar</option>
                <option name="rowNumbers">0</option>
                <option name="type">list</option>
            </event>
        </panel>
    </row>
</form>