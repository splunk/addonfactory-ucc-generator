<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie  lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 lt-ie9"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="listen to your data" />
    <meta name="author" content="Splunk Inc." />
    <meta name="viewport" content="width=1024, initial-scale=1.0" />
    <script type="text/json" id="splunkd-partials">
    //INSERT_VARS
    </script>
    <script>
        if(typeof JSON!=='object'){JSON={};}(function(){'use strict';function f(n){return n<10?'0'+n:n;}if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};}var cx,escapable,gap,indent,meta,rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}if(typeof rep==='function'){value=rep.call(holder,key,value);}switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}if(typeof JSON.stringify!=='function'){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}return str('',{'':value});};}if(typeof JSON.parse!=='function'){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}throw new SyntaxError('JSON.parse');};}}());        var __splunkd_partials__ = JSON.parse(document.getElementById('splunkd-partials').innerHTML);
        //HTML helpers
        var script = function(attributes) {
            var container = document.createElement('div'),
                content = document.createElement('script');
            content.setAttribute('type', 'text/template');
            for (var attribute in attributes) {
                if (attributes.hasOwnProperty(attribute) && attribute!=='text/javascript') {
                    if (attribute==='innerText') {
                        content.innerHTML = attributes[attribute];
                    } else {
                        content.setAttribute(attribute, attributes[attribute]);
                    }
                }
            }
            container.appendChild(content)
            return container.innerHTML.replace(/ type=["]?text\/template["]?/, '');
        }
        //URI route functions
        var baseRoute = function(path) {
            var url = '',
                rootEndpoint  = __splunkd_partials__['/configs/conf-web'].entry[0].content.root_endpoint || '';
            //strip leading '/'
            rootEndpoint = rootEndpoint.replace(/\/^/, '');
            //strip trailing '/'
            rootEndpoint = rootEndpoint.replace(/\/$/, '');
            if (rootEndpoint) {
                url = '/' + rootEndpoint;
            }
            return url + '/' + encodeURIComponent(__splunkd_partials__['/services/session'].entry[0].content.lang) +  path
        };
        var staticRoute = function(path) {
            var bump = __splunkd_partials__['/services/session'].entry[0].content.bump,
                buildBump = '@' + __splunkd_partials__['/services/server/info'].entry[0].content.staticAssetId;
            if (bump) {
                buildBump += '.' + bump;
            }
            return baseRoute('/static/' + buildBump + path);
        };
        //page/handler
        var rootPath = baseRoute('');
        var pathArray = window.location.pathname.substring(rootPath.length+1).split('/');
        var page='';

        //login, logout and password_change share a single page router (account) and do not support non-minified mode
        if (pathArray[0].toLowerCase() === 'account') {
            if(pathArray[1].toLowerCase() === 'status'){
                page = 'accountstatus';
            }else{
                page = 'account';
                __splunkd_partials__['/configs/conf-web'].entry[0].content.minify_css = true;
            }
        } else {
            page = pathArray[1];
        }
        //DOM manipulation
        document.documentElement.setAttribute('lang', __splunkd_partials__['/services/session'].entry[0].content.lang);
    </script>
    <script>
       var product_type = __splunkd_partials__['/services/server/info'].entry[0].content.product_type,
           customFavicon = __splunkd_partials__['/configs/conf-web'].entry[0].content.customFavicon,
           splunkCssTheme='enterprise',
           faviconFile = '/img/';
       if (!customFavicon) {
           if (product_type == 'hunk') {
               faviconFile += 'favicon_hunk.ico';
           } else if (product_type.indexOf('lite') != -1) {
               faviconFile += 'favicon_lite.ico';
               splunkCssTheme = 'lite';
           } else {
               faviconFile += 'favicon.ico';
           }
       } else {
           faviconFile = '/app/';
           if (customFavicon.indexOf(":") != -1) {
               faviconFile += customFavicon.substring(0,customFavicon.indexOf(":"));
               faviconFile += '/';
               faviconFile += customFavicon.substring(customFavicon.indexOf(":")+1);
           } else {
               faviconFile += 'search/';
               faviconFile += customFavicon;
           }
       }
       document.write('<link rel="shortcut icon" href="' + staticRoute(faviconFile) + '" />');
       document.write('<link rel="apple-touch-icon-precomposed" sizes="57x57" href="' + staticRoute('/img/bookmark/apple-icon-57x57-precomposed.png')  + '" />');
       document.write('<link rel="apple-touch-icon-precomposed" sizes="72x72" href="' + staticRoute('/img/bookmark/apple-icon-72x72-precomposed.png')  + '" />');
       document.write('<link rel="apple-touch-icon-precomposed" sizes="114x114" href="' + staticRoute('/img/bookmark/apple-icon-114x114-precomposed.png')  + '" />');
       document.write('<link rel="apple-touch-icon-precomposed" sizes="144x144" href="' + staticRoute('/img/bookmark/apple-icon-144x144-precomposed.png') + '" />');
       document.write('<meta name="msapplication-TileColor" content="#65A637">');
       document.write('<meta name="msapplication-TileImage" content="' + staticRoute('/img/bookmark/ms-tileicon-144x144.png') + '">');
       var page_css = page.replace(/_/g,'-');
       document.write('<link rel="stylesheet" type="text/css" href="' + staticRoute('/build/css/bootstrap-' + splunkCssTheme + '.css') + '" />');
    </script>
</head>
<body>
    <!-- live to code, code to live... -->
    <div id="browser-not-supported" style="display:none;"></div>
    <script>
          document.body.className = (__splunkd_partials__['/services/server/info'].entry[0].content.product_type.indexOf('lite')!=-1) ? 'lite' : __splunkd_partials__['/services/server/info'].entry[0].content.product_type;
          document.write(script({src: baseRoute('/config?autoload=1')}));
          document.write(script({src: staticRoute('/js/i18n.js')}));

          // Before bootstrapping the page, add an error event listener. If we cannot bootstrap the
          // page, display the browser not supported message.
          var oldWindowOnError = window.onerror;
          window.onerror = function() {
              if (oldWindowOnError) {
                  oldWindowOnError.apply(null, arguments);
              }
              var notSupportedEl = document.getElementById('browser-not-supported');
              // NOTE: The following translations must be duplicated in routers/Account.js in order to work correctly.
              // If you make changes to these strings, also update their counterpart in Account.js.
              notSupportedEl.innerHTML = ([
                  '<p>',
                  gettext('This browser is not supported by Splunk.'),
                  '<br />',
                  gettext('Please refer to the list of %s.').replace('%s', '<a href="#">' + gettext('Supported Browsers') + '</a>'),
                  '</p>'
              ]).join('');
              var docLinkEl = notSupportedEl.getElementsByTagName('a')[0];
              docLinkEl.href = baseRoute('/help?location=learnmore.systemrequirements');
              notSupportedEl.style.display = 'block';
          }
          if (product_type.indexOf('lite') !== -1) {
              document.write(script({src: staticRoute('/build/pages/lite/common.js')}));
              document.write(script({src: staticRoute('/build/pages/lite/' + page + '.js')}));
          } else {
              document.write(script({src: staticRoute('/build/pages/enterprise/common.js')}));
              document.write(script({src: staticRoute('/build/pages/enterprise/' + page + '.js')}));
          }
    </script>
    <script>
        // Remove the error handler added at the begining of bootrappinng.
        window.onerror = oldWindowOnError;
    </script>
    <noscript>
         <p>Splunk relies on JavaScript to function properly.<br>Please enable JavaScript and then refresh the page to login.</p>
    </noscript>
</body>
</html>
