import{j as v}from"./jsx-runtime-1FKYbnEZ.js";import{b as Le,r as j}from"./index-prPvd6Su.js";import{P as ze}from"./index-BbiZmkAC.js";import{M as R,D as Ve}from"./Menu-D7dHzYG8.js";import{g as he}from"./_commonjsHelpers-CE1G-McA.js";import{b as We,a as Ge,e as He}from"./Box-CA7p2Imy.js";import{r as Ke}from"./Clickable-vbs6x6a2.js";import{d as Je,r as Qe,q as Xe}from"./omit-UcH284-_.js";import{r as Ye}from"./ChevronLeft-BwYkVmJI.js";import{i as Ze,g as et}from"./messageUtil-CvmCOD_s.js";import{v as de}from"./variables-BJ06o7R7.js";import{g as tt,i as ve}from"./util-BVaVe7dF.js";import{a as nt}from"./PageContext-DhAckcxo.js";import{s as rt}from"./pageContext-DllO6PNg.js";import{U as ye}from"./UCCButton-IGhfY3sr.js";var ne={exports:{}},ge;function ot(){return ge||(ge=1,(()=>{var l={};l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var E={};l.r(E),l.d(E,{Panel:()=>f,default:()=>Re});const s=Le();var I=l.n(s);const M=We(),z=Ke();var o=l.n(z);const k=Ge(),D=Je;var _=l.n(D);const U=He();var x=l.n(U);const T=Qe();var h=_()(x()).withConfig({displayName:"SlidingPanelsStyles__StyledBox",componentId:"su6isq-0"})(["overflow:hidden;position:relative;"]),B=_()(M.animated.div).withConfig({displayName:"SlidingPanelsStyles__StyledAnimatedDiv",componentId:"su6isq-1"})(["",";",";"],T.mixins.reset("block"),T.mixins.clearfix());function V(e,t){e&&(typeof e=="function"?e(t):e.current=t)}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(null,arguments)}function W(e,t){return J(e)||K(e,t)||H(e,t)||G()}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(e,t){if(e){if(typeof e=="string")return $(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,u,m,y=[],p=!0,d=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(p=(r=u.call(n)).done)&&(y.push(r.value),y.length!==t);p=!0);}catch(b){d=!0,a=b}finally{try{if(!p&&n.return!=null&&(m=n.return(),Object(m)!==m))return}finally{if(d)throw a}}return y}}function J(e){if(Array.isArray(e))return e}function Q(e,t){if(e==null)return{};var n,r,a=X(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function X(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c={children:o().node,elementRef:o().oneOfType([o().func,o().object]),onMount:o().func,onUnmount:o().func,panelId:o().oneOfType([o().string,o().number]).isRequired};function i(e){var t=e.children,n=e.elementRef,r=e.onMount,a=e.onUnmount,u=e.panelId,m=Q(e,["children","elementRef","onMount","onUnmount","panelId"]),y=(0,s.useState)(null),p=W(y,2),d=p[0],b=p[1],A=(0,s.useCallback)((function(F){b(F),V(n,F)}),[n]);return(0,s.useEffect)((function(){return r?.(d,u),function(){a?.(u)}}),[r,a,d,u]),I().createElement(B,N({"data-test":"panel","data-test-panel-id":u},m,{ref:A}),t)}i.propTypes=c;const f=i;function g(e){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(e)}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(null,arguments)}function Y(e,t){return Pe(e)||xe(e,t)||je(e,t)||Oe()}function Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(e,t){if(e){if(typeof e=="string")return re(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,u,m,y=[],p=!0,d=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(p=(r=u.call(n)).done)&&(y.push(r.value),y.length!==t);p=!0);}catch(b){d=!0,a=b}finally{try{if(!p&&n.return!=null&&(m=n.return(),Object(m)!==m))return}finally{if(d)throw a}}return y}}function Pe(e){if(Array.isArray(e))return e}function we(e,t){if(e==null)return{};var n,r,a=Ce(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(r){ae(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function ae(e,t,n){return(t=Ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){var t=Ee(e,"string");return g(t)=="symbol"?t:t+""}function Ee(e,t){if(g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Me={activePanelId:o().oneOfType([o().string,o().number]).isRequired,children:o().node,elementRef:o().oneOfType([o().func,o().object]),innerClassName:o().string,innerStyle:o().object,onAnimationEnd:o().func,outerClassName:o().string,outerStyle:o().object,transition:o().oneOf(["forward","backward"])},Te={enter:{x:"0px"},initial:{x:"0px"}},Ne=function(t,n){var r="".concat(t,"px"),a="".concat(t*-1,"px"),u=n==="forward"?r:a,m=n==="forward"?a:r;return{from:{x:u},leave:{position:"absolute",x:m}}},qe=function(t){return Object.values(t).reduce((function(n,r){return r?.tagName==="DIV"?Math.max(n,r.clientWidth):n}),0)},Ae=function(t){var n=t.validChildren,r=t.innerClassName,a=t.innerStyle,u=t.onMount,m=t.onUnmount;return n.map((function(y){return function(p){var d=p.style,b=(0,s.cloneElement)(y,{onMount:u,onUnmount:m}),A=(0,s.useMemo)((function(){return P(P({},a),d)}),[d]);return I().createElement(B,{style:A,className:r},b)}}))};function Z(e){var t=e.activePanelId,n=e.children,r=e.elementRef,a=e.innerClassName,u=e.innerStyle,m=e.onAnimationEnd,y=e.outerClassName,p=e.outerStyle,d=e.transition,b=d===void 0?"forward":d,A=we(e,["activePanelId","children","elementRef","innerClassName","innerStyle","onAnimationEnd","outerClassName","outerStyle","transition"]),F=(0,s.useState)(0),ie=Y(F,2),ee=ie[0],ke=ie[1],De=(0,s.useState)([]),se=Y(De,2),_e=se[0],Ue=se[1],Be=(0,s.useState)({}),ue=Y(Be,2),le=ue[0],ce=ue[1],te=(0,M.useSpringRef)(),L=(0,s.useMemo)((function(){return s.Children.toArray(n).filter(s.isValidElement)}),[n]),fe=(0,s.useMemo)((function(){return qe(le)}),[le]),$e=(0,s.useMemo)((function(){return Ne(fe,b)}),[fe,b]),Fe=(0,k.useAnimationTransition)(ee,P(P(P({ref:te},Te),$e),{},{onRest:function(){m?.()}}));(0,s.useEffect)((function(){}),[ee]),(0,s.useEffect)((function(){te.start()}),[te,ee]),(0,s.useEffect)((function(){var S=L.findIndex((function(w){var O=w.props;return O.panelId===t}));ke(S)}),[t,L]);var me=(0,s.useCallback)((function(S,w){S!=null&&w!=null&&ce((function(O){return P(P({},O),{},ae({},w,S))}))}),[]),pe=(0,s.useCallback)((function(S){ce((function(w){var O=P({},w);return delete O[S],O}))}),[]);return(0,s.useMemo)((function(){Ue(Ae({validChildren:L,onMount:me,onUnmount:pe,innerClassName:a,innerStyle:u}))}),[L,me,pe,a,u]),I().createElement(h,q({className:y,"data-test-active-panel-id":t,"data-test":"sliding-panels",elementRef:r,style:p},A),Fe((function(S,w){var O=_e[w];return O?I().createElement(O,{style:S}):null})))}Z.propTypes=Me,Z.Panel=f;const Re=Z;ne.exports=E})()),ne.exports}var at=ot();const be=he(at);var it=Ye();const st=he(it);function ut(){const l=j.useContext(nt);if(!l)throw new Error("usePageContext must be used within <PageContextProvider />");return l}const lt=Xe.span`
    color: ${de.brandColorD20};
    font-size: ${de.fontSizeSmall};
    font-weight: 500;
`,C="main_panel";function Se({handleRequestOpen:l}){const[E,s]=j.useState(C),[I,M]=j.useState("forward"),[z,o]=j.useState(!1),[k,D]=j.useState(!0),{pages:_}=tt(),U=ut(),{inputs:x}=_;ve(x);const T="groupsMenu"in x?x.groupsMenu:void 0,[h,B]=j.useState(x.services);j.useEffect(()=>{B(x.services.filter(c=>!rt(c.hideForPlatform,U.platform)))},[x.services,U.platform]);const V=["clickAway","escapeKey","offScreen","toggleClick"],N=v.jsx(ye,{id:"addInputBtn",label:Ze._("Create New Input"),isMenu:!0});j.useEffect(()=>{k||(o(!1),D(!0))},[k]);const W=({reason:c})=>{o(!V.includes(c))},G=()=>{o(!0)},H=(c,i)=>c.map(f=>f?.hasSubmenu?v.jsx(R.Item,{hasSubmenu:!0,onClick:()=>{s(f.name),M("forward")},children:f.title},f.name):v.jsxs(R.Item,{onClick:()=>{l({serviceName:f.name,groupName:i}),D(!1)},children:[f.title,v.jsxs(lt,{children:[" ",f.subTitle]})]},f.name)),$=()=>v.jsxs(v.Fragment,{children:[v.jsx(R.Item,{startAdornment:v.jsx(st,{}),onClick:()=>{s(C),M("backward")},children:"Back"}),v.jsx(R.Divider,{})]}),K=c=>Object.keys(c).map(i=>v.jsx(be.Panel,{panelId:i,children:v.jsxs(R,{children:[i!==C&&$(),H(c[i],i)]})},i)),J=j.useMemo(()=>{const c={[C]:[]};return T?T.forEach(i=>{if(i?.groupServices)c[i.groupName]=[],i.groupServices.forEach(f=>{const g=h.find(q=>q.name===f);g&&c[i.groupName].push({name:f,hasSubmenu:!1,title:g?.title||"",subTitle:g?.subTitle})}),c[i.groupName].length>0&&c[C].push({name:i.groupName,title:i.groupTitle,hasSubmenu:!0});else{const f=h.find(g=>g.name===i.groupName);f&&c[C].push({name:i.groupName,title:i.groupTitle,subTitle:f?.subTitle,hasSubmenu:!1})}}):c[C]=h.map(i=>({name:i.name,title:i.title,subTitle:i.subTitle,hasSubmenu:!1})),K(c)},[h]),Q=()=>v.jsx(Ve,{toggle:N,open:z,onRequestClose:W,onRequestOpen:G,children:v.jsx(be,{activePanelId:E,transition:I,style:{width:"210px"},children:J})}),X=()=>v.jsx(ye,{label:et(100),id:"addInputBtn",onClick:()=>{l({serviceName:h[0].name})}});return ve(h),h.length===1?X():Q()}Se.propTypes={handleRequestOpen:ze.func};Se.__docgenInfo={description:"",methods:[],displayName:"MenuInput",props:{handleRequestOpen:{required:!1,tsType:{name:"signature",type:"function",raw:"(args: { serviceName: string; input?: string; groupName?: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ serviceName: string; input?: string; groupName?: string }",signature:{properties:[{key:"serviceName",value:{name:"string",required:!0}},{key:"input",value:{name:"string",required:!1}},{key:"groupName",value:{name:"string",required:!1}}]}},name:"args"}],return:{name:"void"}}},description:"",type:{name:"func"}}}};export{Se as M,C as R};
