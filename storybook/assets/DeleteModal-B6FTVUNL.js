import{j as e}from"./jsx-runtime-1FKYbnEZ.js";import{r as a}from"./index-prPvd6Su.js";import{M as r}from"./Modal-BOe57yII.js";import{M as D}from"./Message-Bh14h08T.js";import{a as T,P as E,u as R}from"./TableContext-gysp-n-m.js";import{g as i,i as m,p as P}from"./messageUtil-CvmCOD_s.js";import{a as U}from"./util-BVaVe7dF.js";import{d as b,g as v}from"./api-BXYB3TVR.js";import{U as f}from"./UCCButton-IGhfY3sr.js";const w=({page:g,handleRequestClose:x,returnFocus:h,serviceName:l,stanzaName:t,open:y=!1,formTitle:p})=>{const[d,s]=a.useState(!1),[u,o]=a.useState(null),c=a.useContext(T),n=()=>{o(null),x()},C=()=>{s(!0),o(null),b({endpointUrl:v(`${encodeURIComponent(l)}/${encodeURIComponent(t)}`),handleError:!1}).then(()=>{c?.setRowData(R(c.rowData,{[l]:{$unset:[t]}})),s(!1),n(),U(`Deleted "${t}"`,"success")}).catch(j=>{const q=P(j);o(q),s(!1)})},M=g===E?i(103,[t]):i(102,[t]);return e.jsxs(r,{returnFocus:h,open:y,style:{width:"800px"},onRequestClose:n,children:[e.jsx(r.Header,{title:p?`Delete ${p}`:i(101)}),e.jsxs(r.Body,{className:"deletePrompt",children:[u&&e.jsx("div",{children:e.jsx(D,{appearance:"fill",type:"error",children:u})}),e.jsx("p",{children:M})]}),e.jsxs(r.Footer,{children:[e.jsx(f,{appearance:"secondary",onClick:n,label:m._("Cancel"),disabled:d}),e.jsx(f,{label:m._("Delete"),onClick:C,loading:d})]})]})};w.__docgenInfo={description:"",methods:[],displayName:"DeleteModal",props:{page:{required:!0,tsType:{name:"union",raw:"'configuration' | 'inputs'",elements:[{name:"literal",value:"'configuration'"},{name:"literal",value:"'inputs'"}]},description:""},handleRequestClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},returnFocus:{required:!0,tsType:{name:"ComponentProps['returnFocus']",raw:"ComponentProps<typeof Modal>['returnFocus']"},description:""},serviceName:{required:!0,tsType:{name:"string"},description:""},stanzaName:{required:!0,tsType:{name:"string"},description:""},open:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},formTitle:{required:!1,tsType:{name:"string"},description:""}}};export{w as D};
