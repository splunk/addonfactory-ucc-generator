var l=Object.defineProperty;var u=(n,s,e)=>s in n?l(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var o=(n,s,e)=>u(n,typeof s!="symbol"?s+"":s,e);import{j as t}from"./jsx-runtime-1FKYbnEZ.js";import{r as p,R as d}from"./index-prPvd6Su.js";import{M as i}from"./Modal-CBFgalUU.js";import{q as c}from"./omit-CSe7u5nZ.js";import{i as a}from"./messageUtil-CQS9-IEm.js";import{b as h,f,M as E,h as b}from"./ControlWrapper-D33h4I9C.js";import{B as C}from"./BaseFormView-VxTL8USs.js";import{a as y}from"./PageContext-DhAckcxo.js";import{U as m}from"./UCCButton-C8g1wOJi.js";const x=c(i)`
    width: 800px;
`;class T extends p.Component{constructor(e){super(e);o(this,"form");o(this,"buttonText");o(this,"handleRequestClose",()=>{this.props.handleRequestClose()});o(this,"handleSubmit",async e=>{await this.form.current?.handleSubmit(e)&&this.handleRequestClose()});o(this,"handleFormSubmit",(e,r)=>{this.setState({isSubmititng:e}),r&&this.handleRequestClose()});this.form=d.createRef(),this.state={isSubmititng:!1},e.mode===h?this.buttonText=a._("Add"):e.mode===f?this.buttonText=a._("Save"):e.mode===E?this.buttonText=a._("Update"):this.buttonText=a._("Submit")}render(){return t.jsxs(x,{returnFocus:this.props.returnFocus,open:this.props.open,onRequestClose:this.handleRequestClose,children:[t.jsx(i.Header,{title:this.props.formLabel}),t.jsx(i.Body,{children:t.jsx(b.Consumer,{children:e=>t.jsx(y.Consumer,{children:r=>t.jsx(C,{ref:this.form,page:this.props.page,serviceName:this.props.serviceName,mode:this.props.mode,stanzaName:this.props.stanzaName||"unknownStanza",handleFormSubmit:this.handleFormSubmit,groupName:this.props.groupName,pageContext:r,customComponentContext:e})})})}),t.jsxs(i.Footer,{children:[t.jsx(m,{appearance:"secondary",onClick:this.handleRequestClose,label:a._("Cancel"),disabled:this.state.isSubmititng}),t.jsx(m,{className:"saveBtn",label:this.buttonText,loading:this.state.isSubmititng,onClick:this.handleSubmit})]})]})}}T.__docgenInfo={description:"",methods:[{name:"handleRequestClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSubmit",docblock:null,modifiers:["async"],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleFormSubmit",docblock:null,modifiers:[],params:[{name:"set",optional:!1,type:{name:"boolean"}},{name:"close",optional:!1,type:{name:"boolean"}}],returns:null}],displayName:"EntityModal",props:{page:{required:!0,tsType:{name:"union",raw:"'configuration' | 'inputs'",elements:[{name:"literal",value:"'configuration'"},{name:"literal",value:"'inputs'"}]},description:""},mode:{required:!0,tsType:{name:"union",raw:`| typeof MODE_CLONE
| typeof MODE_CREATE
| typeof MODE_DELETE
| typeof MODE_EDIT
| typeof MODE_CONFIG`,elements:[{name:"MODE_CLONE"},{name:"MODE_CREATE"},{name:"MODE_DELETE"},{name:"MODE_EDIT"},{name:"MODE_CONFIG"}]},description:""},serviceName:{required:!0,tsType:{name:"string"},description:""},handleRequestClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},returnFocus:{required:!0,tsType:{name:"ComponentProps['returnFocus']",raw:"ComponentProps<typeof Modal>['returnFocus']"},description:""},stanzaName:{required:!1,tsType:{name:"string"},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},formLabel:{required:!1,tsType:{name:"string"},description:""},groupName:{required:!1,tsType:{name:"string"},description:""}}};export{T as E};
