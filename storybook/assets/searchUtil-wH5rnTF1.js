import{c as rs,g as tS}from"./_commonjsHelpers-CE1G-McA.js";import{d as nS,e as iS}from"./_baseIteratee-ksDslDTl.js";import{a9 as oS,a8 as aS,o as sS,g as uS,a0 as cS,y as lS,x as fS,aa as hS,Q as vS,ab as pS,t as bS,R as dS,S as yS,w as Qy,ac as mS,s as _S,k as SS,j as gS}from"./omit-CSe7u5nZ.js";import{b as OS}from"./_arrayIncludesWith-CeAjGiZp.js";import{d as wS}from"./includes-BAN5eljv.js";import{r as xS}from"./isEqual-BwSphrxz.js";import{d as Xy,r as em,b as rm}from"./url-cUhQ41mg.js";import{r as qS}from"./_baseDifference-B9g_NAZa.js";var ln={},fn,ts;function $S(){if(ts)return fn;ts=1;function o(s){return s===null}return fn=o,fn}var W={},se={},hn={},vn={},ns;function K(){if(ns)return vn;ns=1;var o=typeof window<"u"&&window,s=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,f=typeof rs<"u"&&rs,c=o||f||s;return vn.root=c,(function(){if(!c)throw new Error("RxJS could not find any global context (window, self, global)")})(),vn}var pn={},$e={},bn={},is;function Kt(){if(is)return bn;is=1;function o(s){return typeof s=="function"}return bn.isFunction=o,bn}var dn={},yn={},os;function re(){return os||(os=1,yn.isArray=Array.isArray||(function(o){return o&&typeof o.length=="number"})),yn}var mn={},as;function tm(){if(as)return mn;as=1;function o(s){return s!=null&&typeof s=="object"}return mn.isObject=o,mn}var _n={},Sn={},ss;function z(){return ss||(ss=1,Sn.errorObject={e:{}}),Sn}var us;function H(){if(us)return _n;us=1;var o=z(),s;function f(){try{return s.apply(this,arguments)}catch(l){return o.errorObject.e=l,o.errorObject}}function c(l){return s=l,f}return _n.tryCatch=c,_n}var Re={},cs;function nm(){if(cs)return Re;cs=1;var o=Re&&Re.__extends||function(f,c){for(var l in c)c.hasOwnProperty(l)&&(f[l]=c[l]);function a(){this.constructor=f}f.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)},s=(function(f){o(c,f);function c(l){f.call(this),this.errors=l;var a=Error.call(this,l?l.length+` errors occurred during unsubscription:
  `+l.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"");this.name=a.name="UnsubscriptionError",this.stack=a.stack,this.message=a.message}return c})(Error);return Re.UnsubscriptionError=s,Re}var ls;function B(){if(ls)return dn;ls=1;var o=re(),s=tm(),f=Kt(),c=H(),l=z(),a=nm(),n=(function(){function e(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t=!1,i;if(!this.closed){var u=this,h=u._parent,v=u._parents,p=u._unsubscribe,b=u._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,y=v?v.length:0;h;)h.remove(this),h=++d<y&&v[d]||null;if(f.isFunction(p)){var _=c.tryCatch(p).call(this);_===l.errorObject&&(t=!0,i=i||(l.errorObject.e instanceof a.UnsubscriptionError?r(l.errorObject.e.errors):[l.errorObject.e]))}if(o.isArray(b))for(d=-1,y=b.length;++d<y;){var S=b[d];if(s.isObject(S)){var _=c.tryCatch(S.unsubscribe).call(S);if(_===l.errorObject){t=!0,i=i||[];var $=l.errorObject.e;$ instanceof a.UnsubscriptionError?i=i.concat(r($.errors)):i.push($)}}}if(t)throw new a.UnsubscriptionError(i)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var i=t;switch(typeof t){case"function":i=new e(t);case"object":if(i.closed||typeof i.unsubscribe!="function")return i;if(this.closed)return i.unsubscribe(),i;if(typeof i._addParent!="function"){var u=i;i=new e,i._subscriptions=[u]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var h=this._subscriptions||(this._subscriptions=[]);return h.push(i),i._addParent(this),i},e.prototype.remove=function(t){var i=this._subscriptions;if(i){var u=i.indexOf(t);u!==-1&&i.splice(u,1)}},e.prototype._addParent=function(t){var i=this,u=i._parent,h=i._parents;!u||u===t?this._parent=t:h?h.indexOf(t)===-1&&h.push(t):this._parents=[t]},e.EMPTY=(function(t){return t.closed=!0,t})(new e),e})();dn.Subscription=n;function r(e){return e.reduce(function(t,i){return t.concat(i instanceof a.UnsubscriptionError?i.errors:i)},[])}return dn}var gn={},fs;function im(){return fs||(fs=1,gn.empty={closed:!0,next:function(o){},error:function(o){throw o},complete:function(){}}),gn}var On={},hs;function Zt(){return hs||(hs=1,(function(o){var s=K(),f=s.root.Symbol;o.rxSubscriber=typeof f=="function"&&typeof f.for=="function"?f.for("rxSubscriber"):"@@rxSubscriber",o.$$rxSubscriber=o.rxSubscriber})(On)),On}var vs;function I(){if(vs)return $e;vs=1;var o=$e&&$e.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=Kt(),f=B(),c=im(),l=Zt(),a=(function(e){o(t,e);function t(i,u,h){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c.empty;break;case 1:if(!i){this.destination=c.empty;break}if(typeof i=="object"){if(r(i)){var v=i[l.rxSubscriber]();this.syncErrorThrowable=v.syncErrorThrowable,this.destination=v,v.add(this)}else this.syncErrorThrowable=!0,this.destination=new n(this,i);break}default:this.syncErrorThrowable=!0,this.destination=new n(this,i,u,h);break}}return t.prototype[l.rxSubscriber]=function(){return this},t.create=function(i,u,h){var v=new t(i,u,h);return v.syncErrorThrowable=!1,v},t.prototype.next=function(i){this.isStopped||this._next(i)},t.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(i){this.destination.next(i)},t.prototype._error=function(i){this.destination.error(i),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var i=this,u=i._parent,h=i._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=u,this._parents=h,this},t})(f.Subscription);$e.Subscriber=a;var n=(function(e){o(t,e);function t(i,u,h,v){e.call(this),this._parentSubscriber=i;var p,b=this;s.isFunction(u)?p=u:u&&(p=u.next,h=u.error,v=u.complete,u!==c.empty&&(b=Object.create(u),s.isFunction(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this))),this._context=b,this._next=p,this._error=h,this._complete=v}return t.prototype.next=function(i){if(!this.isStopped&&this._next){var u=this._parentSubscriber;u.syncErrorThrowable?this.__tryOrSetError(u,this._next,i)&&this.unsubscribe():this.__tryOrUnsub(this._next,i)}},t.prototype.error=function(i){if(!this.isStopped){var u=this._parentSubscriber;if(this._error)u.syncErrorThrowable?(this.__tryOrSetError(u,this._error,i),this.unsubscribe()):(this.__tryOrUnsub(this._error,i),this.unsubscribe());else if(u.syncErrorThrowable)u.syncErrorValue=i,u.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),i}},t.prototype.complete=function(){var i=this;if(!this.isStopped){var u=this._parentSubscriber;if(this._complete){var h=function(){return i._complete.call(i._context)};u.syncErrorThrowable?(this.__tryOrSetError(u,h),this.unsubscribe()):(this.__tryOrUnsub(h),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(i,u){try{i.call(this._context,u)}catch(h){throw this.unsubscribe(),h}},t.prototype.__tryOrSetError=function(i,u,h){try{u.call(this._context,h)}catch(v){return i.syncErrorValue=v,i.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var i=this._parentSubscriber;this._context=null,this._parentSubscriber=null,i.unsubscribe()},t})(a);function r(e){return e instanceof a||"syncErrorThrowable"in e&&e[l.rxSubscriber]}return $e}var ps;function RS(){if(ps)return pn;ps=1;var o=I(),s=Zt(),f=im();function c(l,a,n){if(l){if(l instanceof o.Subscriber)return l;if(l[s.rxSubscriber])return l[s.rxSubscriber]()}return!l&&!a&&!n?new o.Subscriber(f.empty):new o.Subscriber(l,a,n)}return pn.toSubscriber=c,pn}var wn={},bs;function Qt(){return bs||(bs=1,(function(o){var s=K();function f(c){var l,a=c.Symbol;return typeof a=="function"?a.observable?l=a.observable:(l=a("observable"),a.observable=l):l="@@observable",l}o.getSymbolObservable=f,o.observable=f(s.root),o.$$observable=o.observable})(wn)),wn}var Ft={},xn={},ds;function Na(){if(ds)return xn;ds=1;function o(){}return xn.noop=o,xn}var ys;function Wa(){if(ys)return Ft;ys=1;var o=Na();function s(){for(var c=[],l=0;l<arguments.length;l++)c[l-0]=arguments[l];return f(c)}Ft.pipe=s;function f(c){return c?c.length===1?c[0]:function(a){return c.reduce(function(n,r){return r(n)},a)}:o.noop}return Ft.pipeFromArray=f,Ft}var ms;function g(){if(ms)return hn;ms=1;var o=K(),s=RS(),f=Qt(),c=Wa(),l=(function(){function a(n){this._isScalar=!1,n&&(this._subscribe=n)}return a.prototype.lift=function(n){var r=new a;return r.source=this,r.operator=n,r},a.prototype.subscribe=function(n,r,e){var t=this.operator,i=s.toSubscriber(n,r,e);if(t?t.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},a.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(r){n.syncErrorThrown=!0,n.syncErrorValue=r,n.error(r)}},a.prototype.forEach=function(n,r){var e=this;if(r||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?r=o.root.Rx.config.Promise:o.root.Promise&&(r=o.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(t,i){var u;u=e.subscribe(function(h){if(u)try{n(h)}catch(v){i(v),u.unsubscribe()}else n(h)},i,t)})},a.prototype._subscribe=function(n){return this.source.subscribe(n)},a.prototype[f.observable]=function(){return this},a.prototype.pipe=function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return n.length===0?this:c.pipeFromArray(n)(this)},a.prototype.toPromise=function(n){var r=this;if(n||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?n=o.root.Rx.config.Promise:o.root.Promise&&(n=o.root.Promise)),!n)throw new Error("no Promise impl found");return new n(function(e,t){var i;r.subscribe(function(u){return i=u},function(u){return t(u)},function(){return e(i)})})},a.create=function(n){return new a(n)},a})();return hn.Observable=l,hn}var Te={},_s;function Xt(){if(_s)return Te;_s=1;var o=Te&&Te.__extends||function(f,c){for(var l in c)c.hasOwnProperty(l)&&(f[l]=c[l]);function a(){this.constructor=f}f.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)},s=(function(f){o(c,f);function c(){var l=f.call(this,"object unsubscribed");this.name=l.name="ObjectUnsubscribedError",this.stack=l.stack,this.message=l.message}return c})(Error);return Te.ObjectUnsubscribedError=s,Te}var Ee={},Ss;function om(){if(Ss)return Ee;Ss=1;var o=Ee&&Ee.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=B(),f=(function(c){o(l,c);function l(a,n){c.call(this),this.subject=a,this.subscriber=n,this.closed=!1}return l.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,n=a.observers;if(this.subject=null,!(!n||n.length===0||a.isStopped||a.closed)){var r=n.indexOf(this.subscriber);r!==-1&&n.splice(r,1)}}},l})(s.Subscription);return Ee.SubjectSubscription=f,Ee}var gs;function G(){if(gs)return se;gs=1;var o=se&&se.__extends||function(i,u){for(var h in u)u.hasOwnProperty(h)&&(i[h]=u[h]);function v(){this.constructor=i}i.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)},s=g(),f=I(),c=B(),l=Xt(),a=om(),n=Zt(),r=(function(i){o(u,i);function u(h){i.call(this,h),this.destination=h}return u})(f.Subscriber);se.SubjectSubscriber=r;var e=(function(i){o(u,i);function u(){i.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return u.prototype[n.rxSubscriber]=function(){return new r(this)},u.prototype.lift=function(h){var v=new t(this,this);return v.operator=h,v},u.prototype.next=function(h){if(this.closed)throw new l.ObjectUnsubscribedError;if(!this.isStopped)for(var v=this.observers,p=v.length,b=v.slice(),d=0;d<p;d++)b[d].next(h)},u.prototype.error=function(h){if(this.closed)throw new l.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=h,this.isStopped=!0;for(var v=this.observers,p=v.length,b=v.slice(),d=0;d<p;d++)b[d].error(h);this.observers.length=0},u.prototype.complete=function(){if(this.closed)throw new l.ObjectUnsubscribedError;this.isStopped=!0;for(var h=this.observers,v=h.length,p=h.slice(),b=0;b<v;b++)p[b].complete();this.observers.length=0},u.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},u.prototype._trySubscribe=function(h){if(this.closed)throw new l.ObjectUnsubscribedError;return i.prototype._trySubscribe.call(this,h)},u.prototype._subscribe=function(h){if(this.closed)throw new l.ObjectUnsubscribedError;return this.hasError?(h.error(this.thrownError),c.Subscription.EMPTY):this.isStopped?(h.complete(),c.Subscription.EMPTY):(this.observers.push(h),new a.SubjectSubscription(this,h))},u.prototype.asObservable=function(){var h=new s.Observable;return h.source=this,h},u.create=function(h,v){return new t(h,v)},u})(s.Observable);se.Subject=e;var t=(function(i){o(u,i);function u(h,v){i.call(this),this.destination=h,this.source=v}return u.prototype.next=function(h){var v=this.destination;v&&v.next&&v.next(h)},u.prototype.error=function(h){var v=this.destination;v&&v.error&&this.destination.error(h)},u.prototype.complete=function(){var h=this.destination;h&&h.complete&&this.destination.complete()},u.prototype._subscribe=function(h){var v=this.source;return v?this.source.subscribe(h):c.Subscription.EMPTY},u})(e);return se.AnonymousSubject=t,se}var Os={},qn={},je={},Ae={},ws;function en(){if(ws)return Ae;ws=1;var o=Ae&&Ae.__extends||function(l,a){for(var n in a)a.hasOwnProperty(n)&&(l[n]=a[n]);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)},s=G(),f=B(),c=(function(l){o(a,l);function a(){l.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return a.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),f.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),f.Subscription.EMPTY):l.prototype._subscribe.call(this,n)},a.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},a.prototype.error=function(n){this.hasCompleted||l.prototype.error.call(this,n)},a.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&l.prototype.next.call(this,this.value),l.prototype.complete.call(this)},a})(s.Subject);return Ae.AsyncSubject=c,Ae}var xs;function TS(){if(xs)return je;xs=1;var o=je&&je.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=g(),f=H(),c=z(),l=en(),a=(function(e){o(t,e);function t(i,u,h,v,p){e.call(this),this.callbackFunc=i,this.selector=u,this.args=h,this.context=v,this.scheduler=p}return t.create=function(i,u,h){return u===void 0&&(u=void 0),function(){for(var v=[],p=0;p<arguments.length;p++)v[p-0]=arguments[p];return new t(i,u,v,this,h)}},t.prototype._subscribe=function(i){var u=this.callbackFunc,h=this.args,v=this.scheduler,p=this.subject;if(v)return v.schedule(t.dispatch,0,{source:this,subscriber:i,context:this.context});if(!p){p=this.subject=new l.AsyncSubject;var b=function y(){for(var _=[],S=0;S<arguments.length;S++)_[S-0]=arguments[S];var $=y.source,j=$.selector,T=$.subject;if(j){var m=f.tryCatch(j).apply(this,_);m===c.errorObject?T.error(c.errorObject.e):(T.next(m),T.complete())}else T.next(_.length<=1?_[0]:_),T.complete()};b.source=this;var d=f.tryCatch(u).apply(this.context,h.concat(b));d===c.errorObject&&p.error(c.errorObject.e)}return p.subscribe(i)},t.dispatch=function(i){var u=this,h=i.source,v=i.subscriber,p=i.context,b=h.callbackFunc,d=h.args,y=h.scheduler,_=h.subject;if(!_){_=h.subject=new l.AsyncSubject;var S=function j(){for(var T=[],m=0;m<arguments.length;m++)T[m-0]=arguments[m];var w=j.source,O=w.selector,x=w.subject;if(O){var q=f.tryCatch(O).apply(this,T);q===c.errorObject?u.add(y.schedule(r,0,{err:c.errorObject.e,subject:x})):u.add(y.schedule(n,0,{value:q,subject:x}))}else{var R=T.length<=1?T[0]:T;u.add(y.schedule(n,0,{value:R,subject:x}))}};S.source=h;var $=f.tryCatch(b).apply(p,d.concat(S));$===c.errorObject&&_.error(c.errorObject.e)}u.add(_.subscribe(v))},t})(s.Observable);je.BoundCallbackObservable=a;function n(e){var t=e.value,i=e.subject;i.next(t),i.complete()}function r(e){var t=e.err,i=e.subject;i.error(t)}return je}var qs;function ES(){if(qs)return qn;qs=1;var o=TS();return qn.bindCallback=o.BoundCallbackObservable.create,qn}var $s;function jS(){if($s)return Os;$s=1;var o=g(),s=ES();return o.Observable.bindCallback=s.bindCallback,Os}var Rs={},$n={},Ie={},Ts;function AS(){if(Ts)return Ie;Ts=1;var o=Ie&&Ie.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=g(),f=H(),c=z(),l=en(),a=(function(t){o(i,t);function i(u,h,v,p,b){t.call(this),this.callbackFunc=u,this.selector=h,this.args=v,this.context=p,this.scheduler=b}return i.create=function(u,h,v){return h===void 0&&(h=void 0),function(){for(var p=[],b=0;b<arguments.length;b++)p[b-0]=arguments[b];return new i(u,h,p,this,v)}},i.prototype._subscribe=function(u){var h=this.callbackFunc,v=this.args,p=this.scheduler,b=this.subject;if(p)return p.schedule(n,0,{source:this,subscriber:u,context:this.context});if(!b){b=this.subject=new l.AsyncSubject;var d=function _(){for(var S=[],$=0;$<arguments.length;$++)S[$-0]=arguments[$];var j=_.source,T=j.selector,m=j.subject,w=S.shift();if(w)m.error(w);else if(T){var O=f.tryCatch(T).apply(this,S);O===c.errorObject?m.error(c.errorObject.e):(m.next(O),m.complete())}else m.next(S.length<=1?S[0]:S),m.complete()};d.source=this;var y=f.tryCatch(h).apply(this.context,v.concat(d));y===c.errorObject&&b.error(c.errorObject.e)}return b.subscribe(u)},i})(s.Observable);Ie.BoundNodeCallbackObservable=a;function n(t){var i=this,u=t.source,h=t.subscriber,v=t.context,p=u,b=p.callbackFunc,d=p.args,y=p.scheduler,_=u.subject;if(!_){_=u.subject=new l.AsyncSubject;var S=function j(){for(var T=[],m=0;m<arguments.length;m++)T[m-0]=arguments[m];var w=j.source,O=w.selector,x=w.subject,q=T.shift();if(q)i.add(y.schedule(e,0,{err:q,subject:x}));else if(O){var R=f.tryCatch(O).apply(this,T);R===c.errorObject?i.add(y.schedule(e,0,{err:c.errorObject.e,subject:x})):i.add(y.schedule(r,0,{value:R,subject:x}))}else{var A=T.length<=1?T[0]:T;i.add(y.schedule(r,0,{value:A,subject:x}))}};S.source=u;var $=f.tryCatch(b).apply(v,d.concat(S));$===c.errorObject&&i.add(y.schedule(e,0,{err:c.errorObject.e,subject:_}))}i.add(_.subscribe(h))}function r(t){var i=t.value,u=t.subject;u.next(i),u.complete()}function e(t){var i=t.err,u=t.subject;u.error(i)}return Ie}var Es;function IS(){if(Es)return $n;Es=1;var o=AS();return $n.bindNodeCallback=o.BoundNodeCallbackObservable.create,$n}var js;function kS(){if(js)return Rs;js=1;var o=g(),s=IS();return o.Observable.bindNodeCallback=s.bindNodeCallback,Rs}var As={},Rn={},Tn={},Is;function X(){if(Is)return Tn;Is=1;function o(s){return s&&typeof s.schedule=="function"}return Tn.isScheduler=o,Tn}var ke={},Ce={},ks;function La(){if(ks)return Ce;ks=1;var o=Ce&&Ce.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=g(),f=(function(c){o(l,c);function l(a,n){c.call(this),this.value=a,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return l.create=function(a,n){return new l(a,n)},l.dispatch=function(a){var n=a.done,r=a.value,e=a.subscriber;if(n){e.complete();return}e.next(r),!e.closed&&(a.done=!0,this.schedule(a))},l.prototype._subscribe=function(a){var n=this.value,r=this.scheduler;if(r)return r.schedule(l.dispatch,0,{done:!1,value:n,subscriber:a});a.next(n),a.closed||a.complete()},l})(s.Observable);return Ce.ScalarObservable=f,Ce}var Pe={},Cs;function ie(){if(Cs)return Pe;Cs=1;var o=Pe&&Pe.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=g(),f=(function(c){o(l,c);function l(a){c.call(this),this.scheduler=a}return l.create=function(a){return new l(a)},l.dispatch=function(a){var n=a.subscriber;n.complete()},l.prototype._subscribe=function(a){var n=this.scheduler;if(n)return n.schedule(l.dispatch,0,{subscriber:a});a.complete()},l})(s.Observable);return Pe.EmptyObservable=f,Pe}var Ps;function oe(){if(Ps)return ke;Ps=1;var o=ke&&ke.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=g(),f=La(),c=ie(),l=X(),a=(function(n){o(r,n);function r(e,t){n.call(this),this.array=e,this.scheduler=t,!t&&e.length===1&&(this._isScalar=!0,this.value=e[0])}return r.create=function(e,t){return new r(e,t)},r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=e[e.length-1];l.isScheduler(i)?e.pop():i=null;var u=e.length;return u>1?new r(e,i):u===1?new f.ScalarObservable(e[0],i):new c.EmptyObservable(i)},r.dispatch=function(e){var t=e.array,i=e.index,u=e.count,h=e.subscriber;if(i>=u){h.complete();return}h.next(t[i]),!h.closed&&(e.index=i+1,this.schedule(e))},r.prototype._subscribe=function(e){var t=0,i=this.array,u=i.length,h=this.scheduler;if(h)return h.schedule(r.dispatch,0,{array:i,index:t,count:u,subscriber:e});for(var v=0;v<u&&!e.closed;v++)e.next(i[v]);e.complete()},r})(s.Observable);return ke.ArrayObservable=a,ke}var ue={},Fe={},Fs;function P(){if(Fs)return Fe;Fs=1;var o=Fe&&Fe.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=I(),f=(function(c){o(l,c);function l(){c.apply(this,arguments)}return l.prototype.notifyNext=function(a,n,r,e,t){this.destination.next(n)},l.prototype.notifyError=function(a,n){this.destination.error(a)},l.prototype.notifyComplete=function(a){this.destination.complete()},l})(s.Subscriber);return Fe.OuterSubscriber=f,Fe}var En={},jn={},Ms;function am(){return Ms||(Ms=1,jn.isArrayLike=(function(o){return o&&typeof o.length=="number"})),jn}var An={},Ns;function sm(){if(Ns)return An;Ns=1;function o(s){return s&&typeof s.subscribe!="function"&&typeof s.then=="function"}return An.isPromise=o,An}var In={},Ws;function Rt(){return Ws||(Ws=1,(function(o){var s=K();function f(c){var l=c.Symbol;if(typeof l=="function")return l.iterator||(l.iterator=l("iterator polyfill")),l.iterator;var a=c.Set;if(a&&typeof new a()["@@iterator"]=="function")return"@@iterator";var n=c.Map;if(n)for(var r=Object.getOwnPropertyNames(n.prototype),e=0;e<r.length;++e){var t=r[e];if(t!=="entries"&&t!=="size"&&n.prototype[t]===n.prototype.entries)return t}return"@@iterator"}o.symbolIteratorPonyfill=f,o.iterator=f(s.root),o.$$iterator=o.iterator})(In)),In}var Me={},Ls;function CS(){if(Ls)return Me;Ls=1;var o=Me&&Me.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=I(),f=(function(c){o(l,c);function l(a,n,r){c.call(this),this.parent=a,this.outerValue=n,this.outerIndex=r,this.index=0}return l.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)},l.prototype._error=function(a){this.parent.notifyError(a,this),this.unsubscribe()},l.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},l})(s.Subscriber);return Me.InnerSubscriber=f,Me}var Ds;function F(){if(Ds)return En;Ds=1;var o=K(),s=am(),f=sm(),c=tm(),l=g(),a=Rt(),n=CS(),r=Qt();function e(t,i,u,h){var v=new n.InnerSubscriber(t,u,h);if(v.closed)return null;if(i instanceof l.Observable)return i._isScalar?(v.next(i.value),v.complete(),null):(v.syncErrorThrowable=!0,i.subscribe(v));if(s.isArrayLike(i)){for(var p=0,b=i.length;p<b&&!v.closed;p++)v.next(i[p]);v.closed||v.complete()}else{if(f.isPromise(i))return i.then(function(j){v.closed||(v.next(j),v.complete())},function(j){return v.error(j)}).then(null,function(j){o.root.setTimeout(function(){throw j})}),v;if(i&&typeof i[a.iterator]=="function"){var d=i[a.iterator]();do{var y=d.next();if(y.done){v.complete();break}if(v.next(y.value),v.closed)break}while(!0)}else if(i&&typeof i[r.observable]=="function"){var _=i[r.observable]();if(typeof _.subscribe!="function")v.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return _.subscribe(new n.InnerSubscriber(t,u,h))}else{var S=c.isObject(i)?"an invalid object":"'"+i+"'",$="You provided "+S+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";v.error(new TypeError($))}}return null}return En.subscribeToResult=e,En}var Vs;function rn(){if(Vs)return ue;Vs=1;var o=ue&&ue.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=oe(),f=re(),c=P(),l=F(),a={};function n(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];var u=null;return typeof t[t.length-1]=="function"&&(u=t.pop()),t.length===1&&f.isArray(t[0])&&(t=t[0].slice()),function(h){return h.lift.call(new s.ArrayObservable([h].concat(t)),new r(u))}}ue.combineLatest=n;var r=(function(){function t(i){this.project=i}return t.prototype.call=function(i,u){return u.subscribe(new e(i,this.project))},t})();ue.CombineLatestOperator=r;var e=(function(t){o(i,t);function i(u,h){t.call(this,u),this.project=h,this.active=0,this.values=[],this.observables=[]}return i.prototype._next=function(u){this.values.push(a),this.observables.push(u)},i.prototype._complete=function(){var u=this.observables,h=u.length;if(h===0)this.destination.complete();else{this.active=h,this.toRespond=h;for(var v=0;v<h;v++){var p=u[v];this.add(l.subscribeToResult(this,p,p,v))}}},i.prototype.notifyComplete=function(u){(this.active-=1)===0&&this.destination.complete()},i.prototype.notifyNext=function(u,h,v,p,b){var d=this.values,y=d[v],_=this.toRespond?y===a?--this.toRespond:this.toRespond:0;d[v]=h,_===0&&(this.project?this._tryProject(d):this.destination.next(d.slice()))},i.prototype._tryProject=function(u){var h;try{h=this.project.apply(this,u)}catch(v){this.destination.error(v);return}this.destination.next(h)},i})(c.OuterSubscriber);return ue.CombineLatestSubscriber=e,ue}var Us;function PS(){if(Us)return Rn;Us=1;var o=X(),s=re(),f=oe(),c=rn();function l(){for(var a=[],n=0;n<arguments.length;n++)a[n-0]=arguments[n];var r=null,e=null;return o.isScheduler(a[a.length-1])&&(e=a.pop()),typeof a[a.length-1]=="function"&&(r=a.pop()),a.length===1&&s.isArray(a[0])&&(a=a[0]),new f.ArrayObservable(a,e).lift(new c.CombineLatestOperator(r))}return Rn.combineLatest=l,Rn}var Bs;function FS(){if(Bs)return As;Bs=1;var o=g(),s=PS();return o.Observable.combineLatest=s.combineLatest,As}var zs={},kn={},Cn={},Gs;function um(){if(Gs)return Cn;Gs=1;var o=oe();return Cn.of=o.ArrayObservable.of,Cn}var Pn={},Ne={},We={},Hs;function cm(){if(Hs)return We;Hs=1;var o=We&&We.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=K(),f=g(),c=(function(n){o(r,n);function r(e,t){n.call(this),this.promise=e,this.scheduler=t}return r.create=function(e,t){return new r(e,t)},r.prototype._subscribe=function(e){var t=this,i=this.promise,u=this.scheduler;if(u==null)this._isScalar?e.closed||(e.next(this.value),e.complete()):i.then(function(h){t.value=h,t._isScalar=!0,e.closed||(e.next(h),e.complete())},function(h){e.closed||e.error(h)}).then(null,function(h){s.root.setTimeout(function(){throw h})});else if(this._isScalar){if(!e.closed)return u.schedule(l,0,{value:this.value,subscriber:e})}else i.then(function(h){t.value=h,t._isScalar=!0,e.closed||e.add(u.schedule(l,0,{value:h,subscriber:e}))},function(h){e.closed||e.add(u.schedule(a,0,{err:h,subscriber:e}))}).then(null,function(h){s.root.setTimeout(function(){throw h})})},r})(f.Observable);We.PromiseObservable=c;function l(n){var r=n.value,e=n.subscriber;e.closed||(e.next(r),e.complete())}function a(n){var r=n.err,e=n.subscriber;e.closed||e.error(r)}return We}var Le={},Js;function MS(){if(Js)return Le;Js=1;var o=Le&&Le.__extends||function(h,v){for(var p in v)v.hasOwnProperty(p)&&(h[p]=v[p]);function b(){this.constructor=h}h.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)},s=K(),f=g(),c=Rt(),l=(function(h){o(v,h);function v(p,b){if(h.call(this),this.scheduler=b,p==null)throw new Error("iterator cannot be null.");this.iterator=r(p)}return v.create=function(p,b){return new v(p,b)},v.dispatch=function(p){var b=p.index,d=p.hasError,y=p.iterator,_=p.subscriber;if(d){_.error(p.error);return}var S=y.next();if(S.done){_.complete();return}if(_.next(S.value),p.index=b+1,_.closed){typeof y.return=="function"&&y.return();return}this.schedule(p)},v.prototype._subscribe=function(p){var b=0,d=this,y=d.iterator,_=d.scheduler;if(_)return _.schedule(v.dispatch,0,{index:b,iterator:y,subscriber:p});do{var S=y.next();if(S.done){p.complete();break}else p.next(S.value);if(p.closed){typeof y.return=="function"&&y.return();break}}while(!0)},v})(f.Observable);Le.IteratorObservable=l;var a=(function(){function h(v,p,b){p===void 0&&(p=0),b===void 0&&(b=v.length),this.str=v,this.idx=p,this.len=b}return h.prototype[c.iterator]=function(){return this},h.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},h})(),n=(function(){function h(v,p,b){p===void 0&&(p=0),b===void 0&&(b=t(v)),this.arr=v,this.idx=p,this.len=b}return h.prototype[c.iterator]=function(){return this},h.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},h})();function r(h){var v=h[c.iterator];if(!v&&typeof h=="string")return new a(h);if(!v&&h.length!==void 0)return new n(h);if(!v)throw new TypeError("object is not iterable");return h[c.iterator]()}var e=Math.pow(2,53)-1;function t(h){var v=+h.length;return isNaN(v)?0:v===0||!i(v)?v:(v=u(v)*Math.floor(Math.abs(v)),v<=0?0:v>e?e:v)}function i(h){return typeof h=="number"&&s.root.isFinite(h)}function u(h){var v=+h;return v===0||isNaN(v)?v:v<0?-1:1}return Le}var De={},Ys;function NS(){if(Ys)return De;Ys=1;var o=De&&De.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=g(),f=La(),c=ie(),l=(function(a){o(n,a);function n(r,e){a.call(this),this.arrayLike=r,this.scheduler=e,!e&&r.length===1&&(this._isScalar=!0,this.value=r[0])}return n.create=function(r,e){var t=r.length;return t===0?new c.EmptyObservable:t===1?new f.ScalarObservable(r[0],e):new n(r,e)},n.dispatch=function(r){var e=r.arrayLike,t=r.index,i=r.length,u=r.subscriber;if(!u.closed){if(t>=i){u.complete();return}u.next(e[t]),r.index=t+1,this.schedule(r)}},n.prototype._subscribe=function(r){var e=0,t=this,i=t.arrayLike,u=t.scheduler,h=i.length;if(u)return u.schedule(n.dispatch,0,{arrayLike:i,index:e,length:h,subscriber:r});for(var v=0;v<h&&!r.closed;v++)r.next(i[v]);r.complete()},n})(s.Observable);return De.ArrayLikeObservable=l,De}var te={},Fn={},Ks;function Tt(){if(Ks)return Fn;Ks=1;var o=g(),s=(function(){function f(c,l,a){this.kind=c,this.value=l,this.error=a,this.hasValue=c==="N"}return f.prototype.observe=function(c){switch(this.kind){case"N":return c.next&&c.next(this.value);case"E":return c.error&&c.error(this.error);case"C":return c.complete&&c.complete()}},f.prototype.do=function(c,l,a){var n=this.kind;switch(n){case"N":return c&&c(this.value);case"E":return l&&l(this.error);case"C":return a&&a()}},f.prototype.accept=function(c,l,a){return c&&typeof c.next=="function"?this.observe(c):this.do(c,l,a)},f.prototype.toObservable=function(){var c=this.kind;switch(c){case"N":return o.Observable.of(this.value);case"E":return o.Observable.throw(this.error);case"C":return o.Observable.empty()}throw new Error("unexpected notification kind value")},f.createNext=function(c){return typeof c<"u"?new f("N",c):f.undefinedValueNotification},f.createError=function(c){return new f("E",void 0,c)},f.createComplete=function(){return f.completeNotification},f.completeNotification=new f("C"),f.undefinedValueNotification=new f("N",void 0),f})();return Fn.Notification=s,Fn}var Zs;function tn(){if(Zs)return te;Zs=1;var o=te&&te.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=I(),f=Tt();function c(r,e){return e===void 0&&(e=0),function(i){return i.lift(new l(r,e))}}te.observeOn=c;var l=(function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))},r})();te.ObserveOnOperator=l;var a=(function(r){o(e,r);function e(t,i,u){u===void 0&&(u=0),r.call(this,t),this.scheduler=i,this.delay=u}return e.dispatch=function(t){var i=t.notification,u=t.destination;i.observe(u),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new n(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(f.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(f.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(f.Notification.createComplete())},e})(s.Subscriber);te.ObserveOnSubscriber=a;var n=(function(){function r(e,t){this.notification=e,this.destination=t}return r})();return te.ObserveOnMessage=n,te}var Qs;function lm(){if(Qs)return Ne;Qs=1;var o=Ne&&Ne.__extends||function(v,p){for(var b in p)p.hasOwnProperty(b)&&(v[b]=p[b]);function d(){this.constructor=v}v.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)},s=re(),f=am(),c=sm(),l=cm(),a=MS(),n=oe(),r=NS(),e=Rt(),t=g(),i=tn(),u=Qt(),h=(function(v){o(p,v);function p(b,d){v.call(this,null),this.ish=b,this.scheduler=d}return p.create=function(b,d){if(b!=null){if(typeof b[u.observable]=="function")return b instanceof t.Observable&&!d?b:new p(b,d);if(s.isArray(b))return new n.ArrayObservable(b,d);if(c.isPromise(b))return new l.PromiseObservable(b,d);if(typeof b[e.iterator]=="function"||typeof b=="string")return new a.IteratorObservable(b,d);if(f.isArrayLike(b))return new r.ArrayLikeObservable(b,d)}throw new TypeError((b!==null&&typeof b||b)+" is not observable")},p.prototype._subscribe=function(b){var d=this.ish,y=this.scheduler;return y==null?d[u.observable]().subscribe(b):d[u.observable]().subscribe(new i.ObserveOnSubscriber(b,y,0))},p})(t.Observable);return Ne.FromObservable=h,Ne}var Xs;function fm(){if(Xs)return Pn;Xs=1;var o=lm();return Pn.from=o.FromObservable.create,Pn}var Mn={},Nn={},ce={},eu;function qt(){if(eu)return ce;eu=1;var o=ce&&ce.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=F(),f=P();function c(n,r,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),function(i){return typeof r=="number"&&(e=r,r=null),i.lift(new l(n,r,e))}}ce.mergeMap=c;var l=(function(){function n(r,e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=r,this.resultSelector=e,this.concurrent=t}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.project,this.resultSelector,this.concurrent))},n})();ce.MergeMapOperator=l;var a=(function(n){o(r,n);function r(e,t,i,u){u===void 0&&(u=Number.POSITIVE_INFINITY),n.call(this,e),this.project=t,this.resultSelector=i,this.concurrent=u,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},r.prototype._tryNext=function(e){var t,i=this.index++;try{t=this.project(e,i)}catch(u){this.destination.error(u);return}this.active++,this._innerSub(t,e,i)},r.prototype._innerSub=function(e,t,i){this.add(s.subscribeToResult(this,e,t,i))},r.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete()},r.prototype.notifyNext=function(e,t,i,u,h){this.resultSelector?this._notifyResultSelector(e,t,i,u):this.destination.next(t)},r.prototype._notifyResultSelector=function(e,t,i,u){var h;try{h=this.resultSelector(e,t,i,u)}catch(v){this.destination.error(v);return}this.destination.next(h)},r.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},r})(f.OuterSubscriber);return ce.MergeMapSubscriber=a,ce}var Wn={},ru;function hm(){if(ru)return Wn;ru=1;function o(s){return s}return Wn.identity=o,Wn}var tu;function nn(){if(tu)return Nn;tu=1;var o=qt(),s=hm();function f(c){return c===void 0&&(c=Number.POSITIVE_INFINITY),o.mergeMap(s.identity,null,c)}return Nn.mergeAll=f,Nn}var nu;function Da(){if(nu)return Mn;nu=1;var o=nn();function s(){return o.mergeAll(1)}return Mn.concatAll=s,Mn}var iu;function $t(){if(iu)return kn;iu=1;var o=X(),s=um(),f=fm(),c=Da();function l(){for(var a=[],n=0;n<arguments.length;n++)a[n-0]=arguments[n];return a.length===1||a.length===2&&o.isScheduler(a[1])?f.from(a[0]):c.concatAll()(s.of.apply(void 0,a))}return kn.concat=l,kn}var ou;function WS(){if(ou)return zs;ou=1;var o=g(),s=$t();return o.Observable.concat=s.concat,zs}var au={},Ln={},Ve={},su;function LS(){if(su)return Ve;su=1;var o=Ve&&Ve.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=g(),f=F(),c=P(),l=(function(n){o(r,n);function r(e){n.call(this),this.observableFactory=e}return r.create=function(e){return new r(e)},r.prototype._subscribe=function(e){return new a(e,this.observableFactory)},r})(s.Observable);Ve.DeferObservable=l;var a=(function(n){o(r,n);function r(e,t){n.call(this,e),this.factory=t,this.tryDefer()}return r.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},r.prototype._callFactory=function(){var e=this.factory();e&&this.add(f.subscribeToResult(this,e))},r})(c.OuterSubscriber);return Ve}var uu;function DS(){if(uu)return Ln;uu=1;var o=LS();return Ln.defer=o.DeferObservable.create,Ln}var cu;function VS(){if(cu)return au;cu=1;var o=g(),s=DS();return o.Observable.defer=s.defer,au}var lu={},Dn={},fu;function US(){if(fu)return Dn;fu=1;var o=ie();return Dn.empty=o.EmptyObservable.create,Dn}var hu;function BS(){if(hu)return lu;hu=1;var o=g(),s=US();return o.Observable.empty=s.empty,lu}var vu={},Vn={},Ue={},pu;function zS(){if(pu)return Ue;pu=1;var o=Ue&&Ue.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=g(),f=ie(),c=re(),l=F(),a=P(),n=(function(e){o(t,e);function t(i,u){e.call(this),this.sources=i,this.resultSelector=u}return t.create=function(){for(var i=[],u=0;u<arguments.length;u++)i[u-0]=arguments[u];if(i===null||arguments.length===0)return new f.EmptyObservable;var h=null;return typeof i[i.length-1]=="function"&&(h=i.pop()),i.length===1&&c.isArray(i[0])&&(i=i[0]),i.length===0?new f.EmptyObservable:new t(i,h)},t.prototype._subscribe=function(i){return new r(i,this.sources,this.resultSelector)},t})(s.Observable);Ue.ForkJoinObservable=n;var r=(function(e){o(t,e);function t(i,u,h){e.call(this,i),this.sources=u,this.resultSelector=h,this.completed=0,this.haveValues=0;var v=u.length;this.total=v,this.values=new Array(v);for(var p=0;p<v;p++){var b=u[p],d=l.subscribeToResult(this,b,null,p);d&&(d.outerIndex=p,this.add(d))}}return t.prototype.notifyNext=function(i,u,h,v,p){this.values[h]=u,p._hasValue||(p._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(i){var u=this.destination,h=this,v=h.haveValues,p=h.resultSelector,b=h.values,d=b.length;if(!i._hasValue){u.complete();return}if(this.completed++,this.completed===d){if(v===d){var y=p?p.apply(this,b):b;u.next(y)}u.complete()}},t})(a.OuterSubscriber);return Ue}var bu;function GS(){if(bu)return Vn;bu=1;var o=zS();return Vn.forkJoin=o.ForkJoinObservable.create,Vn}var du;function HS(){if(du)return vu;du=1;var o=g(),s=GS();return o.Observable.forkJoin=s.forkJoin,vu}var yu={},mu;function JS(){if(mu)return yu;mu=1;var o=g(),s=fm();return o.Observable.from=s.from,yu}var _u={},Un={},Be={},Su;function YS(){if(Su)return Be;Su=1;var o=Be&&Be.__extends||function(v,p){for(var b in p)p.hasOwnProperty(b)&&(v[b]=p[b]);function d(){this.constructor=v}v.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)},s=g(),f=H(),c=Kt(),l=z(),a=B(),n=Object.prototype.toString;function r(v){return!!v&&typeof v.addListener=="function"&&typeof v.removeListener=="function"}function e(v){return!!v&&typeof v.on=="function"&&typeof v.off=="function"}function t(v){return!!v&&n.call(v)==="[object NodeList]"}function i(v){return!!v&&n.call(v)==="[object HTMLCollection]"}function u(v){return!!v&&typeof v.addEventListener=="function"&&typeof v.removeEventListener=="function"}var h=(function(v){o(p,v);function p(b,d,y,_){v.call(this),this.sourceObj=b,this.eventName=d,this.selector=y,this.options=_}return p.create=function(b,d,y,_){return c.isFunction(y)&&(_=y,y=void 0),new p(b,d,_,y)},p.setupSubscription=function(b,d,y,_,S){var $;if(t(b)||i(b))for(var j=0,T=b.length;j<T;j++)p.setupSubscription(b[j],d,y,_,S);else if(u(b)){var m=b;b.addEventListener(d,y,S),$=function(){return m.removeEventListener(d,y,S)}}else if(e(b)){var w=b;b.on(d,y),$=function(){return w.off(d,y)}}else if(r(b)){var O=b;b.addListener(d,y),$=function(){return O.removeListener(d,y)}}else throw new TypeError("Invalid event target");_.add(new a.Subscription($))},p.prototype._subscribe=function(b){var d=this.sourceObj,y=this.eventName,_=this.options,S=this.selector,$=S?function(){for(var j=[],T=0;T<arguments.length;T++)j[T-0]=arguments[T];var m=f.tryCatch(S).apply(void 0,j);m===l.errorObject?b.error(l.errorObject.e):b.next(m)}:function(j){return b.next(j)};p.setupSubscription(d,y,$,b,_)},p})(s.Observable);return Be.FromEventObservable=h,Be}var gu;function KS(){if(gu)return Un;gu=1;var o=YS();return Un.fromEvent=o.FromEventObservable.create,Un}var Ou;function ZS(){if(Ou)return _u;Ou=1;var o=g(),s=KS();return o.Observable.fromEvent=s.fromEvent,_u}var wu={},Bn={},ze={},xu;function QS(){if(xu)return ze;xu=1;var o=ze&&ze.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=Kt(),f=g(),c=B(),l=(function(a){o(n,a);function n(r,e,t){a.call(this),this.addHandler=r,this.removeHandler=e,this.selector=t}return n.create=function(r,e,t){return new n(r,e,t)},n.prototype._subscribe=function(r){var e=this,t=this.removeHandler,i=this.selector?function(){for(var h=[],v=0;v<arguments.length;v++)h[v-0]=arguments[v];e._callSelector(r,h)}:function(h){r.next(h)},u=this._callAddHandler(i,r);s.isFunction(t)&&r.add(new c.Subscription(function(){t(i,u)}))},n.prototype._callSelector=function(r,e){try{var t=this.selector.apply(this,e);r.next(t)}catch(i){r.error(i)}},n.prototype._callAddHandler=function(r,e){try{return this.addHandler(r)||null}catch(t){e.error(t)}},n})(f.Observable);return ze.FromEventPatternObservable=l,ze}var qu;function XS(){if(qu)return Bn;qu=1;var o=QS();return Bn.fromEventPattern=o.FromEventPatternObservable.create,Bn}var $u;function eg(){if($u)return wu;$u=1;var o=g(),s=XS();return o.Observable.fromEventPattern=s.fromEventPattern,wu}var Ru={},zn={},Tu;function rg(){if(Tu)return zn;Tu=1;var o=cm();return zn.fromPromise=o.PromiseObservable.create,zn}var Eu;function tg(){if(Eu)return Ru;Eu=1;var o=g(),s=rg();return o.Observable.fromPromise=s.fromPromise,Ru}var ju={},Gn={},Ge={},Au;function ng(){if(Au)return Ge;Au=1;var o=Ge&&Ge.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=g(),f=X(),c=function(a){return a},l=(function(a){o(n,a);function n(r,e,t,i,u){a.call(this),this.initialState=r,this.condition=e,this.iterate=t,this.resultSelector=i,this.scheduler=u}return n.create=function(r,e,t,i,u){return arguments.length==1?new n(r.initialState,r.condition,r.iterate,r.resultSelector||c,r.scheduler):i===void 0||f.isScheduler(i)?new n(r,e,t,c,i):new n(r,e,t,i,u)},n.prototype._subscribe=function(r){var e=this.initialState;if(this.scheduler)return this.scheduler.schedule(n.dispatch,0,{subscriber:r,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:e});var t=this,i=t.condition,u=t.resultSelector,h=t.iterate;do{if(i){var v=void 0;try{v=i(e)}catch(b){r.error(b);return}if(!v){r.complete();break}}var p=void 0;try{p=u(e)}catch(b){r.error(b);return}if(r.next(p),r.closed)break;try{e=h(e)}catch(b){r.error(b);return}}while(!0)},n.dispatch=function(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(h){e.error(h);return}else r.needIterate=!0;if(t){var i=void 0;try{i=t(r.state)}catch(h){e.error(h);return}if(!i){e.complete();return}if(e.closed)return}var u;try{u=r.resultSelector(r.state)}catch(h){e.error(h);return}if(!e.closed&&(e.next(u),!e.closed))return this.schedule(r)}},n})(s.Observable);return Ge.GenerateObservable=l,Ge}var Iu;function ig(){if(Iu)return Gn;Iu=1;var o=ng();return Gn.generate=o.GenerateObservable.create,Gn}var ku;function og(){if(ku)return ju;ku=1;var o=g(),s=ig();return o.Observable.generate=s.generate,ju}var Cu={},Hn={},He={},Pu;function ag(){if(Pu)return He;Pu=1;var o=He&&He.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=g(),f=F(),c=P(),l=(function(n){o(r,n);function r(e,t,i){n.call(this),this.condition=e,this.thenSource=t,this.elseSource=i}return r.create=function(e,t,i){return new r(e,t,i)},r.prototype._subscribe=function(e){var t=this,i=t.condition,u=t.thenSource,h=t.elseSource;return new a(e,i,u,h)},r})(s.Observable);He.IfObservable=l;var a=(function(n){o(r,n);function r(e,t,i,u){n.call(this,e),this.condition=t,this.thenSource=i,this.elseSource=u,this.tryIf()}return r.prototype.tryIf=function(){var e=this,t=e.condition,i=e.thenSource,u=e.elseSource,h;try{h=t();var v=h?i:u;v?this.add(f.subscribeToResult(this,v)):this._complete()}catch(p){this._error(p)}},r})(c.OuterSubscriber);return He}var Fu;function sg(){if(Fu)return Hn;Fu=1;var o=ag();return Hn._if=o.IfObservable.create,Hn}var Mu;function ug(){if(Mu)return Cu;Mu=1;var o=g(),s=sg();return o.Observable.if=s._if,Cu}var Nu={},Jn={},Je={},Yn={},Wu;function Et(){if(Wu)return Yn;Wu=1;var o=re();function s(f){return!o.isArray(f)&&f-parseFloat(f)+1>=0}return Yn.isNumeric=s,Yn}var Kn={},Ye={},Ke={},Lu;function cg(){if(Lu)return Ke;Lu=1;var o=Ke&&Ke.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=B(),f=(function(c){o(l,c);function l(a,n){c.call(this)}return l.prototype.schedule=function(a,n){return this},l})(s.Subscription);return Ke.Action=f,Ke}var Du;function jt(){if(Du)return Ye;Du=1;var o=Ye&&Ye.__extends||function(l,a){for(var n in a)a.hasOwnProperty(n)&&(l[n]=a[n]);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)},s=K(),f=cg(),c=(function(l){o(a,l);function a(n,r){l.call(this,n,r),this.scheduler=n,this.pending=!1,this.work=r}return a.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n,this.pending=!0;var e=this.id,t=this.scheduler;return e!=null&&(this.id=this.recycleAsyncId(t,e,r)),this.delay=r,this.id=this.id||this.requestAsyncId(t,this.id,r),this},a.prototype.requestAsyncId=function(n,r,e){return e===void 0&&(e=0),s.root.setInterval(n.flush.bind(n,this),e)},a.prototype.recycleAsyncId=function(n,r,e){return e===void 0&&(e=0),e!==null&&this.delay===e&&this.pending===!1?r:s.root.clearInterval(r)&&void 0||void 0},a.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(n,r);if(e)return e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},a.prototype._execute=function(n,r){var e=!1,t=void 0;try{this.work(n)}catch(i){e=!0,t=!!i&&i||new Error(i)}if(e)return this.unsubscribe(),t},a.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,e=r.actions,t=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,t!==-1&&e.splice(t,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},a})(f.Action);return Ye.AsyncAction=c,Ye}var Ze={},Zn={},Vu;function lg(){if(Vu)return Zn;Vu=1;var o=(function(){function s(f,c){c===void 0&&(c=s.now),this.SchedulerAction=f,this.now=c}return s.prototype.schedule=function(f,c,l){return c===void 0&&(c=0),new this.SchedulerAction(this,f).schedule(l,c)},s.now=Date.now?Date.now:function(){return+new Date},s})();return Zn.Scheduler=o,Zn}var Uu;function At(){if(Uu)return Ze;Uu=1;var o=Ze&&Ze.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=lg(),f=(function(c){o(l,c);function l(){c.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return l.prototype.flush=function(a){var n=this.actions;if(this.active){n.push(a);return}var r;this.active=!0;do if(r=a.execute(a.state,a.delay))break;while(a=n.shift());if(this.active=!1,r){for(;a=n.shift();)a.unsubscribe();throw r}},l})(s.Scheduler);return Ze.AsyncScheduler=f,Ze}var Bu;function D(){if(Bu)return Kn;Bu=1;var o=jt(),s=At();return Kn.async=new s.AsyncScheduler(o.AsyncAction),Kn}var zu;function fg(){if(zu)return Je;zu=1;var o=Je&&Je.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=Et(),f=g(),c=D(),l=(function(a){o(n,a);function n(r,e){r===void 0&&(r=0),e===void 0&&(e=c.async),a.call(this),this.period=r,this.scheduler=e,(!s.isNumeric(r)||r<0)&&(this.period=0),(!e||typeof e.schedule!="function")&&(this.scheduler=c.async)}return n.create=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=c.async),new n(r,e)},n.dispatch=function(r){var e=r.index,t=r.subscriber,i=r.period;t.next(e),!t.closed&&(r.index+=1,this.schedule(r,i))},n.prototype._subscribe=function(r){var e=0,t=this.period,i=this.scheduler;r.add(i.schedule(n.dispatch,t,{index:e,subscriber:r,period:t}))},n})(f.Observable);return Je.IntervalObservable=l,Je}var Gu;function hg(){if(Gu)return Jn;Gu=1;var o=fg();return Jn.interval=o.IntervalObservable.create,Jn}var Hu;function vg(){if(Hu)return Nu;Hu=1;var o=g(),s=hg();return o.Observable.interval=s.interval,Nu}var Ju={},Qn={},Yu;function Yt(){if(Yu)return Qn;Yu=1;var o=g(),s=oe(),f=X(),c=nn();function l(){for(var a=[],n=0;n<arguments.length;n++)a[n-0]=arguments[n];var r=Number.POSITIVE_INFINITY,e=null,t=a[a.length-1];return f.isScheduler(t)?(e=a.pop(),a.length>1&&typeof a[a.length-1]=="number"&&(r=a.pop())):typeof t=="number"&&(r=a.pop()),e===null&&a.length===1&&a[0]instanceof o.Observable?a[0]:c.mergeAll(r)(new s.ArrayObservable(a,e))}return Qn.merge=l,Qn}var Ku;function pg(){if(Ku)return Ju;Ku=1;var o=g(),s=Yt();return o.Observable.merge=s.merge,Ju}var Zu={},le={},Qu;function Va(){if(Qu)return le;Qu=1;var o=le&&le.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=re(),f=oe(),c=P(),l=F();function a(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length===1)if(s.isArray(e[0]))e=e[0];else return e[0];return new f.ArrayObservable(e).lift(new n)}le.race=a;var n=(function(){function e(){}return e.prototype.call=function(t,i){return i.subscribe(new r(t))},e})();le.RaceOperator=n;var r=(function(e){o(t,e);function t(i){e.call(this,i),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return t.prototype._next=function(i){this.observables.push(i)},t.prototype._complete=function(){var i=this.observables,u=i.length;if(u===0)this.destination.complete();else{for(var h=0;h<u&&!this.hasFirst;h++){var v=i[h],p=l.subscribeToResult(this,v,v,h);this.subscriptions&&this.subscriptions.push(p),this.add(p)}this.observables=null}},t.prototype.notifyNext=function(i,u,h,v,p){if(!this.hasFirst){this.hasFirst=!0;for(var b=0;b<this.subscriptions.length;b++)if(b!==h){var d=this.subscriptions[b];d.unsubscribe(),this.remove(d)}this.subscriptions=null}this.destination.next(u)},t})(c.OuterSubscriber);return le.RaceSubscriber=r,le}var Xu;function bg(){if(Xu)return Zu;Xu=1;var o=g(),s=Va();return o.Observable.race=s.race,Zu}var ec={},Xn={},Qe={},rc;function dg(){if(rc)return Qe;rc=1;var o=Qe&&Qe.__extends||function(l,a){for(var n in a)a.hasOwnProperty(n)&&(l[n]=a[n]);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)},s=g(),f=Na(),c=(function(l){o(a,l);function a(){l.call(this)}return a.create=function(){return new a},a.prototype._subscribe=function(n){f.noop()},a})(s.Observable);return Qe.NeverObservable=c,Qe}var tc;function yg(){if(tc)return Xn;tc=1;var o=dg();return Xn.never=o.NeverObservable.create,Xn}var nc;function mg(){if(nc)return ec;nc=1;var o=g(),s=yg();return o.Observable.never=s.never,ec}var ic={},oc;function _g(){if(oc)return ic;oc=1;var o=g(),s=um();return o.Observable.of=s.of,ic}var ac={},ei={},me={},sc;function Ua(){if(sc)return me;sc=1;var o=me&&me.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=lm(),f=re(),c=P(),l=F();function a(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];return t.length===1&&f.isArray(t[0])&&(t=t[0]),function(u){return u.lift(new r(t))}}me.onErrorResumeNext=a;function n(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];var u=null;return t.length===1&&f.isArray(t[0])&&(t=t[0]),u=t.shift(),new s.FromObservable(u,null).lift(new r(t))}me.onErrorResumeNextStatic=n;var r=(function(){function t(i){this.nextSources=i}return t.prototype.call=function(i,u){return u.subscribe(new e(i,this.nextSources))},t})(),e=(function(t){o(i,t);function i(u,h){t.call(this,u),this.destination=u,this.nextSources=h}return i.prototype.notifyError=function(u,h){this.subscribeToNextSource()},i.prototype.notifyComplete=function(u){this.subscribeToNextSource()},i.prototype._error=function(u){this.subscribeToNextSource()},i.prototype._complete=function(){this.subscribeToNextSource()},i.prototype.subscribeToNextSource=function(){var u=this.nextSources.shift();u?this.add(l.subscribeToResult(this,u)):this.destination.complete()},i})(c.OuterSubscriber);return me}var uc;function Sg(){if(uc)return ei;uc=1;var o=Ua();return ei.onErrorResumeNext=o.onErrorResumeNextStatic,ei}var cc;function gg(){if(cc)return ac;cc=1;var o=g(),s=Sg();return o.Observable.onErrorResumeNext=s.onErrorResumeNext,ac}var lc={},ri={},Xe={},fc;function Og(){if(fc)return Xe;fc=1;var o=Xe&&Xe.__extends||function(l,a){for(var n in a)a.hasOwnProperty(n)&&(l[n]=a[n]);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)},s=g();function f(l){var a=l.obj,n=l.keys,r=l.length,e=l.index,t=l.subscriber;if(e===r){t.complete();return}var i=n[e];t.next([i,a[i]]),l.index=e+1,this.schedule(l)}var c=(function(l){o(a,l);function a(n,r){l.call(this),this.obj=n,this.scheduler=r,this.keys=Object.keys(n)}return a.create=function(n,r){return new a(n,r)},a.prototype._subscribe=function(n){var r=this,e=r.keys,t=r.scheduler,i=e.length;if(t)return t.schedule(f,0,{obj:this.obj,keys:e,length:i,index:0,subscriber:n});for(var u=0;u<i;u++){var h=e[u];n.next([h,this.obj[h]])}n.complete()},a})(s.Observable);return Xe.PairsObservable=c,Xe}var hc;function wg(){if(hc)return ri;hc=1;var o=Og();return ri.pairs=o.PairsObservable.create,ri}var vc;function xg(){if(vc)return lc;vc=1;var o=g(),s=wg();return o.Observable.pairs=s.pairs,lc}var pc={},ti={},er={},bc;function qg(){if(bc)return er;bc=1;var o=er&&er.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=g(),f=(function(c){o(l,c);function l(a,n,r){c.call(this),this.start=a,this._count=n,this.scheduler=r}return l.create=function(a,n,r){return a===void 0&&(a=0),n===void 0&&(n=0),new l(a,n,r)},l.dispatch=function(a){var n=a.start,r=a.index,e=a.count,t=a.subscriber;if(r>=e){t.complete();return}t.next(n),!t.closed&&(a.index=r+1,a.start=n+1,this.schedule(a))},l.prototype._subscribe=function(a){var n=0,r=this.start,e=this._count,t=this.scheduler;if(t)return t.schedule(l.dispatch,0,{index:n,count:e,start:r,subscriber:a});do{if(n++>=e){a.complete();break}if(a.next(r++),a.closed)break}while(!0)},l})(s.Observable);return er.RangeObservable=f,er}var dc;function $g(){if(dc)return ti;dc=1;var o=qg();return ti.range=o.RangeObservable.create,ti}var yc;function Rg(){if(yc)return pc;yc=1;var o=g(),s=$g();return o.Observable.range=s.range,pc}var mc={},ni={},rr={},_c;function Tg(){if(_c)return rr;_c=1;var o=rr&&rr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=g(),f=F(),c=P(),l=(function(n){o(r,n);function r(e,t){n.call(this),this.resourceFactory=e,this.observableFactory=t}return r.create=function(e,t){return new r(e,t)},r.prototype._subscribe=function(e){var t=this,i=t.resourceFactory,u=t.observableFactory,h;try{return h=i(),new a(e,h,u)}catch(v){e.error(v)}},r})(s.Observable);rr.UsingObservable=l;var a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.resource=t,this.observableFactory=i,e.add(t),this.tryUse()}return r.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(f.subscribeToResult(this,e))}catch(t){this._error(t)}},r})(c.OuterSubscriber);return rr}var Sc;function Eg(){if(Sc)return ni;Sc=1;var o=Tg();return ni.using=o.UsingObservable.create,ni}var gc;function jg(){if(gc)return mc;gc=1;var o=g(),s=Eg();return o.Observable.using=s.using,mc}var Oc={},ii={},tr={},wc;function Ag(){if(wc)return tr;wc=1;var o=tr&&tr.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=g(),f=(function(c){o(l,c);function l(a,n){c.call(this),this.error=a,this.scheduler=n}return l.create=function(a,n){return new l(a,n)},l.dispatch=function(a){var n=a.error,r=a.subscriber;r.error(n)},l.prototype._subscribe=function(a){var n=this.error,r=this.scheduler;if(a.syncErrorThrowable=!0,r)return r.schedule(l.dispatch,0,{error:n,subscriber:a});a.error(n)},l})(s.Observable);return tr.ErrorObservable=f,tr}var xc;function Ig(){if(xc)return ii;xc=1;var o=Ag();return ii._throw=o.ErrorObservable.create,ii}var qc;function kg(){if(qc)return Oc;qc=1;var o=g(),s=Ig();return o.Observable.throw=s._throw,Oc}var $c={},oi={},nr={},ai={},Rc;function on(){if(Rc)return ai;Rc=1;function o(s){return s instanceof Date&&!isNaN(+s)}return ai.isDate=o,ai}var Tc;function Cg(){if(Tc)return nr;Tc=1;var o=nr&&nr.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=Et(),f=g(),c=D(),l=X(),a=on(),n=(function(r){o(e,r);function e(t,i,u){t===void 0&&(t=0),r.call(this),this.period=-1,this.dueTime=0,s.isNumeric(i)?this.period=Number(i)<1&&1||Number(i):l.isScheduler(i)&&(u=i),l.isScheduler(u)||(u=c.async),this.scheduler=u,this.dueTime=a.isDate(t)?+t-this.scheduler.now():t}return e.create=function(t,i,u){return t===void 0&&(t=0),new e(t,i,u)},e.dispatch=function(t){var i=t.index,u=t.period,h=t.subscriber,v=this;if(h.next(i),!h.closed){if(u===-1)return h.complete();t.index=i+1,v.schedule(t,u)}},e.prototype._subscribe=function(t){var i=0,u=this,h=u.period,v=u.dueTime,p=u.scheduler;return p.schedule(e.dispatch,v,{index:i,period:h,subscriber:t})},e})(f.Observable);return nr.TimerObservable=n,nr}var Ec;function vm(){if(Ec)return oi;Ec=1;var o=Cg();return oi.timer=o.TimerObservable.create,oi}var jc;function Pg(){if(jc)return $c;jc=1;var o=g(),s=vm();return o.Observable.timer=s.timer,$c}var Ac={},si={},ne={},Ic;function an(){if(Ic)return ne;Ic=1;var o=ne&&ne.__extends||function(p,b){for(var d in b)b.hasOwnProperty(d)&&(p[d]=b[d]);function y(){this.constructor=p}p.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)},s=oe(),f=re(),c=I(),l=P(),a=F(),n=Rt();function r(){for(var p=[],b=0;b<arguments.length;b++)p[b-0]=arguments[b];return function(y){return y.lift.call(e.apply(void 0,[y].concat(p)))}}ne.zip=r;function e(){for(var p=[],b=0;b<arguments.length;b++)p[b-0]=arguments[b];var d=p[p.length-1];return typeof d=="function"&&p.pop(),new s.ArrayObservable(p).lift(new t(d))}ne.zipStatic=e;var t=(function(){function p(b){this.project=b}return p.prototype.call=function(b,d){return d.subscribe(new i(b,this.project))},p})();ne.ZipOperator=t;var i=(function(p){o(b,p);function b(d,y,_){_===void 0&&(_=Object.create(null)),p.call(this,d),this.iterators=[],this.active=0,this.project=typeof y=="function"?y:null,this.values=_}return b.prototype._next=function(d){var y=this.iterators;f.isArray(d)?y.push(new h(d)):typeof d[n.iterator]=="function"?y.push(new u(d[n.iterator]())):y.push(new v(this.destination,this,d))},b.prototype._complete=function(){var d=this.iterators,y=d.length;if(y===0){this.destination.complete();return}this.active=y;for(var _=0;_<y;_++){var S=d[_];S.stillUnsubscribed?this.add(S.subscribe(S,_)):this.active--}},b.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},b.prototype.checkIterators=function(){for(var d=this.iterators,y=d.length,_=this.destination,S=0;S<y;S++){var $=d[S];if(typeof $.hasValue=="function"&&!$.hasValue())return}for(var j=!1,T=[],S=0;S<y;S++){var $=d[S],m=$.next();if($.hasCompleted()&&(j=!0),m.done){_.complete();return}T.push(m.value)}this.project?this._tryProject(T):_.next(T),j&&_.complete()},b.prototype._tryProject=function(d){var y;try{y=this.project.apply(this,d)}catch(_){this.destination.error(_);return}this.destination.next(y)},b})(c.Subscriber);ne.ZipSubscriber=i;var u=(function(){function p(b){this.iterator=b,this.nextResult=b.next()}return p.prototype.hasValue=function(){return!0},p.prototype.next=function(){var b=this.nextResult;return this.nextResult=this.iterator.next(),b},p.prototype.hasCompleted=function(){var b=this.nextResult;return b&&b.done},p})(),h=(function(){function p(b){this.array=b,this.index=0,this.length=0,this.length=b.length}return p.prototype[n.iterator]=function(){return this},p.prototype.next=function(b){var d=this.index++,y=this.array;return d<this.length?{value:y[d],done:!1}:{value:null,done:!0}},p.prototype.hasValue=function(){return this.array.length>this.index},p.prototype.hasCompleted=function(){return this.array.length===this.index},p})(),v=(function(p){o(b,p);function b(d,y,_){p.call(this,d),this.parent=y,this.observable=_,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return b.prototype[n.iterator]=function(){return this},b.prototype.next=function(){var d=this.buffer;return d.length===0&&this.isComplete?{value:null,done:!0}:{value:d.shift(),done:!1}},b.prototype.hasValue=function(){return this.buffer.length>0},b.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},b.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},b.prototype.notifyNext=function(d,y,_,S,$){this.buffer.push(y),this.parent.checkIterators()},b.prototype.subscribe=function(d,y){return a.subscribeToResult(this,this.observable,this,y)},b})(l.OuterSubscriber);return ne}var kc;function Fg(){if(kc)return si;kc=1;var o=an();return si.zip=o.zipStatic,si}var Cc;function Mg(){if(Cc)return Ac;Cc=1;var o=g(),s=Fg();return o.Observable.zip=s.zip,Ac}var Pc={},ui={},J={},_e={},Fc;function It(){if(Fc)return _e;Fc=1;var o=_e&&_e.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a,n){return function(e){if(typeof a!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new c(a,n))}}_e.map=f;var c=(function(){function a(n,r){this.project=n,this.thisArg=r}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.project,this.thisArg))},a})();_e.MapOperator=c;var l=(function(a){o(n,a);function n(r,e,t){a.call(this,r),this.project=e,this.count=0,this.thisArg=t||this}return n.prototype._next=function(r){var e;try{e=this.project.call(this.thisArg,r,this.count++)}catch(t){this.destination.error(t);return}this.destination.next(e)},n})(s.Subscriber);return _e}var Mc;function pm(){if(Mc)return J;Mc=1;var o=J&&J.__extends||function(T,m){for(var w in m)m.hasOwnProperty(w)&&(T[w]=m[w]);function O(){this.constructor=T}T.prototype=m===null?Object.create(m):(O.prototype=m.prototype,new O)},s=K(),f=H(),c=z(),l=g(),a=I(),n=It();function r(){if(s.root.XMLHttpRequest)return new s.root.XMLHttpRequest;if(s.root.XDomainRequest)return new s.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function e(){if(s.root.XMLHttpRequest)return new s.root.XMLHttpRequest;var T=void 0;try{for(var m=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],w=0;w<3;w++)try{if(T=m[w],new s.root.ActiveXObject(T))break}catch{}return new s.root.ActiveXObject(T)}catch{throw new Error("XMLHttpRequest is not supported by your browser")}}function t(T,m){return m===void 0&&(m=null),new d({method:"GET",url:T,headers:m})}J.ajaxGet=t;function i(T,m,w){return new d({method:"POST",url:T,body:m,headers:w})}J.ajaxPost=i;function u(T,m){return new d({method:"DELETE",url:T,headers:m})}J.ajaxDelete=u;function h(T,m,w){return new d({method:"PUT",url:T,body:m,headers:w})}J.ajaxPut=h;function v(T,m,w){return new d({method:"PATCH",url:T,body:m,headers:w})}J.ajaxPatch=v;var p=n.map(function(T,m){return T.response});function b(T,m){return p(new d({method:"GET",url:T,responseType:"json",headers:m}))}J.ajaxGetJSON=b;var d=(function(T){o(m,T);function m(w){T.call(this);var O={async:!0,createXHR:function(){return this.crossDomain?r.call(this):e()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if(typeof w=="string")O.url=w;else for(var x in w)w.hasOwnProperty(x)&&(O[x]=w[x]);this.request=O}return m.prototype._subscribe=function(w){return new y(w,this.request)},m.create=(function(){var w=function(O){return new m(O)};return w.get=t,w.post=i,w.delete=u,w.put=h,w.patch=v,w.getJSON=b,w})(),m})(l.Observable);J.AjaxObservable=d;var y=(function(T){o(m,T);function m(w,O){T.call(this,w),this.request=O,this.done=!1;var x=O.headers=O.headers||{};!O.crossDomain&&!x["X-Requested-With"]&&(x["X-Requested-With"]="XMLHttpRequest"),!("Content-Type"in x)&&!(s.root.FormData&&O.body instanceof s.root.FormData)&&typeof O.body<"u"&&(x["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),O.body=this.serializeBody(O.body,O.headers["Content-Type"]),this.send()}return m.prototype.next=function(w){this.done=!0;var O=this,x=O.xhr,q=O.request,R=O.destination,A=new _(w,x,q);R.next(A)},m.prototype.send=function(){var w=this,O=w.request,x=w.request,q=x.user,R=x.method,A=x.url,k=x.async,N=x.password,M=x.headers,V=x.body,L=O.createXHR,C=f.tryCatch(L).call(O);if(C===c.errorObject)this.error(c.errorObject.e);else{this.xhr=C,this.setupEvents(C,O);var U=void 0;if(q?U=f.tryCatch(C.open).call(C,R,A,k,q,N):U=f.tryCatch(C.open).call(C,R,A,k),U===c.errorObject)return this.error(c.errorObject.e),null;if(k&&(C.timeout=O.timeout,C.responseType=O.responseType),"withCredentials"in C&&(C.withCredentials=!!O.withCredentials),this.setHeaders(C,M),U=V?f.tryCatch(C.send).call(C,V):f.tryCatch(C.send).call(C),U===c.errorObject)return this.error(c.errorObject.e),null}return C},m.prototype.serializeBody=function(w,O){if(!w||typeof w=="string")return w;if(s.root.FormData&&w instanceof s.root.FormData)return w;if(O){var x=O.indexOf(";");x!==-1&&(O=O.substring(0,x))}switch(O){case"application/x-www-form-urlencoded":return Object.keys(w).map(function(q){return encodeURIComponent(q)+"="+encodeURIComponent(w[q])}).join("&");case"application/json":return JSON.stringify(w);default:return w}},m.prototype.setHeaders=function(w,O){for(var x in O)O.hasOwnProperty(x)&&w.setRequestHeader(x,O[x])},m.prototype.setupEvents=function(w,O){var x=O.progressSubscriber;function q(N){var M=q,V=M.subscriber,L=M.progressSubscriber,C=M.request;L&&L.error(N),V.error(new j(this,C))}if(w.ontimeout=q,q.request=O,q.subscriber=this,q.progressSubscriber=x,w.upload&&"withCredentials"in w){if(x){var R;R=function(N){var M=R.progressSubscriber;M.next(N)},s.root.XDomainRequest?w.onprogress=R:w.upload.onprogress=R,R.progressSubscriber=x}var A;A=function(N){var M=A,V=M.progressSubscriber,L=M.subscriber,C=M.request;V&&V.error(N),L.error(new S("ajax error",this,C))},w.onerror=A,A.request=O,A.subscriber=this,A.progressSubscriber=x}function k(N){var M=k,V=M.subscriber,L=M.progressSubscriber,C=M.request;if(this.readyState===4){var U=this.status===1223?204:this.status,Q=this.responseType==="text"?this.response||this.responseText:this.response;U===0&&(U=Q?200:0),200<=U&&U<300?(L&&L.complete(),V.next(N),V.complete()):(L&&L.error(N),V.error(new S("ajax error "+U,this,C)))}}w.onreadystatechange=k,k.subscriber=this,k.progressSubscriber=x,k.request=O},m.prototype.unsubscribe=function(){var w=this,O=w.done,x=w.xhr;!O&&x&&x.readyState!==4&&typeof x.abort=="function"&&x.abort(),T.prototype.unsubscribe.call(this)},m})(a.Subscriber);J.AjaxSubscriber=y;var _=(function(){function T(m,w,O){this.originalEvent=m,this.xhr=w,this.request=O,this.status=w.status,this.responseType=w.responseType||O.responseType,this.response=$(this.responseType,w)}return T})();J.AjaxResponse=_;var S=(function(T){o(m,T);function m(w,O,x){T.call(this,w),this.message=w,this.xhr=O,this.request=x,this.status=O.status,this.responseType=O.responseType||x.responseType,this.response=$(this.responseType,O)}return m})(Error);J.AjaxError=S;function $(T,m){switch(T){case"json":return"response"in m?m.responseType?m.response:JSON.parse(m.response||m.responseText||"null"):JSON.parse(m.responseText||"null");case"xml":return m.responseXML;case"text":default:return"response"in m?m.response:m.responseText}}var j=(function(T){o(m,T);function m(w,O){T.call(this,"ajax timeout",w,O)}return m})(S);return J.AjaxTimeoutError=j,J}var Nc;function Ng(){if(Nc)return ui;Nc=1;var o=pm();return ui.ajax=o.AjaxObservable.create,ui}var Wc;function Wg(){if(Wc)return Pc;Wc=1;var o=g(),s=Ng();return o.Observable.ajax=s.ajax,Pc}var Lc={},ci={},ir={},or={},li={},ar={},Dc;function Lg(){if(Dc)return ar;Dc=1;var o=ar&&ar.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=jt(),f=(function(c){o(l,c);function l(a,n){c.call(this,a,n),this.scheduler=a,this.work=n}return l.prototype.schedule=function(a,n){return n===void 0&&(n=0),n>0?c.prototype.schedule.call(this,a,n):(this.delay=n,this.state=a,this.scheduler.flush(this),this)},l.prototype.execute=function(a,n){return n>0||this.closed?c.prototype.execute.call(this,a,n):this._execute(a,n)},l.prototype.requestAsyncId=function(a,n,r){return r===void 0&&(r=0),r!==null&&r>0||r===null&&this.delay>0?c.prototype.requestAsyncId.call(this,a,n,r):a.flush(this)},l})(s.AsyncAction);return ar.QueueAction=f,ar}var sr={},Vc;function Dg(){if(Vc)return sr;Vc=1;var o=sr&&sr.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=At(),f=(function(c){o(l,c);function l(){c.apply(this,arguments)}return l})(s.AsyncScheduler);return sr.QueueScheduler=f,sr}var Uc;function bm(){if(Uc)return li;Uc=1;var o=Lg(),s=Dg();return li.queue=new s.QueueScheduler(o.QueueAction),li}var Bc;function sn(){if(Bc)return or;Bc=1;var o=or&&or.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=G(),f=bm(),c=B(),l=tn(),a=Xt(),n=om(),r=(function(t){o(i,t);function i(u,h,v){u===void 0&&(u=Number.POSITIVE_INFINITY),h===void 0&&(h=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=v,this._events=[],this._bufferSize=u<1?1:u,this._windowTime=h<1?1:h}return i.prototype.next=function(u){var h=this._getNow();this._events.push(new e(h,u)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,u)},i.prototype._subscribe=function(u){var h=this._trimBufferThenGetEvents(),v=this.scheduler,p;if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError||this.isStopped?p=c.Subscription.EMPTY:(this.observers.push(u),p=new n.SubjectSubscription(this,u)),v&&u.add(u=new l.ObserveOnSubscriber(u,v));for(var b=h.length,d=0;d<b&&!u.closed;d++)u.next(h[d].value);return this.hasError?u.error(this.thrownError):this.isStopped&&u.complete(),p},i.prototype._getNow=function(){return(this.scheduler||f.queue).now()},i.prototype._trimBufferThenGetEvents=function(){for(var u=this._getNow(),h=this._bufferSize,v=this._windowTime,p=this._events,b=p.length,d=0;d<b&&!(u-p[d].time<v);)d++;return b>h&&(d=Math.max(d,b-h)),d>0&&p.splice(0,d),p},i})(s.Subject);or.ReplaySubject=r;var e=(function(){function t(i,u){this.time=i,this.value=u}return t})();return or}var ur={},zc;function Vg(){if(zc)return ur;zc=1;var o=K();function s(c){for(var l=[],a=1;a<arguments.length;a++)l[a-1]=arguments[a];for(var n=l.length,r=0;r<n;r++){var e=l[r];for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t])}return c}ur.assignImpl=s;function f(c){return c.Object.assign||s}return ur.getAssign=f,ur.assign=f(o.root),ur}var Gc;function Ug(){if(Gc)return ir;Gc=1;var o=ir&&ir.__extends||function(u,h){for(var v in h)h.hasOwnProperty(v)&&(u[v]=h[v]);function p(){this.constructor=u}u.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)},s=G(),f=I(),c=g(),l=B(),a=K(),n=sn(),r=H(),e=z(),t=Vg(),i=(function(u){o(h,u);function h(v,p){if(v instanceof c.Observable)u.call(this,p,v);else{if(u.call(this),this.WebSocketCtor=a.root.WebSocket,this._output=new s.Subject,typeof v=="string"?this.url=v:t.assign(this,v),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new n.ReplaySubject}}return h.prototype.resultSelector=function(v){return JSON.parse(v.data)},h.create=function(v){return new h(v)},h.prototype.lift=function(v){var p=new h(this,this.destination);return p.operator=v,p},h.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new n.ReplaySubject),this._output=new s.Subject},h.prototype.multiplex=function(v,p,b){var d=this;return new c.Observable(function(y){var _=r.tryCatch(v)();_===e.errorObject?y.error(e.errorObject.e):d.next(_);var S=d.subscribe(function($){var j=r.tryCatch(b)($);j===e.errorObject?y.error(e.errorObject.e):j&&y.next($)},function($){return y.error($)},function(){return y.complete()});return function(){var $=r.tryCatch(p)();$===e.errorObject?y.error(e.errorObject.e):d.next($),S.unsubscribe()}})},h.prototype._connectSocket=function(){var v=this,p=this.WebSocketCtor,b=this._output,d=null;try{d=this.protocol?new p(this.url,this.protocol):new p(this.url),this.socket=d,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(_){b.error(_);return}var y=new l.Subscription(function(){v.socket=null,d&&d.readyState===1&&d.close()});d.onopen=function(_){var S=v.openObserver;S&&S.next(_);var $=v.destination;v.destination=f.Subscriber.create(function(j){return d.readyState===1&&d.send(j)},function(j){var T=v.closingObserver;T&&T.next(void 0),j&&j.code?d.close(j.code,j.reason):b.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),v._resetState()},function(){var j=v.closingObserver;j&&j.next(void 0),d.close(),v._resetState()}),$&&$ instanceof n.ReplaySubject&&y.add($.subscribe(v.destination))},d.onerror=function(_){v._resetState(),b.error(_)},d.onclose=function(_){v._resetState();var S=v.closeObserver;S&&S.next(_),_.wasClean?b.complete():b.error(_)},d.onmessage=function(_){var S=r.tryCatch(v.resultSelector)(_);S===e.errorObject?b.error(e.errorObject.e):b.next(S)}},h.prototype._subscribe=function(v){var p=this,b=this.source;if(b)return b.subscribe(v);this.socket||this._connectSocket();var d=new l.Subscription;return d.add(this._output.subscribe(v)),d.add(function(){var y=p.socket;p._output.observers.length===0&&(y&&y.readyState===1&&y.close(),p._resetState())}),d},h.prototype.unsubscribe=function(){var v=this,p=v.source,b=v.socket;b&&b.readyState===1&&(b.close(),this._resetState()),u.prototype.unsubscribe.call(this),p||(this.destination=new n.ReplaySubject)},h})(s.AnonymousSubject);return ir.WebSocketSubject=i,ir}var Hc;function Bg(){if(Hc)return ci;Hc=1;var o=Ug();return ci.webSocket=o.WebSocketSubject.create,ci}var Jc;function zg(){if(Jc)return Lc;Jc=1;var o=g(),s=Bg();return o.Observable.webSocket=s.webSocket,Lc}var Yc={},fi={},cr={},Kc;function dm(){if(Kc)return cr;Kc=1;var o=cr&&cr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n){return function(e){return e.lift(new l(n))}}cr.buffer=c;var l=(function(){function n(r){this.closingNotifier=r}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.closingNotifier))},n})(),a=(function(n){o(r,n);function r(e,t){n.call(this,e),this.buffer=[],this.add(f.subscribeToResult(this,t))}return r.prototype._next=function(e){this.buffer.push(e)},r.prototype.notifyNext=function(e,t,i,u,h){var v=this.buffer;this.buffer=[],this.destination.next(v)},r})(s.OuterSubscriber);return cr}var Zc;function Gg(){if(Zc)return fi;Zc=1;var o=dm();function s(f){return o.buffer(f)(this)}return fi.buffer=s,fi}var Qc;function Hg(){if(Qc)return Yc;Qc=1;var o=g(),s=Gg();return o.Observable.prototype.buffer=s.buffer,Yc}var Xc={},hi={},lr={},el;function ym(){if(el)return lr;el=1;var o=lr&&lr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I();function f(n,r){return r===void 0&&(r=null),function(t){return t.lift(new c(n,r))}}lr.bufferCount=f;var c=(function(){function n(r,e){this.bufferSize=r,this.startBufferEvery=e,!e||r===e?this.subscriberClass=l:this.subscriberClass=a}return n.prototype.call=function(r,e){return e.subscribe(new this.subscriberClass(r,this.bufferSize,this.startBufferEvery))},n})(),l=(function(n){o(r,n);function r(e,t){n.call(this,e),this.bufferSize=t,this.buffer=[]}return r.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},r.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),n.prototype._complete.call(this)},r})(s.Subscriber),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.bufferSize=t,this.startBufferEvery=i,this.buffers=[],this.count=0}return r.prototype._next=function(e){var t=this,i=t.bufferSize,u=t.startBufferEvery,h=t.buffers,v=t.count;this.count++,v%u===0&&h.push([]);for(var p=h.length;p--;){var b=h[p];b.push(e),b.length===i&&(h.splice(p,1),this.destination.next(b))}},r.prototype._complete=function(){for(var e=this,t=e.buffers,i=e.destination;t.length>0;){var u=t.shift();u.length>0&&i.next(u)}n.prototype._complete.call(this)},r})(s.Subscriber);return lr}var rl;function Jg(){if(rl)return hi;rl=1;var o=ym();function s(f,c){return c===void 0&&(c=null),o.bufferCount(f,c)(this)}return hi.bufferCount=s,hi}var tl;function Yg(){if(tl)return Xc;tl=1;var o=g(),s=Jg();return o.Observable.prototype.bufferCount=s.bufferCount,Xc}var nl={},vi={},fr={},il;function mm(){if(il)return fr;il=1;var o=fr&&fr.__extends||function(u,h){for(var v in h)h.hasOwnProperty(v)&&(u[v]=h[v]);function p(){this.constructor=u}u.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)},s=D(),f=I(),c=X();function l(u){var h=arguments.length,v=s.async;c.isScheduler(arguments[arguments.length-1])&&(v=arguments[arguments.length-1],h--);var p=null;h>=2&&(p=arguments[1]);var b=Number.POSITIVE_INFINITY;return h>=3&&(b=arguments[2]),function(y){return y.lift(new a(u,p,b,v))}}fr.bufferTime=l;var a=(function(){function u(h,v,p,b){this.bufferTimeSpan=h,this.bufferCreationInterval=v,this.maxBufferSize=p,this.scheduler=b}return u.prototype.call=function(h,v){return v.subscribe(new r(h,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},u})(),n=(function(){function u(){this.buffer=[]}return u})(),r=(function(u){o(h,u);function h(v,p,b,d,y){u.call(this,v),this.bufferTimeSpan=p,this.bufferCreationInterval=b,this.maxBufferSize=d,this.scheduler=y,this.contexts=[];var _=this.openContext();if(this.timespanOnly=b==null||b<0,this.timespanOnly){var S={subscriber:this,context:_,bufferTimeSpan:p};this.add(_.closeAction=y.schedule(e,p,S))}else{var $={subscriber:this,context:_},j={bufferTimeSpan:p,bufferCreationInterval:b,subscriber:this,scheduler:y};this.add(_.closeAction=y.schedule(i,p,$)),this.add(y.schedule(t,b,j))}}return h.prototype._next=function(v){for(var p=this.contexts,b=p.length,d,y=0;y<b;y++){var _=p[y],S=_.buffer;S.push(v),S.length==this.maxBufferSize&&(d=_)}d&&this.onBufferFull(d)},h.prototype._error=function(v){this.contexts.length=0,u.prototype._error.call(this,v)},h.prototype._complete=function(){for(var v=this,p=v.contexts,b=v.destination;p.length>0;){var d=p.shift();b.next(d.buffer)}u.prototype._complete.call(this)},h.prototype._unsubscribe=function(){this.contexts=null},h.prototype.onBufferFull=function(v){this.closeContext(v);var p=v.closeAction;if(p.unsubscribe(),this.remove(p),!this.closed&&this.timespanOnly){v=this.openContext();var b=this.bufferTimeSpan,d={subscriber:this,context:v,bufferTimeSpan:b};this.add(v.closeAction=this.scheduler.schedule(e,b,d))}},h.prototype.openContext=function(){var v=new n;return this.contexts.push(v),v},h.prototype.closeContext=function(v){this.destination.next(v.buffer);var p=this.contexts,b=p?p.indexOf(v):-1;b>=0&&p.splice(p.indexOf(v),1)},h})(f.Subscriber);function e(u){var h=u.subscriber,v=u.context;v&&h.closeContext(v),h.closed||(u.context=h.openContext(),u.context.closeAction=this.schedule(u,u.bufferTimeSpan))}function t(u){var h=u.bufferCreationInterval,v=u.bufferTimeSpan,p=u.subscriber,b=u.scheduler,d=p.openContext(),y=this;p.closed||(p.add(d.closeAction=b.schedule(i,v,{subscriber:p,context:d})),y.schedule(u,h))}function i(u){var h=u.subscriber,v=u.context;h.closeContext(v)}return fr}var ol;function Kg(){if(ol)return vi;ol=1;var o=D(),s=X(),f=mm();function c(l){var a=arguments.length,n=o.async;s.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],a--);var r=null;a>=2&&(r=arguments[1]);var e=Number.POSITIVE_INFINITY;return a>=3&&(e=arguments[2]),f.bufferTime(l,r,e,n)(this)}return vi.bufferTime=c,vi}var al;function Zg(){if(al)return nl;al=1;var o=g(),s=Kg();return o.Observable.prototype.bufferTime=s.bufferTime,nl}var sl={},pi={},hr={},ul;function _m(){if(ul)return hr;ul=1;var o=hr&&hr.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=B(),f=F(),c=P();function l(r,e){return function(i){return i.lift(new a(r,e))}}hr.bufferToggle=l;var a=(function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new n(e,this.openings,this.closingSelector))},r})(),n=(function(r){o(e,r);function e(t,i,u){r.call(this,t),this.openings=i,this.closingSelector=u,this.contexts=[],this.add(f.subscribeToResult(this,i))}return e.prototype._next=function(t){for(var i=this.contexts,u=i.length,h=0;h<u;h++)i[h].buffer.push(t)},e.prototype._error=function(t){for(var i=this.contexts;i.length>0;){var u=i.shift();u.subscription.unsubscribe(),u.buffer=null,u.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var i=t.shift();this.destination.next(i.buffer),i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,i,u,h,v){t?this.closeBuffer(t):this.openBuffer(i)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var i=this.closingSelector,u=i.call(this,t);u&&this.trySubscribe(u)}catch(h){this._error(h)}},e.prototype.closeBuffer=function(t){var i=this.contexts;if(i&&t){var u=t.buffer,h=t.subscription;this.destination.next(u),i.splice(i.indexOf(t),1),this.remove(h),h.unsubscribe()}},e.prototype.trySubscribe=function(t){var i=this.contexts,u=[],h=new s.Subscription,v={buffer:u,subscription:h};i.push(v);var p=f.subscribeToResult(this,t,v);!p||p.closed?this.closeBuffer(v):(p.context=v,this.add(p),h.add(p))},e})(c.OuterSubscriber);return hr}var cl;function Qg(){if(cl)return pi;cl=1;var o=_m();function s(f,c){return o.bufferToggle(f,c)(this)}return pi.bufferToggle=s,pi}var ll;function Xg(){if(ll)return sl;ll=1;var o=g(),s=Qg();return o.Observable.prototype.bufferToggle=s.bufferToggle,sl}var fl={},bi={},vr={},hl;function Sm(){if(hl)return vr;hl=1;var o=vr&&vr.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=B(),f=H(),c=z(),l=P(),a=F();function n(t){return function(i){return i.lift(new r(t))}}vr.bufferWhen=n;var r=(function(){function t(i){this.closingSelector=i}return t.prototype.call=function(i,u){return u.subscribe(new e(i,this.closingSelector))},t})(),e=(function(t){o(i,t);function i(u,h){t.call(this,u),this.closingSelector=h,this.subscribing=!1,this.openBuffer()}return i.prototype._next=function(u){this.buffer.push(u)},i.prototype._complete=function(){var u=this.buffer;u&&this.destination.next(u),t.prototype._complete.call(this)},i.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},i.prototype.notifyNext=function(u,h,v,p,b){this.openBuffer()},i.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},i.prototype.openBuffer=function(){var u=this.closingSubscription;u&&(this.remove(u),u.unsubscribe());var h=this.buffer;this.buffer&&this.destination.next(h),this.buffer=[];var v=f.tryCatch(this.closingSelector)();v===c.errorObject?this.error(c.errorObject.e):(u=new s.Subscription,this.closingSubscription=u,this.add(u),this.subscribing=!0,u.add(a.subscribeToResult(this,v)),this.subscribing=!1)},i})(l.OuterSubscriber);return vr}var vl;function eO(){if(vl)return bi;vl=1;var o=Sm();function s(f){return o.bufferWhen(f)(this)}return bi.bufferWhen=s,bi}var pl;function rO(){if(pl)return fl;pl=1;var o=g(),s=eO();return o.Observable.prototype.bufferWhen=s.bufferWhen,fl}var bl={},di={},pr={},dl;function gm(){if(dl)return pr;dl=1;var o=pr&&pr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n){return function(e){var t=new l(n),i=e.lift(t);return t.caught=i}}pr.catchError=c;var l=(function(){function n(r){this.selector=r}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.selector,this.caught))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.selector=t,this.caught=i}return r.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(i){n.prototype.error.call(this,i);return}this._unsubscribeAndRecycle(),this.add(f.subscribeToResult(this,t))}},r})(s.OuterSubscriber);return pr}var yl;function tO(){if(yl)return di;yl=1;var o=gm();function s(f){return o.catchError(f)(this)}return di._catch=s,di}var ml;function nO(){if(ml)return bl;ml=1;var o=g(),s=tO();return o.Observable.prototype.catch=s._catch,o.Observable.prototype._catch=s._catch,bl}var _l={},yi={},mi={},Sl;function Om(){if(Sl)return mi;Sl=1;var o=rn();function s(f){return function(c){return c.lift(new o.CombineLatestOperator(f))}}return mi.combineAll=s,mi}var gl;function iO(){if(gl)return yi;gl=1;var o=Om();function s(f){return o.combineAll(f)(this)}return yi.combineAll=s,yi}var Ol;function oO(){if(Ol)return _l;Ol=1;var o=g(),s=iO();return o.Observable.prototype.combineAll=s.combineAll,_l}var wl={},_i={},xl;function aO(){if(xl)return _i;xl=1;var o=rn();function s(){for(var f=[],c=0;c<arguments.length;c++)f[c-0]=arguments[c];return o.combineLatest.apply(void 0,f)(this)}return _i.combineLatest=s,_i}var ql;function sO(){if(ql)return wl;ql=1;var o=g(),s=aO();return o.Observable.prototype.combineLatest=s.combineLatest,wl}var $l={},Mt={},Nt={},Rl;function wm(){if(Rl)return Nt;Rl=1;var o=$t(),s=$t();Nt.concatStatic=s.concat;function f(){for(var c=[],l=0;l<arguments.length;l++)c[l-0]=arguments[l];return function(a){return a.lift.call(o.concat.apply(void 0,[a].concat(c)))}}return Nt.concat=f,Nt}var Tl;function uO(){if(Tl)return Mt;Tl=1;var o=wm(),s=$t();Mt.concatStatic=s.concat;function f(){for(var c=[],l=0;l<arguments.length;l++)c[l-0]=arguments[l];return o.concat.apply(void 0,c)(this)}return Mt.concat=f,Mt}var El;function cO(){if(El)return $l;El=1;var o=g(),s=uO();return o.Observable.prototype.concat=s.concat,$l}var jl={},Si={},Al;function lO(){if(Al)return Si;Al=1;var o=Da();function s(){return o.concatAll()(this)}return Si.concatAll=s,Si}var Il;function fO(){if(Il)return jl;Il=1;var o=g(),s=lO();return o.Observable.prototype.concatAll=s.concatAll,jl}var kl={},gi={},Oi={},Cl;function Ba(){if(Cl)return Oi;Cl=1;var o=qt();function s(f,c){return o.mergeMap(f,c,1)}return Oi.concatMap=s,Oi}var Pl;function hO(){if(Pl)return gi;Pl=1;var o=Ba();function s(f,c){return o.concatMap(f,c)(this)}return gi.concatMap=s,gi}var Fl;function vO(){if(Fl)return kl;Fl=1;var o=g(),s=hO();return o.Observable.prototype.concatMap=s.concatMap,kl}var Ml={},wi={},xi={},Nl;function xm(){if(Nl)return xi;Nl=1;var o=Ba();function s(f,c){return o.concatMap(function(){return f},c)}return xi.concatMapTo=s,xi}var Wl;function pO(){if(Wl)return wi;Wl=1;var o=xm();function s(f,c){return o.concatMapTo(f,c)(this)}return wi.concatMapTo=s,wi}var Ll;function bO(){if(Ll)return Ml;Ll=1;var o=g(),s=pO();return o.Observable.prototype.concatMapTo=s.concatMapTo,Ml}var Dl={},qi={},br={},Vl;function qm(){if(Vl)return br;Vl=1;var o=br&&br.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a){return function(n){return n.lift(new c(a,n))}}br.count=f;var c=(function(){function a(n,r){this.predicate=n,this.source=r}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.predicate,this.source))},a})(),l=(function(a){o(n,a);function n(r,e,t){a.call(this,r),this.predicate=e,this.source=t,this.count=0,this.index=0}return n.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},n.prototype._tryPredicate=function(r){var e;try{e=this.predicate(r,this.index++,this.source)}catch(t){this.destination.error(t);return}e&&this.count++},n.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},n})(s.Subscriber);return br}var Ul;function dO(){if(Ul)return qi;Ul=1;var o=qm();function s(f){return o.count(f)(this)}return qi.count=s,qi}var Bl;function yO(){if(Bl)return Dl;Bl=1;var o=g(),s=dO();return o.Observable.prototype.count=s.count,Dl}var zl={},$i={},dr={},Gl;function $m(){if(Gl)return dr;Gl=1;var o=dr&&dr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(){return function(n){return n.lift(new c)}}dr.dematerialize=f;var c=(function(){function a(){}return a.prototype.call=function(n,r){return r.subscribe(new l(n))},a})(),l=(function(a){o(n,a);function n(r){a.call(this,r)}return n.prototype._next=function(r){r.observe(this.destination)},n})(s.Subscriber);return dr}var Hl;function mO(){if(Hl)return $i;Hl=1;var o=$m();function s(){return o.dematerialize()(this)}return $i.dematerialize=s,$i}var Jl;function _O(){if(Jl)return zl;Jl=1;var o=g(),s=mO();return o.Observable.prototype.dematerialize=s.dematerialize,zl}var Yl={},Ri={},yr={},Kl;function Rm(){if(Kl)return yr;Kl=1;var o=yr&&yr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n){return function(r){return r.lift(new l(n))}}yr.debounce=c;var l=(function(){function n(r){this.durationSelector=r}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.durationSelector))},n})(),a=(function(n){o(r,n);function r(e,t){n.call(this,e),this.durationSelector=t,this.hasValue=!1,this.durationSubscription=null}return r.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(i){this.destination.error(i)}},r.prototype._complete=function(){this.emitValue(),this.destination.complete()},r.prototype._tryNext=function(e,t){var i=this.durationSubscription;this.value=e,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=f.subscribeToResult(this,t),i.closed||this.add(this.durationSubscription=i)},r.prototype.notifyNext=function(e,t,i,u,h){this.emitValue()},r.prototype.notifyComplete=function(){this.emitValue()},r.prototype.emitValue=function(){if(this.hasValue){var e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=null,t.unsubscribe(),this.remove(t)),this.value=null,this.hasValue=!1,n.prototype._next.call(this,e)}},r})(s.OuterSubscriber);return yr}var Zl;function SO(){if(Zl)return Ri;Zl=1;var o=Rm();function s(f){return o.debounce(f)(this)}return Ri.debounce=s,Ri}var Ql;function gO(){if(Ql)return Yl;Ql=1;var o=g(),s=SO();return o.Observable.prototype.debounce=s.debounce,Yl}var Xl={},Ti={},mr={},ef;function Tm(){if(ef)return mr;ef=1;var o=mr&&mr.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=I(),f=D();function c(r,e){return e===void 0&&(e=f.async),function(t){return t.lift(new l(r,e))}}mr.debounceTime=c;var l=(function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))},r})(),a=(function(r){o(e,r);function e(t,i,u){r.call(this,t),this.dueTime=i,this.scheduler=u,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(n,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e})(s.Subscriber);function n(r){r.debouncedNext()}return mr}var rf;function OO(){if(rf)return Ti;rf=1;var o=D(),s=Tm();function f(c,l){return l===void 0&&(l=o.async),s.debounceTime(c,l)(this)}return Ti.debounceTime=f,Ti}var tf;function wO(){if(tf)return Xl;tf=1;var o=g(),s=OO();return o.Observable.prototype.debounceTime=s.debounceTime,Xl}var nf={},Ei={},_r={},of;function za(){if(of)return _r;of=1;var o=_r&&_r.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a){return a===void 0&&(a=null),function(n){return n.lift(new c(a))}}_r.defaultIfEmpty=f;var c=(function(){function a(n){this.defaultValue=n}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.defaultValue))},a})(),l=(function(a){o(n,a);function n(r,e){a.call(this,r),this.defaultValue=e,this.isEmpty=!0}return n.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},n.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},n})(s.Subscriber);return _r}var af;function xO(){if(af)return Ei;af=1;var o=za();function s(f){return f===void 0&&(f=null),o.defaultIfEmpty(f)(this)}return Ei.defaultIfEmpty=s,Ei}var sf;function qO(){if(sf)return nf;sf=1;var o=g(),s=xO();return o.Observable.prototype.defaultIfEmpty=s.defaultIfEmpty,nf}var uf={},ji={},Sr={},cf;function Em(){if(cf)return Sr;cf=1;var o=Sr&&Sr.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=D(),f=on(),c=I(),l=Tt();function a(t,i){i===void 0&&(i=s.async);var u=f.isDate(t),h=u?+t-i.now():Math.abs(t);return function(v){return v.lift(new n(h,i))}}Sr.delay=a;var n=(function(){function t(i,u){this.delay=i,this.scheduler=u}return t.prototype.call=function(i,u){return u.subscribe(new r(i,this.delay,this.scheduler))},t})(),r=(function(t){o(i,t);function i(u,h,v){t.call(this,u),this.delay=h,this.scheduler=v,this.queue=[],this.active=!1,this.errored=!1}return i.dispatch=function(u){for(var h=u.source,v=h.queue,p=u.scheduler,b=u.destination;v.length>0&&v[0].time-p.now()<=0;)v.shift().notification.observe(b);if(v.length>0){var d=Math.max(0,v[0].time-p.now());this.schedule(u,d)}else this.unsubscribe(),h.active=!1},i.prototype._schedule=function(u){this.active=!0,this.add(u.schedule(i.dispatch,this.delay,{source:this,destination:this.destination,scheduler:u}))},i.prototype.scheduleNotification=function(u){if(this.errored!==!0){var h=this.scheduler,v=new e(h.now()+this.delay,u);this.queue.push(v),this.active===!1&&this._schedule(h)}},i.prototype._next=function(u){this.scheduleNotification(l.Notification.createNext(u))},i.prototype._error=function(u){this.errored=!0,this.queue=[],this.destination.error(u)},i.prototype._complete=function(){this.scheduleNotification(l.Notification.createComplete())},i})(c.Subscriber),e=(function(){function t(i,u){this.time=i,this.notification=u}return t})();return Sr}var lf;function $O(){if(lf)return ji;lf=1;var o=D(),s=Em();function f(c,l){return l===void 0&&(l=o.async),s.delay(c,l)(this)}return ji.delay=f,ji}var ff;function RO(){if(ff)return uf;ff=1;var o=g(),s=$O();return o.Observable.prototype.delay=s.delay,uf}var hf={},Ai={},gr={},vf;function jm(){if(vf)return gr;vf=1;var o=gr&&gr.__extends||function(i,u){for(var h in u)u.hasOwnProperty(h)&&(i[h]=u[h]);function v(){this.constructor=i}i.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)},s=I(),f=g(),c=P(),l=F();function a(i,u){return u?function(h){return new e(h,u).lift(new n(i))}:function(h){return h.lift(new n(i))}}gr.delayWhen=a;var n=(function(){function i(u){this.delayDurationSelector=u}return i.prototype.call=function(u,h){return h.subscribe(new r(u,this.delayDurationSelector))},i})(),r=(function(i){o(u,i);function u(h,v){i.call(this,h),this.delayDurationSelector=v,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return u.prototype.notifyNext=function(h,v,p,b,d){this.destination.next(h),this.removeSubscription(d),this.tryComplete()},u.prototype.notifyError=function(h,v){this._error(h)},u.prototype.notifyComplete=function(h){var v=this.removeSubscription(h);v&&this.destination.next(v),this.tryComplete()},u.prototype._next=function(h){try{var v=this.delayDurationSelector(h);v&&this.tryDelay(v,h)}catch(p){this.destination.error(p)}},u.prototype._complete=function(){this.completed=!0,this.tryComplete()},u.prototype.removeSubscription=function(h){h.unsubscribe();var v=this.delayNotifierSubscriptions.indexOf(h),p=null;return v!==-1&&(p=this.values[v],this.delayNotifierSubscriptions.splice(v,1),this.values.splice(v,1)),p},u.prototype.tryDelay=function(h,v){var p=l.subscribeToResult(this,h,v);p&&!p.closed&&(this.add(p),this.delayNotifierSubscriptions.push(p)),this.values.push(v)},u.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},u})(c.OuterSubscriber),e=(function(i){o(u,i);function u(h,v){i.call(this),this.source=h,this.subscriptionDelay=v}return u.prototype._subscribe=function(h){this.subscriptionDelay.subscribe(new t(h,this.source))},u})(f.Observable),t=(function(i){o(u,i);function u(h,v){i.call(this),this.parent=h,this.source=v,this.sourceSubscribed=!1}return u.prototype._next=function(h){this.subscribeToSource()},u.prototype._error=function(h){this.unsubscribe(),this.parent.error(h)},u.prototype._complete=function(){this.subscribeToSource()},u.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},u})(s.Subscriber);return gr}var pf;function TO(){if(pf)return Ai;pf=1;var o=jm();function s(f,c){return o.delayWhen(f,c)(this)}return Ai.delayWhen=s,Ai}var bf;function EO(){if(bf)return hf;bf=1;var o=g(),s=TO();return o.Observable.prototype.delayWhen=s.delayWhen,hf}var df={},Ii={},Se={},Wt={},yf;function jO(){if(yf)return Wt;yf=1;var o=K();function s(){return(function(){function f(){this._values=[]}return f.prototype.add=function(c){this.has(c)||this._values.push(c)},f.prototype.has=function(c){return this._values.indexOf(c)!==-1},Object.defineProperty(f.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),f.prototype.clear=function(){this._values.length=0},f})()}return Wt.minimalSetImpl=s,Wt.Set=o.root.Set||s(),Wt}var mf;function Am(){if(mf)return Se;mf=1;var o=Se&&Se.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=P(),f=F(),c=jO();function l(r,e){return function(t){return t.lift(new a(r,e))}}Se.distinct=l;var a=(function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new n(e,this.keySelector,this.flushes))},r})(),n=(function(r){o(e,r);function e(t,i,u){r.call(this,t),this.keySelector=i,this.values=new c.Set,u&&this.add(f.subscribeToResult(this,u))}return e.prototype.notifyNext=function(t,i,u,h,v){this.values.clear()},e.prototype.notifyError=function(t,i){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var i,u=this.destination;try{i=this.keySelector(t)}catch(h){u.error(h);return}this._finalizeNext(i,t)},e.prototype._finalizeNext=function(t,i){var u=this.values;u.has(t)||(u.add(t),this.destination.next(i))},e})(s.OuterSubscriber);return Se.DistinctSubscriber=n,Se}var _f;function AO(){if(_f)return Ii;_f=1;var o=Am();function s(f,c){return o.distinct(f,c)(this)}return Ii.distinct=s,Ii}var Sf;function IO(){if(Sf)return df;Sf=1;var o=g(),s=AO();return o.Observable.prototype.distinct=s.distinct,df}var gf={},ki={},Or={},Of;function Ga(){if(Of)return Or;Of=1;var o=Or&&Or.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=I(),f=H(),c=z();function l(r,e){return function(t){return t.lift(new a(r,e))}}Or.distinctUntilChanged=l;var a=(function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new n(e,this.compare,this.keySelector))},r})(),n=(function(r){o(e,r);function e(t,i,u){r.call(this,t),this.keySelector=u,this.hasKey=!1,typeof i=="function"&&(this.compare=i)}return e.prototype.compare=function(t,i){return t===i},e.prototype._next=function(t){var i=this.keySelector,u=t;if(i&&(u=f.tryCatch(this.keySelector)(t),u===c.errorObject))return this.destination.error(c.errorObject.e);var h=!1;if(this.hasKey){if(h=f.tryCatch(this.compare)(this.key,u),h===c.errorObject)return this.destination.error(c.errorObject.e)}else this.hasKey=!0;h||(this.key=u,this.destination.next(t))},e})(s.Subscriber);return Or}var wf;function kO(){if(wf)return ki;wf=1;var o=Ga();function s(f,c){return o.distinctUntilChanged(f,c)(this)}return ki.distinctUntilChanged=s,ki}var xf;function CO(){if(xf)return gf;xf=1;var o=g(),s=kO();return o.Observable.prototype.distinctUntilChanged=s.distinctUntilChanged,gf}var qf={},Ci={},Pi={},$f;function Im(){if($f)return Pi;$f=1;var o=Ga();function s(f,c){return o.distinctUntilChanged(function(l,a){return c?c(l[f],a[f]):l[f]===a[f]})}return Pi.distinctUntilKeyChanged=s,Pi}var Rf;function PO(){if(Rf)return Ci;Rf=1;var o=Im();function s(f,c){return o.distinctUntilKeyChanged(f,c)(this)}return Ci.distinctUntilKeyChanged=s,Ci}var Tf;function FO(){if(Tf)return qf;Tf=1;var o=g(),s=PO();return o.Observable.prototype.distinctUntilKeyChanged=s.distinctUntilKeyChanged,qf}var Ef={},Fi={},wr={},jf;function km(){if(jf)return wr;jf=1;var o=wr&&wr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a,n,r){return function(t){return t.lift(new c(a,n,r))}}wr.tap=f;var c=(function(){function a(n,r,e){this.nextOrObserver=n,this.error=r,this.complete=e}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.nextOrObserver,this.error,this.complete))},a})(),l=(function(a){o(n,a);function n(r,e,t,i){a.call(this,r);var u=new s.Subscriber(e,t,i);u.syncErrorThrowable=!0,this.add(u),this.safeSubscriber=u}return n.prototype._next=function(r){var e=this.safeSubscriber;e.next(r),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(r)},n.prototype._error=function(r){var e=this.safeSubscriber;e.error(r),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(r)},n.prototype._complete=function(){var r=this.safeSubscriber;r.complete(),r.syncErrorThrown?this.destination.error(r.syncErrorValue):this.destination.complete()},n})(s.Subscriber);return wr}var Af;function MO(){if(Af)return Fi;Af=1;var o=km();function s(f,c,l){return o.tap(f,c,l)(this)}return Fi._do=s,Fi}var If;function NO(){if(If)return Ef;If=1;var o=g(),s=MO();return o.Observable.prototype.do=s._do,o.Observable.prototype._do=s._do,Ef}var kf={},Mi={},xr={},Cf;function Cm(){if(Cf)return xr;Cf=1;var o=xr&&xr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(){return function(n){return n.lift(new l)}}xr.exhaust=c;var l=(function(){function n(){}return n.prototype.call=function(r,e){return e.subscribe(new a(r))},n})(),a=(function(n){o(r,n);function r(e){n.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return r.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(f.subscribeToResult(this,e)))},r.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},r.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},r})(s.OuterSubscriber);return xr}var Pf;function WO(){if(Pf)return Mi;Pf=1;var o=Cm();function s(){return o.exhaust()(this)}return Mi.exhaust=s,Mi}var Ff;function LO(){if(Ff)return kf;Ff=1;var o=g(),s=WO();return o.Observable.prototype.exhaust=s.exhaust,kf}var Mf={},Ni={},qr={},Nf;function Pm(){if(Nf)return qr;Nf=1;var o=qr&&qr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n,r){return function(e){return e.lift(new l(n,r))}}qr.exhaustMap=c;var l=(function(){function n(r,e){this.project=r,this.resultSelector=e}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.project,this.resultSelector))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.project=t,this.resultSelector=i,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return r.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},r.prototype.tryNext=function(e){var t=this.index++,i=this.destination;try{var u=this.project(e,t);this.hasSubscription=!0,this.add(f.subscribeToResult(this,u,e,t))}catch(h){i.error(h)}},r.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},r.prototype.notifyNext=function(e,t,i,u,h){var v=this,p=v.resultSelector,b=v.destination;p?this.trySelectResult(e,t,i,u):b.next(t)},r.prototype.trySelectResult=function(e,t,i,u){var h=this,v=h.resultSelector,p=h.destination;try{var b=v(e,t,i,u);p.next(b)}catch(d){p.error(d)}},r.prototype.notifyError=function(e){this.destination.error(e)},r.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},r})(s.OuterSubscriber);return qr}var Wf;function DO(){if(Wf)return Ni;Wf=1;var o=Pm();function s(f,c){return o.exhaustMap(f,c)(this)}return Ni.exhaustMap=s,Ni}var Lf;function VO(){if(Lf)return Mf;Lf=1;var o=g(),s=DO();return o.Observable.prototype.exhaustMap=s.exhaustMap,Mf}var Df={},Wi={},fe={},Vf;function Fm(){if(Vf)return fe;Vf=1;var o=fe&&fe.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=H(),f=z(),c=P(),l=F();function a(e,t,i){return t===void 0&&(t=Number.POSITIVE_INFINITY),i===void 0&&(i=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(u){return u.lift(new n(e,t,i))}}fe.expand=a;var n=(function(){function e(t,i,u){this.project=t,this.concurrent=i,this.scheduler=u}return e.prototype.call=function(t,i){return i.subscribe(new r(t,this.project,this.concurrent,this.scheduler))},e})();fe.ExpandOperator=n;var r=(function(e){o(t,e);function t(i,u,h,v){e.call(this,i),this.project=u,this.concurrent=h,this.scheduler=v,this.index=0,this.active=0,this.hasCompleted=!1,h<Number.POSITIVE_INFINITY&&(this.buffer=[])}return t.dispatch=function(i){var u=i.subscriber,h=i.result,v=i.value,p=i.index;u.subscribeToProjection(h,v,p)},t.prototype._next=function(i){var u=this.destination;if(u.closed){this._complete();return}var h=this.index++;if(this.active<this.concurrent){u.next(i);var v=s.tryCatch(this.project)(i,h);if(v===f.errorObject)u.error(f.errorObject.e);else if(!this.scheduler)this.subscribeToProjection(v,i,h);else{var p={subscriber:this,result:v,value:i,index:h};this.add(this.scheduler.schedule(t.dispatch,0,p))}}else this.buffer.push(i)},t.prototype.subscribeToProjection=function(i,u,h){this.active++,this.add(l.subscribeToResult(this,i,u,h))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete()},t.prototype.notifyNext=function(i,u,h,v,p){this._next(u)},t.prototype.notifyComplete=function(i){var u=this.buffer;this.remove(i),this.active--,u&&u.length>0&&this._next(u.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},t})(c.OuterSubscriber);return fe.ExpandSubscriber=r,fe}var Uf;function UO(){if(Uf)return Wi;Uf=1;var o=Fm();function s(f,c,l){return c===void 0&&(c=Number.POSITIVE_INFINITY),l===void 0&&(l=void 0),c=(c||0)<1?Number.POSITIVE_INFINITY:c,o.expand(f,c,l)(this)}return Wi.expand=s,Wi}var Bf;function BO(){if(Bf)return Df;Bf=1;var o=g(),s=UO();return o.Observable.prototype.expand=s.expand,Df}var zf={},Li={},$r={},Rr={},Gf;function kt(){if(Gf)return Rr;Gf=1;var o=Rr&&Rr.__extends||function(f,c){for(var l in c)c.hasOwnProperty(l)&&(f[l]=c[l]);function a(){this.constructor=f}f.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)},s=(function(f){o(c,f);function c(){var l=f.call(this,"argument out of range");this.name=l.name="ArgumentOutOfRangeError",this.stack=l.stack,this.message=l.message}return c})(Error);return Rr.ArgumentOutOfRangeError=s,Rr}var Hf;function Mm(){if(Hf)return $r;Hf=1;var o=$r&&$r.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=kt();function c(n,r){return function(e){return e.lift(new l(n,r))}}$r.elementAt=c;var l=(function(){function n(r,e){if(this.index=r,this.defaultValue=e,r<0)throw new f.ArgumentOutOfRangeError}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.index,this.defaultValue))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.index=t,this.defaultValue=i}return r.prototype._next=function(e){this.index--===0&&(this.destination.next(e),this.destination.complete())},r.prototype._complete=function(){var e=this.destination;this.index>=0&&(typeof this.defaultValue<"u"?e.next(this.defaultValue):e.error(new f.ArgumentOutOfRangeError)),e.complete()},r})(s.Subscriber);return $r}var Jf;function zO(){if(Jf)return Li;Jf=1;var o=Mm();function s(f,c){return o.elementAt(f,c)(this)}return Li.elementAt=s,Li}var Yf;function GO(){if(Yf)return zf;Yf=1;var o=g(),s=zO();return o.Observable.prototype.elementAt=s.elementAt,zf}var Kf={},Di={},Tr={},Zf;function Ha(){if(Zf)return Tr;Zf=1;var o=Tr&&Tr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a,n){return function(e){return e.lift(new c(a,n))}}Tr.filter=f;var c=(function(){function a(n,r){this.predicate=n,this.thisArg=r}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.predicate,this.thisArg))},a})(),l=(function(a){o(n,a);function n(r,e,t){a.call(this,r),this.predicate=e,this.thisArg=t,this.count=0}return n.prototype._next=function(r){var e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(t){this.destination.error(t);return}e&&this.destination.next(r)},n})(s.Subscriber);return Tr}var Qf;function HO(){if(Qf)return Di;Qf=1;var o=Ha();function s(f,c){return o.filter(f,c)(this)}return Di.filter=s,Di}var Xf;function JO(){if(Xf)return Kf;Xf=1;var o=g(),s=HO();return o.Observable.prototype.filter=s.filter,Kf}var eh={},Vi={},Er={},rh;function Nm(){if(rh)return Er;rh=1;var o=Er&&Er.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=B();function c(n){return function(r){return r.lift(new l(n))}}Er.finalize=c;var l=(function(){function n(r){this.callback=r}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.callback))},n})(),a=(function(n){o(r,n);function r(e,t){n.call(this,e),this.add(new f.Subscription(t))}return r})(s.Subscriber);return Er}var th;function YO(){if(th)return Vi;th=1;var o=Nm();function s(f){return o.finalize(f)(this)}return Vi._finally=s,Vi}var nh;function KO(){if(nh)return eh;nh=1;var o=g(),s=YO();return o.Observable.prototype.finally=s._finally,o.Observable.prototype._finally=s._finally,eh}var ih={},Ui={},he={},oh;function Ja(){if(oh)return he;oh=1;var o=he&&he.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a,n){if(typeof a!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new c(a,r,!1,n))}}he.find=f;var c=(function(){function a(n,r,e,t){this.predicate=n,this.source=r,this.yieldIndex=e,this.thisArg=t}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.predicate,this.source,this.yieldIndex,this.thisArg))},a})();he.FindValueOperator=c;var l=(function(a){o(n,a);function n(r,e,t,i,u){a.call(this,r),this.predicate=e,this.source=t,this.yieldIndex=i,this.thisArg=u,this.index=0}return n.prototype.notifyComplete=function(r){var e=this.destination;e.next(r),e.complete()},n.prototype._next=function(r){var e=this,t=e.predicate,i=e.thisArg,u=this.index++;try{var h=t.call(i||this,r,u,this.source);h&&this.notifyComplete(this.yieldIndex?u:r)}catch(v){this.destination.error(v)}},n.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},n})(s.Subscriber);return he.FindValueSubscriber=l,he}var ah;function ZO(){if(ah)return Ui;ah=1;var o=Ja();function s(f,c){return o.find(f,c)(this)}return Ui.find=s,Ui}var sh;function QO(){if(sh)return ih;sh=1;var o=g(),s=ZO();return o.Observable.prototype.find=s.find,ih}var uh={},Bi={},zi={},ch;function Wm(){if(ch)return zi;ch=1;var o=Ja();function s(f,c){return function(l){return l.lift(new o.FindValueOperator(f,l,!0,c))}}return zi.findIndex=s,zi}var lh;function XO(){if(lh)return Bi;lh=1;var o=Wm();function s(f,c){return o.findIndex(f,c)(this)}return Bi.findIndex=s,Bi}var fh;function ew(){if(fh)return uh;fh=1;var o=g(),s=XO();return o.Observable.prototype.findIndex=s.findIndex,uh}var hh={},Gi={},jr={},Ar={},vh;function un(){if(vh)return Ar;vh=1;var o=Ar&&Ar.__extends||function(f,c){for(var l in c)c.hasOwnProperty(l)&&(f[l]=c[l]);function a(){this.constructor=f}f.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)},s=(function(f){o(c,f);function c(){var l=f.call(this,"no elements in sequence");this.name=l.name="EmptyError",this.stack=l.stack,this.message=l.message}return c})(Error);return Ar.EmptyError=s,Ar}var ph;function Lm(){if(ph)return jr;ph=1;var o=jr&&jr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=un();function c(n,r,e){return function(t){return t.lift(new l(n,r,e,t))}}jr.first=c;var l=(function(){function n(r,e,t,i){this.predicate=r,this.resultSelector=e,this.defaultValue=t,this.source=i}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.predicate,this.resultSelector,this.defaultValue,this.source))},n})(),a=(function(n){o(r,n);function r(e,t,i,u,h){n.call(this,e),this.predicate=t,this.resultSelector=i,this.defaultValue=u,this.source=h,this.index=0,this.hasCompleted=!1,this._emitted=!1}return r.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},r.prototype._tryPredicate=function(e,t){var i;try{i=this.predicate(e,t,this.source)}catch(u){this.destination.error(u);return}i&&this._emit(e,t)},r.prototype._emit=function(e,t){if(this.resultSelector){this._tryResultSelector(e,t);return}this._emitFinal(e)},r.prototype._tryResultSelector=function(e,t){var i;try{i=this.resultSelector(e,t)}catch(u){this.destination.error(u);return}this._emitFinal(i)},r.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},r.prototype._complete=function(){var e=this.destination;!this.hasCompleted&&typeof this.defaultValue<"u"?(e.next(this.defaultValue),e.complete()):this.hasCompleted||e.error(new f.EmptyError)},r})(s.Subscriber);return jr}var bh;function rw(){if(bh)return Gi;bh=1;var o=Lm();function s(f,c,l){return o.first(f,c,l)(this)}return Gi.first=s,Gi}var dh;function tw(){if(dh)return hh;dh=1;var o=g(),s=rw();return o.Observable.prototype.first=s.first,hh}var yh={},Lt={},ge={},Hi={},Ji={},mh;function nw(){if(mh)return Ji;mh=1;var o=(function(){function s(){this.size=0,this._values=[],this._keys=[]}return s.prototype.get=function(f){var c=this._keys.indexOf(f);return c===-1?void 0:this._values[c]},s.prototype.set=function(f,c){var l=this._keys.indexOf(f);return l===-1?(this._keys.push(f),this._values.push(c),this.size++):this._values[l]=c,this},s.prototype.delete=function(f){var c=this._keys.indexOf(f);return c===-1?!1:(this._values.splice(c,1),this._keys.splice(c,1),this.size--,!0)},s.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},s.prototype.forEach=function(f,c){for(var l=0;l<this.size;l++)f.call(c,this._values[l],this._keys[l])},s})();return Ji.MapPolyfill=o,Ji}var _h;function iw(){if(_h)return Hi;_h=1;var o=K(),s=nw();return Hi.Map=o.root.Map||(function(){return s.MapPolyfill})(),Hi}var Yi={},Sh;function ow(){if(Sh)return Yi;Sh=1;var o=(function(){function s(){this.values={}}return s.prototype.delete=function(f){return this.values[f]=null,!0},s.prototype.set=function(f,c){return this.values[f]=c,this},s.prototype.get=function(f){return this.values[f]},s.prototype.forEach=function(f,c){var l=this.values;for(var a in l)l.hasOwnProperty(a)&&l[a]!==null&&f.call(c,l[a],a)},s.prototype.clear=function(){this.values={}},s})();return Yi.FastMap=o,Yi}var gh;function Dm(){if(gh)return ge;gh=1;var o=ge&&ge.__extends||function(v,p){for(var b in p)p.hasOwnProperty(b)&&(v[b]=p[b]);function d(){this.constructor=v}v.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)},s=I(),f=B(),c=g(),l=G(),a=iw(),n=ow();function r(v,p,b,d){return function(y){return y.lift(new e(v,p,b,d))}}ge.groupBy=r;var e=(function(){function v(p,b,d,y){this.keySelector=p,this.elementSelector=b,this.durationSelector=d,this.subjectSelector=y}return v.prototype.call=function(p,b){return b.subscribe(new t(p,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},v})(),t=(function(v){o(p,v);function p(b,d,y,_,S){v.call(this,b),this.keySelector=d,this.elementSelector=y,this.durationSelector=_,this.subjectSelector=S,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return p.prototype._next=function(b){var d;try{d=this.keySelector(b)}catch(y){this.error(y);return}this._group(b,d)},p.prototype._group=function(b,d){var y=this.groups;y||(y=this.groups=typeof d=="string"?new n.FastMap:new a.Map);var _=y.get(d),S;if(this.elementSelector)try{S=this.elementSelector(b)}catch(T){this.error(T)}else S=b;if(!_){_=this.subjectSelector?this.subjectSelector():new l.Subject,y.set(d,_);var $=new u(d,_,this);if(this.destination.next($),this.durationSelector){var j=void 0;try{j=this.durationSelector(new u(d,_))}catch(T){this.error(T);return}this.add(j.subscribe(new i(d,_,this)))}}_.closed||_.next(S)},p.prototype._error=function(b){var d=this.groups;d&&(d.forEach(function(y,_){y.error(b)}),d.clear()),this.destination.error(b)},p.prototype._complete=function(){var b=this.groups;b&&(b.forEach(function(d,y){d.complete()}),b.clear()),this.destination.complete()},p.prototype.removeGroup=function(b){this.groups.delete(b)},p.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&v.prototype.unsubscribe.call(this))},p})(s.Subscriber),i=(function(v){o(p,v);function p(b,d,y){v.call(this,d),this.key=b,this.group=d,this.parent=y}return p.prototype._next=function(b){this.complete()},p.prototype._unsubscribe=function(){var b=this,d=b.parent,y=b.key;this.key=this.parent=null,d&&d.removeGroup(y)},p})(s.Subscriber),u=(function(v){o(p,v);function p(b,d,y){v.call(this),this.key=b,this.groupSubject=d,this.refCountSubscription=y}return p.prototype._subscribe=function(b){var d=new f.Subscription,y=this,_=y.refCountSubscription,S=y.groupSubject;return _&&!_.closed&&d.add(new h(_)),d.add(S.subscribe(b)),d},p})(c.Observable);ge.GroupedObservable=u;var h=(function(v){o(p,v);function p(b){v.call(this),this.parent=b,b.count++}return p.prototype.unsubscribe=function(){var b=this.parent;!b.closed&&!this.closed&&(v.prototype.unsubscribe.call(this),b.count-=1,b.count===0&&b.attemptedToUnsubscribe&&b.unsubscribe())},p})(f.Subscription);return ge}var Oh;function aw(){if(Oh)return Lt;Oh=1;var o=Dm();Lt.GroupedObservable=o.GroupedObservable;function s(f,c,l,a){return o.groupBy(f,c,l,a)(this)}return Lt.groupBy=s,Lt}var wh;function sw(){if(wh)return yh;wh=1;var o=g(),s=aw();return o.Observable.prototype.groupBy=s.groupBy,yh}var xh={},Ki={},Ir={},qh;function Vm(){if(qh)return Ir;qh=1;var o=Ir&&Ir.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=Na();function c(){return function(r){return r.lift(new l)}}Ir.ignoreElements=c;var l=(function(){function n(){}return n.prototype.call=function(r,e){return e.subscribe(new a(r))},n})(),a=(function(n){o(r,n);function r(){n.apply(this,arguments)}return r.prototype._next=function(e){f.noop()},r})(s.Subscriber);return Ir}var $h;function uw(){if($h)return Ki;$h=1;var o=Vm();function s(){return o.ignoreElements()(this)}return Ki.ignoreElements=s,Ki}var Rh;function cw(){if(Rh)return xh;Rh=1;var o=g(),s=uw();return o.Observable.prototype.ignoreElements=s.ignoreElements,xh}var Th={},Zi={},kr={},Eh;function Um(){if(Eh)return kr;Eh=1;var o=kr&&kr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(){return function(a){return a.lift(new c)}}kr.isEmpty=f;var c=(function(){function a(){}return a.prototype.call=function(n,r){return r.subscribe(new l(n))},a})(),l=(function(a){o(n,a);function n(r){a.call(this,r)}return n.prototype.notifyComplete=function(r){var e=this.destination;e.next(r),e.complete()},n.prototype._next=function(r){this.notifyComplete(!1)},n.prototype._complete=function(){this.notifyComplete(!0)},n})(s.Subscriber);return kr}var jh;function lw(){if(jh)return Zi;jh=1;var o=Um();function s(){return o.isEmpty()(this)}return Zi.isEmpty=s,Zi}var Ah;function fw(){if(Ah)return Th;Ah=1;var o=g(),s=lw();return o.Observable.prototype.isEmpty=s.isEmpty,Th}var Ih={},Qi={},Cr={},kh;function Ya(){if(kh)return Cr;kh=1;var o=Cr&&Cr.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=H(),f=z(),c=P(),l=F();function a(e){return function(i){return i.lift(new n(e))}}Cr.audit=a;var n=(function(){function e(t){this.durationSelector=t}return e.prototype.call=function(t,i){return i.subscribe(new r(t,this.durationSelector))},e})(),r=(function(e){o(t,e);function t(i,u){e.call(this,i),this.durationSelector=u,this.hasValue=!1}return t.prototype._next=function(i){if(this.value=i,this.hasValue=!0,!this.throttled){var u=s.tryCatch(this.durationSelector)(i);if(u===f.errorObject)this.destination.error(f.errorObject.e);else{var h=l.subscribeToResult(this,u);h.closed?this.clearThrottle():this.add(this.throttled=h)}}},t.prototype.clearThrottle=function(){var i=this,u=i.value,h=i.hasValue,v=i.throttled;v&&(this.remove(v),this.throttled=null,v.unsubscribe()),h&&(this.value=null,this.hasValue=!1,this.destination.next(u))},t.prototype.notifyNext=function(i,u,h,v){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t})(c.OuterSubscriber);return Cr}var Ch;function hw(){if(Ch)return Qi;Ch=1;var o=Ya();function s(f){return o.audit(f)(this)}return Qi.audit=s,Qi}var Ph;function vw(){if(Ph)return Ih;Ph=1;var o=g(),s=hw();return o.Observable.prototype.audit=s.audit,Ih}var Fh={},Xi={},eo={},Mh;function Bm(){if(Mh)return eo;Mh=1;var o=D(),s=Ya(),f=vm();function c(l,a){return a===void 0&&(a=o.async),s.audit(function(){return f.timer(l,a)})}return eo.auditTime=c,eo}var Nh;function pw(){if(Nh)return Xi;Nh=1;var o=D(),s=Bm();function f(c,l){return l===void 0&&(l=o.async),s.auditTime(c,l)(this)}return Xi.auditTime=f,Xi}var Wh;function bw(){if(Wh)return Fh;Wh=1;var o=g(),s=pw();return o.Observable.prototype.auditTime=s.auditTime,Fh}var Lh={},ro={},Pr={},Dh;function zm(){if(Dh)return Pr;Dh=1;var o=Pr&&Pr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=un();function c(n,r,e){return function(t){return t.lift(new l(n,r,e,t))}}Pr.last=c;var l=(function(){function n(r,e,t,i){this.predicate=r,this.resultSelector=e,this.defaultValue=t,this.source=i}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.predicate,this.resultSelector,this.defaultValue,this.source))},n})(),a=(function(n){o(r,n);function r(e,t,i,u,h){n.call(this,e),this.predicate=t,this.resultSelector=i,this.defaultValue=u,this.source=h,this.hasValue=!1,this.index=0,typeof u<"u"&&(this.lastValue=u,this.hasValue=!0)}return r.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector){this._tryResultSelector(e,t);return}this.lastValue=e,this.hasValue=!0}},r.prototype._tryPredicate=function(e,t){var i;try{i=this.predicate(e,t,this.source)}catch(u){this.destination.error(u);return}if(i){if(this.resultSelector){this._tryResultSelector(e,t);return}this.lastValue=e,this.hasValue=!0}},r.prototype._tryResultSelector=function(e,t){var i;try{i=this.resultSelector(e,t)}catch(u){this.destination.error(u);return}this.lastValue=i,this.hasValue=!0},r.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new f.EmptyError)},r})(s.Subscriber);return Pr}var Vh;function dw(){if(Vh)return ro;Vh=1;var o=zm();function s(f,c,l){return o.last(f,c,l)(this)}return ro.last=s,ro}var Uh;function yw(){if(Uh)return Lh;Uh=1;var o=g(),s=dw();return o.Observable.prototype.last=s.last,Lh}var Bh={},to={},zh;function mw(){if(zh)return to;zh=1;function o(s){return s(this)}return to.letProto=o,to}var Gh;function _w(){if(Gh)return Bh;Gh=1;var o=g(),s=mw();return o.Observable.prototype.let=s.letProto,o.Observable.prototype.letBind=s.letProto,Bh}var Hh={},no={},Fr={},Jh;function Gm(){if(Jh)return Fr;Jh=1;var o=Fr&&Fr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a,n){return function(r){return r.lift(new c(a,n,r))}}Fr.every=f;var c=(function(){function a(n,r,e){this.predicate=n,this.thisArg=r,this.source=e}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.predicate,this.thisArg,this.source))},a})(),l=(function(a){o(n,a);function n(r,e,t,i){a.call(this,r),this.predicate=e,this.thisArg=t,this.source=i,this.index=0,this.thisArg=t||this}return n.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},n.prototype._next=function(r){var e=!1;try{e=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(t){this.destination.error(t);return}e||this.notifyComplete(!1)},n.prototype._complete=function(){this.notifyComplete(!0)},n})(s.Subscriber);return Fr}var Yh;function Sw(){if(Yh)return no;Yh=1;var o=Gm();function s(f,c){return o.every(f,c)(this)}return no.every=s,no}var Kh;function gw(){if(Kh)return Hh;Kh=1;var o=g(),s=Sw();return o.Observable.prototype.every=s.every,Hh}var Zh={},io={},Qh;function Ow(){if(Qh)return io;Qh=1;var o=It();function s(f,c){return o.map(f,c)(this)}return io.map=s,io}var Xh;function ww(){if(Xh)return Zh;Xh=1;var o=g(),s=Ow();return o.Observable.prototype.map=s.map,Zh}var ev={},oo={},Mr={},rv;function Hm(){if(rv)return Mr;rv=1;var o=Mr&&Mr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a){return function(n){return n.lift(new c(a))}}Mr.mapTo=f;var c=(function(){function a(n){this.value=n}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.value))},a})(),l=(function(a){o(n,a);function n(r,e){a.call(this,r),this.value=e}return n.prototype._next=function(r){this.destination.next(this.value)},n})(s.Subscriber);return Mr}var tv;function xw(){if(tv)return oo;tv=1;var o=Hm();function s(f){return o.mapTo(f)(this)}return oo.mapTo=s,oo}var nv;function qw(){if(nv)return ev;nv=1;var o=g(),s=xw();return o.Observable.prototype.mapTo=s.mapTo,ev}var iv={},ao={},Nr={},ov;function Jm(){if(ov)return Nr;ov=1;var o=Nr&&Nr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=Tt();function c(){return function(r){return r.lift(new l)}}Nr.materialize=c;var l=(function(){function n(){}return n.prototype.call=function(r,e){return e.subscribe(new a(r))},n})(),a=(function(n){o(r,n);function r(e){n.call(this,e)}return r.prototype._next=function(e){this.destination.next(f.Notification.createNext(e))},r.prototype._error=function(e){var t=this.destination;t.next(f.Notification.createError(e)),t.complete()},r.prototype._complete=function(){var e=this.destination;e.next(f.Notification.createComplete()),e.complete()},r})(s.Subscriber);return Nr}var av;function $w(){if(av)return ao;av=1;var o=Jm();function s(){return o.materialize()(this)}return ao.materialize=s,ao}var sv;function Rw(){if(sv)return iv;sv=1;var o=g(),s=$w();return o.Observable.prototype.materialize=s.materialize,iv}var uv={},so={},uo={},co={},Wr={},cv;function Ka(){if(cv)return Wr;cv=1;var o=Wr&&Wr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a,n){var r=!1;return arguments.length>=2&&(r=!0),function(t){return t.lift(new c(a,n,r))}}Wr.scan=f;var c=(function(){function a(n,r,e){e===void 0&&(e=!1),this.accumulator=n,this.seed=r,this.hasSeed=e}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.accumulator,this.seed,this.hasSeed))},a})(),l=(function(a){o(n,a);function n(r,e,t,i){a.call(this,r),this.accumulator=e,this._seed=t,this.hasSeed=i,this.index=0}return Object.defineProperty(n.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),n.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},n.prototype._tryNext=function(r){var e=this.index++,t;try{t=this.accumulator(this.seed,r,e)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)},n})(s.Subscriber);return Wr}var Lr={},lv;function Za(){if(lv)return Lr;lv=1;var o=Lr&&Lr.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=I(),f=kt(),c=ie();function l(r){return function(t){return r===0?new c.EmptyObservable:t.lift(new a(r))}}Lr.takeLast=l;var a=(function(){function r(e){if(this.total=e,this.total<0)throw new f.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new n(e,this.total))},r})(),n=(function(r){o(e,r);function e(t,i){r.call(this,t),this.total=i,this.ring=new Array,this.count=0}return e.prototype._next=function(t){var i=this.ring,u=this.total,h=this.count++;if(i.length<u)i.push(t);else{var v=h%u;i[v]=t}},e.prototype._complete=function(){var t=this.destination,i=this.count;if(i>0)for(var u=this.count>=this.total?this.total:this.count,h=this.ring,v=0;v<u;v++){var p=i++%u;t.next(h[p])}t.complete()},e})(s.Subscriber);return Lr}var fv;function Ct(){if(fv)return co;fv=1;var o=Ka(),s=Za(),f=za(),c=Wa();function l(a,n){return arguments.length>=2?function(e){return c.pipe(o.scan(a,n),s.takeLast(1),f.defaultIfEmpty(n))(e)}:function(e){return c.pipe(o.scan(function(t,i,u){return a(t,i,u+1)}),s.takeLast(1))(e)}}return co.reduce=l,co}var hv;function Ym(){if(hv)return uo;hv=1;var o=Ct();function s(f){var c=typeof f=="function"?function(l,a){return f(l,a)>0?l:a}:function(l,a){return l>a?l:a};return o.reduce(c)}return uo.max=s,uo}var vv;function Tw(){if(vv)return so;vv=1;var o=Ym();function s(f){return o.max(f)(this)}return so.max=s,so}var pv;function Ew(){if(pv)return uv;pv=1;var o=g(),s=Tw();return o.Observable.prototype.max=s.max,uv}var bv={},Dt={},Vt={},dv;function Km(){if(dv)return Vt;dv=1;var o=Yt(),s=Yt();Vt.mergeStatic=s.merge;function f(){for(var c=[],l=0;l<arguments.length;l++)c[l-0]=arguments[l];return function(a){return a.lift.call(o.merge.apply(void 0,[a].concat(c)))}}return Vt.merge=f,Vt}var yv;function jw(){if(yv)return Dt;yv=1;var o=Km(),s=Yt();Dt.mergeStatic=s.merge;function f(){for(var c=[],l=0;l<arguments.length;l++)c[l-0]=arguments[l];return o.merge.apply(void 0,c)(this)}return Dt.merge=f,Dt}var mv;function Aw(){if(mv)return bv;mv=1;var o=g(),s=jw();return o.Observable.prototype.merge=s.merge,bv}var _v={},lo={},Sv;function Iw(){if(Sv)return lo;Sv=1;var o=nn();function s(f){return f===void 0&&(f=Number.POSITIVE_INFINITY),o.mergeAll(f)(this)}return lo.mergeAll=s,lo}var gv;function kw(){if(gv)return _v;gv=1;var o=g(),s=Iw();return o.Observable.prototype.mergeAll=s.mergeAll,_v}var Ov={},fo={},wv;function Cw(){if(wv)return fo;wv=1;var o=qt();function s(f,c,l){return l===void 0&&(l=Number.POSITIVE_INFINITY),o.mergeMap(f,c,l)(this)}return fo.mergeMap=s,fo}var xv;function Pw(){if(xv)return Ov;xv=1;var o=g(),s=Cw();return o.Observable.prototype.mergeMap=s.mergeMap,o.Observable.prototype.flatMap=s.mergeMap,Ov}var qv={},ho={},ve={},$v;function Zm(){if($v)return ve;$v=1;var o=ve&&ve.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n,r,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof r=="number"&&(e=r,r=null),function(t){return t.lift(new l(n,r,e))}}ve.mergeMapTo=c;var l=(function(){function n(r,e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.ish=r,this.resultSelector=e,this.concurrent=t}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.ish,this.resultSelector,this.concurrent))},n})();ve.MergeMapToOperator=l;var a=(function(n){o(r,n);function r(e,t,i,u){u===void 0&&(u=Number.POSITIVE_INFINITY),n.call(this,e),this.ish=t,this.resultSelector=i,this.concurrent=u,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,i=this.index++,u=this.ish,h=this.destination;this.active++,this._innerSub(u,h,t,e,i)}else this.buffer.push(e)},r.prototype._innerSub=function(e,t,i,u,h){this.add(f.subscribeToResult(this,e,u,h))},r.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete()},r.prototype.notifyNext=function(e,t,i,u,h){var v=this,p=v.resultSelector,b=v.destination;p?this.trySelectResult(e,t,i,u):b.next(t)},r.prototype.trySelectResult=function(e,t,i,u){var h=this,v=h.resultSelector,p=h.destination,b;try{b=v(e,t,i,u)}catch(d){p.error(d);return}p.next(b)},r.prototype.notifyError=function(e){this.destination.error(e)},r.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},r})(s.OuterSubscriber);return ve.MergeMapToSubscriber=a,ve}var Rv;function Fw(){if(Rv)return ho;Rv=1;var o=Zm();function s(f,c,l){return l===void 0&&(l=Number.POSITIVE_INFINITY),o.mergeMapTo(f,c,l)(this)}return ho.mergeMapTo=s,ho}var Tv;function Mw(){if(Tv)return qv;Tv=1;var o=g(),s=Fw();return o.Observable.prototype.flatMapTo=s.mergeMapTo,o.Observable.prototype.mergeMapTo=s.mergeMapTo,qv}var Ev={},vo={},pe={},jv;function Qm(){if(jv)return pe;jv=1;var o=pe&&pe.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=H(),f=z(),c=F(),l=P();function a(e,t,i){return i===void 0&&(i=Number.POSITIVE_INFINITY),function(u){return u.lift(new n(e,t,i))}}pe.mergeScan=a;var n=(function(){function e(t,i,u){this.accumulator=t,this.seed=i,this.concurrent=u}return e.prototype.call=function(t,i){return i.subscribe(new r(t,this.accumulator,this.seed,this.concurrent))},e})();pe.MergeScanOperator=n;var r=(function(e){o(t,e);function t(i,u,h,v){e.call(this,i),this.accumulator=u,this.acc=h,this.concurrent=v,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return t.prototype._next=function(i){if(this.active<this.concurrent){var u=this.index++,h=s.tryCatch(this.accumulator)(this.acc,i),v=this.destination;h===f.errorObject?v.error(f.errorObject.e):(this.active++,this._innerSub(h,i,u))}else this.buffer.push(i)},t.prototype._innerSub=function(i,u,h){this.add(c.subscribeToResult(this,i,u,h))},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(i,u,h,v,p){var b=this.destination;this.acc=u,this.hasValue=!0,b.next(u)},t.prototype.notifyComplete=function(i){var u=this.buffer;this.remove(i),this.active--,u.length>0?this._next(u.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t})(l.OuterSubscriber);return pe.MergeScanSubscriber=r,pe}var Av;function Nw(){if(Av)return vo;Av=1;var o=Qm();function s(f,c,l){return l===void 0&&(l=Number.POSITIVE_INFINITY),o.mergeScan(f,c,l)(this)}return vo.mergeScan=s,vo}var Iv;function Ww(){if(Iv)return Ev;Iv=1;var o=g(),s=Nw();return o.Observable.prototype.mergeScan=s.mergeScan,Ev}var kv={},po={},bo={},Cv;function Xm(){if(Cv)return bo;Cv=1;var o=Ct();function s(f){var c=typeof f=="function"?function(l,a){return f(l,a)<0?l:a}:function(l,a){return l<a?l:a};return o.reduce(c)}return bo.min=s,bo}var Pv;function Lw(){if(Pv)return po;Pv=1;var o=Xm();function s(f){return o.min(f)(this)}return po.min=s,po}var Fv;function Dw(){if(Fv)return kv;Fv=1;var o=g(),s=Lw();return o.Observable.prototype.min=s.min,kv}var Mv={},yo={},Ut={},Oe={},Dr={},Nv;function Qa(){if(Nv)return Dr;Nv=1;var o=Dr&&Dr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(){return function(n){return n.lift(new c(n))}}Dr.refCount=f;var c=(function(){function a(n){this.connectable=n}return a.prototype.call=function(n,r){var e=this.connectable;e._refCount++;var t=new l(n,e),i=r.subscribe(t);return t.closed||(t.connection=e.connect()),i},a})(),l=(function(a){o(n,a);function n(r,e){a.call(this,r),this.connectable=e}return n.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var e=r._refCount;if(e<=0){this.connection=null;return}if(r._refCount=e-1,e>1){this.connection=null;return}var t=this.connection,i=r._connection;this.connection=null,i&&(!t||i===t)&&i.unsubscribe()},n})(s.Subscriber);return Dr}var Wv;function e_(){if(Wv)return Oe;Wv=1;var o=Oe&&Oe.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=G(),f=g(),c=I(),l=B(),a=Qa(),n=(function(t){o(i,t);function i(u,h){t.call(this),this.source=u,this.subjectFactory=h,this._refCount=0,this._isComplete=!1}return i.prototype._subscribe=function(u){return this.getSubject().subscribe(u)},i.prototype.getSubject=function(){var u=this._subject;return(!u||u.isStopped)&&(this._subject=this.subjectFactory()),this._subject},i.prototype.connect=function(){var u=this._connection;return u||(this._isComplete=!1,u=this._connection=new l.Subscription,u.add(this.source.subscribe(new e(this.getSubject(),this))),u.closed?(this._connection=null,u=l.Subscription.EMPTY):this._connection=u),u},i.prototype.refCount=function(){return a.refCount()(this)},i})(f.Observable);Oe.ConnectableObservable=n;var r=n.prototype;Oe.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}};var e=(function(t){o(i,t);function i(u,h){t.call(this,u),this.connectable=h}return i.prototype._error=function(u){this._unsubscribe(),t.prototype._error.call(this,u)},i.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},i.prototype._unsubscribe=function(){var u=this.connectable;if(u){this.connectable=null;var h=u._connection;u._refCount=0,u._subject=null,u._connection=null,h&&h.unsubscribe()}},i})(s.SubjectSubscriber);return(function(t){o(i,t);function i(u,h){t.call(this,u),this.connectable=h}return i.prototype._unsubscribe=function(){var u=this.connectable;if(!u){this.connection=null;return}this.connectable=null;var h=u._refCount;if(h<=0){this.connection=null;return}if(u._refCount=h-1,h>1){this.connection=null;return}var v=this.connection,p=u._connection;this.connection=null,p&&(!v||p===v)&&p.unsubscribe()},i})(c.Subscriber),Oe}var Lv;function ye(){if(Lv)return Ut;Lv=1;var o=e_();function s(c,l){return function(n){var r;if(typeof c=="function"?r=c:r=function(){return c},typeof l=="function")return n.lift(new f(r,l));var e=Object.create(n,o.connectableObservableDescriptor);return e.source=n,e.subjectFactory=r,e}}Ut.multicast=s;var f=(function(){function c(l,a){this.subjectFactory=l,this.selector=a}return c.prototype.call=function(l,a){var n=this.selector,r=this.subjectFactory(),e=n(r).subscribe(l);return e.add(a.subscribe(r)),e},c})();return Ut.MulticastOperator=f,Ut}var Dv;function Vw(){if(Dv)return yo;Dv=1;var o=ye();function s(f,c){return o.multicast(f,c)(this)}return yo.multicast=s,yo}var Vv;function Uw(){if(Vv)return Mv;Vv=1;var o=g(),s=Vw();return o.Observable.prototype.multicast=s.multicast,Mv}var Uv={},mo={},Bv;function Bw(){if(Bv)return mo;Bv=1;var o=tn();function s(f,c){return c===void 0&&(c=0),o.observeOn(f,c)(this)}return mo.observeOn=s,mo}var zv;function zw(){if(zv)return Uv;zv=1;var o=g(),s=Bw();return o.Observable.prototype.observeOn=s.observeOn,Uv}var Gv={},_o={},Hv;function Gw(){if(Hv)return _o;Hv=1;var o=Ua();function s(){for(var f=[],c=0;c<arguments.length;c++)f[c-0]=arguments[c];return o.onErrorResumeNext.apply(void 0,f)(this)}return _o.onErrorResumeNext=s,_o}var Jv;function Hw(){if(Jv)return Gv;Jv=1;var o=g(),s=Gw();return o.Observable.prototype.onErrorResumeNext=s.onErrorResumeNext,Gv}var Yv={},So={},Vr={},Kv;function r_(){if(Kv)return Vr;Kv=1;var o=Vr&&Vr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(){return function(a){return a.lift(new c)}}Vr.pairwise=f;var c=(function(){function a(){}return a.prototype.call=function(n,r){return r.subscribe(new l(n))},a})(),l=(function(a){o(n,a);function n(r){a.call(this,r),this.hasPrev=!1}return n.prototype._next=function(r){this.hasPrev?this.destination.next([this.prev,r]):this.hasPrev=!0,this.prev=r},n})(s.Subscriber);return Vr}var Zv;function Jw(){if(Zv)return So;Zv=1;var o=r_();function s(){return o.pairwise()(this)}return So.pairwise=s,So}var Qv;function Yw(){if(Qv)return Yv;Qv=1;var o=g(),s=Jw();return o.Observable.prototype.pairwise=s.pairwise,Yv}var Xv={},go={},Oo={},wo={},ep;function Kw(){if(ep)return wo;ep=1;function o(s,f){function c(){return!c.pred.apply(c.thisArg,arguments)}return c.pred=s,c.thisArg=f,c}return wo.not=o,wo}var rp;function t_(){if(rp)return Oo;rp=1;var o=Kw(),s=Ha();function f(c,l){return function(a){return[s.filter(c,l)(a),s.filter(o.not(c,l))(a)]}}return Oo.partition=f,Oo}var tp;function Zw(){if(tp)return go;tp=1;var o=t_();function s(f,c){return o.partition(f,c)(this)}return go.partition=s,go}var np;function Qw(){if(np)return Xv;np=1;var o=g(),s=Zw();return o.Observable.prototype.partition=s.partition,Xv}var ip={},xo={},qo={},op;function n_(){if(op)return qo;op=1;var o=It();function s(){for(var c=[],l=0;l<arguments.length;l++)c[l-0]=arguments[l];var a=c.length;if(a===0)throw new Error("list of properties cannot be empty.");return function(n){return o.map(f(c,a))(n)}}qo.pluck=s;function f(c,l){var a=function(n){for(var r=n,e=0;e<l;e++){var t=r[c[e]];if(typeof t<"u")r=t;else return}return r};return a}return qo}var ap;function Xw(){if(ap)return xo;ap=1;var o=n_();function s(){for(var f=[],c=0;c<arguments.length;c++)f[c-0]=arguments[c];return o.pluck.apply(void 0,f)(this)}return xo.pluck=s,xo}var sp;function ex(){if(sp)return ip;sp=1;var o=g(),s=Xw();return o.Observable.prototype.pluck=s.pluck,ip}var up={},$o={},Ro={},cp;function i_(){if(cp)return Ro;cp=1;var o=G(),s=ye();function f(c){return c?s.multicast(function(){return new o.Subject},c):s.multicast(new o.Subject)}return Ro.publish=f,Ro}var lp;function rx(){if(lp)return $o;lp=1;var o=i_();function s(f){return o.publish(f)(this)}return $o.publish=s,$o}var fp;function tx(){if(fp)return up;fp=1;var o=g(),s=rx();return o.Observable.prototype.publish=s.publish,up}var hp={},To={},Eo={},Ur={},vp;function o_(){if(vp)return Ur;vp=1;var o=Ur&&Ur.__extends||function(l,a){for(var n in a)a.hasOwnProperty(n)&&(l[n]=a[n]);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)},s=G(),f=Xt(),c=(function(l){o(a,l);function a(n){l.call(this),this._value=n}return Object.defineProperty(a.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),a.prototype._subscribe=function(n){var r=l.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},a.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new f.ObjectUnsubscribedError;return this._value},a.prototype.next=function(n){l.prototype.next.call(this,this._value=n)},a})(s.Subject);return Ur.BehaviorSubject=c,Ur}var pp;function a_(){if(pp)return Eo;pp=1;var o=o_(),s=ye();function f(c){return function(l){return s.multicast(new o.BehaviorSubject(c))(l)}}return Eo.publishBehavior=f,Eo}var bp;function nx(){if(bp)return To;bp=1;var o=a_();function s(f){return o.publishBehavior(f)(this)}return To.publishBehavior=s,To}var dp;function ix(){if(dp)return hp;dp=1;var o=g(),s=nx();return o.Observable.prototype.publishBehavior=s.publishBehavior,hp}var yp={},jo={},Ao={},mp;function s_(){if(mp)return Ao;mp=1;var o=sn(),s=ye();function f(c,l,a,n){a&&typeof a!="function"&&(n=a);var r=typeof a=="function"?a:void 0,e=new o.ReplaySubject(c,l,n);return function(t){return s.multicast(function(){return e},r)(t)}}return Ao.publishReplay=f,Ao}var _p;function ox(){if(_p)return jo;_p=1;var o=s_();function s(f,c,l,a){return o.publishReplay(f,c,l,a)(this)}return jo.publishReplay=s,jo}var Sp;function ax(){if(Sp)return yp;Sp=1;var o=g(),s=ox();return o.Observable.prototype.publishReplay=s.publishReplay,yp}var gp={},Io={},ko={},Op;function u_(){if(Op)return ko;Op=1;var o=en(),s=ye();function f(){return function(c){return s.multicast(new o.AsyncSubject)(c)}}return ko.publishLast=f,ko}var wp;function sx(){if(wp)return Io;wp=1;var o=u_();function s(){return o.publishLast()(this)}return Io.publishLast=s,Io}var xp;function ux(){if(xp)return gp;xp=1;var o=g(),s=sx();return o.Observable.prototype.publishLast=s.publishLast,gp}var qp={},Bt={},Co={},$p;function c_(){if($p)return Co;$p=1;var o=re(),s=Va();function f(){for(var c=[],l=0;l<arguments.length;l++)c[l-0]=arguments[l];return function(n){return c.length===1&&o.isArray(c[0])&&(c=c[0]),n.lift.call(s.race.apply(void 0,[n].concat(c)))}}return Co.race=f,Co}var Rp;function cx(){if(Rp)return Bt;Rp=1;var o=c_(),s=Va();Bt.raceStatic=s.race;function f(){for(var c=[],l=0;l<arguments.length;l++)c[l-0]=arguments[l];return o.race.apply(void 0,c)(this)}return Bt.race=f,Bt}var Tp;function lx(){if(Tp)return qp;Tp=1;var o=g(),s=cx();return o.Observable.prototype.race=s.race,qp}var Ep={},Po={},jp;function fx(){if(jp)return Po;jp=1;var o=Ct();function s(f,c){return arguments.length>=2?o.reduce(f,c)(this):o.reduce(f)(this)}return Po.reduce=s,Po}var Ap;function hx(){if(Ap)return Ep;Ap=1;var o=g(),s=fx();return o.Observable.prototype.reduce=s.reduce,Ep}var Ip={},Fo={},Br={},kp;function l_(){if(kp)return Br;kp=1;var o=Br&&Br.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=ie();function c(n){return n===void 0&&(n=-1),function(r){return n===0?new f.EmptyObservable:n<0?r.lift(new l(-1,r)):r.lift(new l(n-1,r))}}Br.repeat=c;var l=(function(){function n(r,e){this.count=r,this.source=e}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.count,this.source))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.count=t,this.source=i}return r.prototype.complete=function(){if(!this.isStopped){var e=this,t=e.source,i=e.count;if(i===0)return n.prototype.complete.call(this);i>-1&&(this.count=i-1),t.subscribe(this._unsubscribeAndRecycle())}},r})(s.Subscriber);return Br}var Cp;function vx(){if(Cp)return Fo;Cp=1;var o=l_();function s(f){return f===void 0&&(f=-1),o.repeat(f)(this)}return Fo.repeat=s,Fo}var Pp;function px(){if(Pp)return Ip;Pp=1;var o=g(),s=vx();return o.Observable.prototype.repeat=s.repeat,Ip}var Fp={},Mo={},zr={},Mp;function f_(){if(Mp)return zr;Mp=1;var o=zr&&zr.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=G(),f=H(),c=z(),l=P(),a=F();function n(t){return function(i){return i.lift(new r(t))}}zr.repeatWhen=n;var r=(function(){function t(i){this.notifier=i}return t.prototype.call=function(i,u){return u.subscribe(new e(i,this.notifier,u))},t})(),e=(function(t){o(i,t);function i(u,h,v){t.call(this,u),this.notifier=h,this.source=v,this.sourceIsBeingSubscribedTo=!0}return i.prototype.notifyNext=function(u,h,v,p,b){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},i.prototype.notifyComplete=function(u){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},i.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},i.prototype._unsubscribe=function(){var u=this,h=u.notifications,v=u.retriesSubscription;h&&(h.unsubscribe(),this.notifications=null),v&&(v.unsubscribe(),this.retriesSubscription=null),this.retries=null},i.prototype._unsubscribeAndRecycle=function(){var u=this,h=u.notifications,v=u.retries,p=u.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=h,this.retries=v,this.retriesSubscription=p,this},i.prototype.subscribeToRetries=function(){this.notifications=new s.Subject;var u=f.tryCatch(this.notifier)(this.notifications);if(u===c.errorObject)return t.prototype.complete.call(this);this.retries=u,this.retriesSubscription=a.subscribeToResult(this,u)},i})(l.OuterSubscriber);return zr}var Np;function bx(){if(Np)return Mo;Np=1;var o=f_();function s(f){return o.repeatWhen(f)(this)}return Mo.repeatWhen=s,Mo}var Wp;function dx(){if(Wp)return Fp;Wp=1;var o=g(),s=bx();return o.Observable.prototype.repeatWhen=s.repeatWhen,Fp}var Lp={},No={},Gr={},Dp;function h_(){if(Dp)return Gr;Dp=1;var o=Gr&&Gr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a){return a===void 0&&(a=-1),function(n){return n.lift(new c(a,n))}}Gr.retry=f;var c=(function(){function a(n,r){this.count=n,this.source=r}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.count,this.source))},a})(),l=(function(a){o(n,a);function n(r,e,t){a.call(this,r),this.count=e,this.source=t}return n.prototype.error=function(r){if(!this.isStopped){var e=this,t=e.source,i=e.count;if(i===0)return a.prototype.error.call(this,r);i>-1&&(this.count=i-1),t.subscribe(this._unsubscribeAndRecycle())}},n})(s.Subscriber);return Gr}var Vp;function yx(){if(Vp)return No;Vp=1;var o=h_();function s(f){return f===void 0&&(f=-1),o.retry(f)(this)}return No.retry=s,No}var Up;function mx(){if(Up)return Lp;Up=1;var o=g(),s=yx();return o.Observable.prototype.retry=s.retry,Lp}var Bp={},Wo={},Hr={},zp;function v_(){if(zp)return Hr;zp=1;var o=Hr&&Hr.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=G(),f=H(),c=z(),l=P(),a=F();function n(t){return function(i){return i.lift(new r(t,i))}}Hr.retryWhen=n;var r=(function(){function t(i,u){this.notifier=i,this.source=u}return t.prototype.call=function(i,u){return u.subscribe(new e(i,this.notifier,this.source))},t})(),e=(function(t){o(i,t);function i(u,h,v){t.call(this,u),this.notifier=h,this.source=v}return i.prototype.error=function(u){if(!this.isStopped){var h=this.errors,v=this.retries,p=this.retriesSubscription;if(v)this.errors=null,this.retriesSubscription=null;else{if(h=new s.Subject,v=f.tryCatch(this.notifier)(h),v===c.errorObject)return t.prototype.error.call(this,c.errorObject.e);p=a.subscribeToResult(this,v)}this._unsubscribeAndRecycle(),this.errors=h,this.retries=v,this.retriesSubscription=p,h.next(u)}},i.prototype._unsubscribe=function(){var u=this,h=u.errors,v=u.retriesSubscription;h&&(h.unsubscribe(),this.errors=null),v&&(v.unsubscribe(),this.retriesSubscription=null),this.retries=null},i.prototype.notifyNext=function(u,h,v,p,b){var d=this,y=d.errors,_=d.retries,S=d.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=y,this.retries=_,this.retriesSubscription=S,this.source.subscribe(this)},i})(l.OuterSubscriber);return Hr}var Gp;function _x(){if(Gp)return Wo;Gp=1;var o=v_();function s(f){return o.retryWhen(f)(this)}return Wo.retryWhen=s,Wo}var Hp;function Sx(){if(Hp)return Bp;Hp=1;var o=g(),s=_x();return o.Observable.prototype.retryWhen=s.retryWhen,Bp}var Jp={},Lo={},Jr={},Yp;function p_(){if(Yp)return Jr;Yp=1;var o=Jr&&Jr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n){return function(r){return r.lift(new l(n))}}Jr.sample=c;var l=(function(){function n(r){this.notifier=r}return n.prototype.call=function(r,e){var t=new a(r),i=e.subscribe(t);return i.add(f.subscribeToResult(t,this.notifier)),i},n})(),a=(function(n){o(r,n);function r(){n.apply(this,arguments),this.hasValue=!1}return r.prototype._next=function(e){this.value=e,this.hasValue=!0},r.prototype.notifyNext=function(e,t,i,u,h){this.emitValue()},r.prototype.notifyComplete=function(){this.emitValue()},r.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},r})(s.OuterSubscriber);return Jr}var Kp;function gx(){if(Kp)return Lo;Kp=1;var o=p_();function s(f){return o.sample(f)(this)}return Lo.sample=s,Lo}var Zp;function Ox(){if(Zp)return Jp;Zp=1;var o=g(),s=gx();return o.Observable.prototype.sample=s.sample,Jp}var Qp={},Do={},Yr={},Xp;function b_(){if(Xp)return Yr;Xp=1;var o=Yr&&Yr.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=I(),f=D();function c(r,e){return e===void 0&&(e=f.async),function(t){return t.lift(new l(r,e))}}Yr.sampleTime=c;var l=(function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new a(e,this.period,this.scheduler))},r})(),a=(function(r){o(e,r);function e(t,i,u){r.call(this,t),this.period=i,this.scheduler=u,this.hasValue=!1,this.add(u.schedule(n,i,{subscriber:this,period:i}))}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e})(s.Subscriber);function n(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}return Yr}var eb;function wx(){if(eb)return Do;eb=1;var o=D(),s=b_();function f(c,l){return l===void 0&&(l=o.async),s.sampleTime(c,l)(this)}return Do.sampleTime=f,Do}var rb;function xx(){if(rb)return Qp;rb=1;var o=g(),s=wx();return o.Observable.prototype.sampleTime=s.sampleTime,Qp}var tb={},Vo={},nb;function qx(){if(nb)return Vo;nb=1;var o=Ka();function s(f,c){return arguments.length>=2?o.scan(f,c)(this):o.scan(f)(this)}return Vo.scan=s,Vo}var ib;function $x(){if(ib)return tb;ib=1;var o=g(),s=qx();return o.Observable.prototype.scan=s.scan,tb}var ob={},Uo={},be={},ab;function d_(){if(ab)return be;ab=1;var o=be&&be.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=I(),f=H(),c=z();function l(e,t){return function(i){return i.lift(new a(e,t))}}be.sequenceEqual=l;var a=(function(){function e(t,i){this.compareTo=t,this.comparor=i}return e.prototype.call=function(t,i){return i.subscribe(new n(t,this.compareTo,this.comparor))},e})();be.SequenceEqualOperator=a;var n=(function(e){o(t,e);function t(i,u,h){e.call(this,i),this.compareTo=u,this.comparor=h,this._a=[],this._b=[],this._oneComplete=!1,this.add(u.subscribe(new r(i,this)))}return t.prototype._next=function(i){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(i),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},t.prototype.checkValues=function(){for(var i=this,u=i._a,h=i._b,v=i.comparor;u.length>0&&h.length>0;){var p=u.shift(),b=h.shift(),d=!1;v?(d=f.tryCatch(v)(p,b),d===c.errorObject&&this.destination.error(c.errorObject.e)):d=p===b,d||this.emit(!1)}},t.prototype.emit=function(i){var u=this.destination;u.next(i),u.complete()},t.prototype.nextB=function(i){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(i),this.checkValues())},t})(s.Subscriber);be.SequenceEqualSubscriber=n;var r=(function(e){o(t,e);function t(i,u){e.call(this,i),this.parent=u}return t.prototype._next=function(i){this.parent.nextB(i)},t.prototype._error=function(i){this.parent.error(i)},t.prototype._complete=function(){this.parent._complete()},t})(s.Subscriber);return be}var sb;function Rx(){if(sb)return Uo;sb=1;var o=d_();function s(f,c){return o.sequenceEqual(f,c)(this)}return Uo.sequenceEqual=s,Uo}var ub;function Tx(){if(ub)return ob;ub=1;var o=g(),s=Rx();return o.Observable.prototype.sequenceEqual=s.sequenceEqual,ob}var cb={},Bo={},zo={},lb;function y_(){if(lb)return zo;lb=1;var o=ye(),s=Qa(),f=G();function c(){return new f.Subject}function l(){return function(a){return s.refCount()(o.multicast(c)(a))}}return zo.share=l,zo}var fb;function Ex(){if(fb)return Bo;fb=1;var o=y_();function s(){return o.share()(this)}return Bo.share=s,Bo}var hb;function jx(){if(hb)return cb;hb=1;var o=g(),s=Ex();return o.Observable.prototype.share=s.share,cb}var vb={},Go={},Ho={},pb;function m_(){if(pb)return Ho;pb=1;var o=sn();function s(c,l,a){return function(n){return n.lift(f(c,l,a))}}Ho.shareReplay=s;function f(c,l,a){var n,r=0,e,t=!1,i=!1;return function(h){r++,(!n||t)&&(t=!1,n=new o.ReplaySubject(c,l,a),e=h.subscribe({next:function(p){n.next(p)},error:function(p){t=!0,n.error(p)},complete:function(){i=!0,n.complete()}}));var v=n.subscribe(this);return function(){r--,v.unsubscribe(),e&&r===0&&i&&e.unsubscribe()}}}return Ho}var bb;function Ax(){if(bb)return Go;bb=1;var o=m_();function s(f,c,l){return o.shareReplay(f,c,l)(this)}return Go.shareReplay=s,Go}var db;function Ix(){if(db)return vb;db=1;var o=g(),s=Ax();return o.Observable.prototype.shareReplay=s.shareReplay,vb}var yb={},Jo={},Kr={},mb;function __(){if(mb)return Kr;mb=1;var o=Kr&&Kr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=un();function c(n){return function(r){return r.lift(new l(n,r))}}Kr.single=c;var l=(function(){function n(r,e){this.predicate=r,this.source=e}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.predicate,this.source))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.predicate=t,this.source=i,this.seenValue=!1,this.index=0}return r.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},r.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},r.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(i){this.destination.error(i)}},r.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new f.EmptyError)},r})(s.Subscriber);return Kr}var _b;function kx(){if(_b)return Jo;_b=1;var o=__();function s(f){return o.single(f)(this)}return Jo.single=s,Jo}var Sb;function Cx(){if(Sb)return yb;Sb=1;var o=g(),s=kx();return o.Observable.prototype.single=s.single,yb}var gb={},Yo={},Zr={},Ob;function S_(){if(Ob)return Zr;Ob=1;var o=Zr&&Zr.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a){return function(n){return n.lift(new c(a))}}Zr.skip=f;var c=(function(){function a(n){this.total=n}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.total))},a})(),l=(function(a){o(n,a);function n(r,e){a.call(this,r),this.total=e,this.count=0}return n.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},n})(s.Subscriber);return Zr}var wb;function Px(){if(wb)return Yo;wb=1;var o=S_();function s(f){return o.skip(f)(this)}return Yo.skip=s,Yo}var xb;function Fx(){if(xb)return gb;xb=1;var o=g(),s=Px();return o.Observable.prototype.skip=s.skip,gb}var qb={},Ko={},Qr={},$b;function g_(){if($b)return Qr;$b=1;var o=Qr&&Qr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=kt();function c(n){return function(r){return r.lift(new l(n))}}Qr.skipLast=c;var l=(function(){function n(r){if(this._skipCount=r,this._skipCount<0)throw new f.ArgumentOutOfRangeError}return n.prototype.call=function(r,e){return this._skipCount===0?e.subscribe(new s.Subscriber(r)):e.subscribe(new a(r,this._skipCount))},n})(),a=(function(n){o(r,n);function r(e,t){n.call(this,e),this._skipCount=t,this._count=0,this._ring=new Array(t)}return r.prototype._next=function(e){var t=this._skipCount,i=this._count++;if(i<t)this._ring[i]=e;else{var u=i%t,h=this._ring,v=h[u];h[u]=e,this.destination.next(v)}},r})(s.Subscriber);return Qr}var Rb;function Mx(){if(Rb)return Ko;Rb=1;var o=g_();function s(f){return o.skipLast(f)(this)}return Ko.skipLast=s,Ko}var Tb;function Nx(){if(Tb)return qb;Tb=1;var o=g(),s=Mx();return o.Observable.prototype.skipLast=s.skipLast,qb}var Eb={},Zo={},Xr={},jb;function O_(){if(jb)return Xr;jb=1;var o=Xr&&Xr.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n){return function(r){return r.lift(new l(n))}}Xr.skipUntil=c;var l=(function(){function n(r){this.notifier=r}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.notifier))},n})(),a=(function(n){o(r,n);function r(e,t){n.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(f.subscribeToResult(this,t))}return r.prototype._next=function(e){this.hasValue&&n.prototype._next.call(this,e)},r.prototype._complete=function(){this.isInnerStopped?n.prototype._complete.call(this):this.unsubscribe()},r.prototype.notifyNext=function(e,t,i,u,h){this.hasValue=!0},r.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&n.prototype._complete.call(this)},r})(s.OuterSubscriber);return Xr}var Ab;function Wx(){if(Ab)return Zo;Ab=1;var o=O_();function s(f){return o.skipUntil(f)(this)}return Zo.skipUntil=s,Zo}var Ib;function Lx(){if(Ib)return Eb;Ib=1;var o=g(),s=Wx();return o.Observable.prototype.skipUntil=s.skipUntil,Eb}var kb={},Qo={},et={},Cb;function w_(){if(Cb)return et;Cb=1;var o=et&&et.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a){return function(n){return n.lift(new c(a))}}et.skipWhile=f;var c=(function(){function a(n){this.predicate=n}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.predicate))},a})(),l=(function(a){o(n,a);function n(r,e){a.call(this,r),this.predicate=e,this.skipping=!0,this.index=0}return n.prototype._next=function(r){var e=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||e.next(r)},n.prototype.tryCallPredicate=function(r){try{var e=this.predicate(r,this.index++);this.skipping=!!e}catch(t){this.destination.error(t)}},n})(s.Subscriber);return et}var Pb;function Dx(){if(Pb)return Qo;Pb=1;var o=w_();function s(f){return o.skipWhile(f)(this)}return Qo.skipWhile=s,Qo}var Fb;function Vx(){if(Fb)return kb;Fb=1;var o=g(),s=Dx();return o.Observable.prototype.skipWhile=s.skipWhile,kb}var Mb={},Xo={},ea={},Nb;function x_(){if(Nb)return ea;Nb=1;var o=oe(),s=La(),f=ie(),c=$t(),l=X();function a(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return function(e){var t=n[n.length-1];l.isScheduler(t)?n.pop():t=null;var i=n.length;return i===1?c.concat(new s.ScalarObservable(n[0],t),e):i>1?c.concat(new o.ArrayObservable(n,t),e):c.concat(new f.EmptyObservable(t),e)}}return ea.startWith=a,ea}var Wb;function Ux(){if(Wb)return Xo;Wb=1;var o=x_();function s(){for(var f=[],c=0;c<arguments.length;c++)f[c-0]=arguments[c];return o.startWith.apply(void 0,f)(this)}return Xo.startWith=s,Xo}var Lb;function Bx(){if(Lb)return Mb;Lb=1;var o=g(),s=Ux();return o.Observable.prototype.startWith=s.startWith,Mb}var Db={},ra={},ta={},rt={},na={},tt={},zt={},Vb;function zx(){if(Vb)return zt;Vb=1;var o=K(),s=(function(){function f(c){if(this.root=c,c.setImmediate&&typeof c.setImmediate=="function")this.setImmediate=c.setImmediate.bind(c),this.clearImmediate=c.clearImmediate.bind(c);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var l=function a(n){delete a.instance.tasksByHandle[n]};l.instance=this,this.clearImmediate=l}}return f.prototype.identify=function(c){return this.root.Object.prototype.toString.call(c)},f.prototype.canUseProcessNextTick=function(){return this.identify(this.root.process)==="[object process]"},f.prototype.canUseMessageChannel=function(){return!!this.root.MessageChannel},f.prototype.canUseReadyStateChange=function(){var c=this.root.document;return!!(c&&"onreadystatechange"in c.createElement("script"))},f.prototype.canUsePostMessage=function(){var c=this.root;if(c.postMessage&&!c.importScripts){var l=!0,a=c.onmessage;return c.onmessage=function(){l=!1},c.postMessage("","*"),c.onmessage=a,l}return!1},f.prototype.partiallyApplied=function(c){for(var l=[],a=1;a<arguments.length;a++)l[a-1]=arguments[a];var n=function r(){var e=r,t=e.handler,i=e.args;typeof t=="function"?t.apply(void 0,i):new Function(""+t)()};return n.handler=c,n.args=l,n},f.prototype.addFromSetImmediateArguments=function(c){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,c),this.nextHandle++},f.prototype.createProcessNextTickSetImmediate=function(){var c=function l(){var a=l.instance,n=a.addFromSetImmediateArguments(arguments);return a.root.process.nextTick(a.partiallyApplied(a.runIfPresent,n)),n};return c.instance=this,c},f.prototype.createPostMessageSetImmediate=function(){var c=this.root,l="setImmediate$"+c.Math.random()+"$",a=function r(e){var t=r.instance;e.source===c&&typeof e.data=="string"&&e.data.indexOf(l)===0&&t.runIfPresent(+e.data.slice(l.length))};a.instance=this,c.addEventListener("message",a,!1);var n=function r(){var e=r,t=e.messagePrefix,i=e.instance,u=i.addFromSetImmediateArguments(arguments);return i.root.postMessage(t+u,"*"),u};return n.instance=this,n.messagePrefix=l,n},f.prototype.runIfPresent=function(c){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,c),0);else{var l=this.tasksByHandle[c];if(l){this.currentlyRunningATask=!0;try{l()}finally{this.clearImmediate(c),this.currentlyRunningATask=!1}}}},f.prototype.createMessageChannelSetImmediate=function(){var c=this,l=new this.root.MessageChannel;l.port1.onmessage=function(n){var r=n.data;c.runIfPresent(r)};var a=function n(){var r=n,e=r.channel,t=r.instance,i=t.addFromSetImmediateArguments(arguments);return e.port2.postMessage(i),i};return a.channel=l,a.instance=this,a},f.prototype.createReadyStateChangeSetImmediate=function(){var c=function l(){var a=l.instance,n=a.root,r=n.document,e=r.documentElement,t=a.addFromSetImmediateArguments(arguments),i=r.createElement("script");return i.onreadystatechange=function(){a.runIfPresent(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i),t};return c.instance=this,c},f.prototype.createSetTimeoutSetImmediate=function(){var c=function l(){var a=l.instance,n=a.addFromSetImmediateArguments(arguments);return a.root.setTimeout(a.partiallyApplied(a.runIfPresent,n),0),n};return c.instance=this,c},f})();return zt.ImmediateDefinition=s,zt.Immediate=new s(o.root),zt}var Ub;function Gx(){if(Ub)return tt;Ub=1;var o=tt&&tt.__extends||function(l,a){for(var n in a)a.hasOwnProperty(n)&&(l[n]=a[n]);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)},s=zx(),f=jt(),c=(function(l){o(a,l);function a(n,r){l.call(this,n,r),this.scheduler=n,this.work=r}return a.prototype.requestAsyncId=function(n,r,e){return e===void 0&&(e=0),e!==null&&e>0?l.prototype.requestAsyncId.call(this,n,r,e):(n.actions.push(this),n.scheduled||(n.scheduled=s.Immediate.setImmediate(n.flush.bind(n,null))))},a.prototype.recycleAsyncId=function(n,r,e){if(e===void 0&&(e=0),e!==null&&e>0||e===null&&this.delay>0)return l.prototype.recycleAsyncId.call(this,n,r,e);n.actions.length===0&&(s.Immediate.clearImmediate(r),n.scheduled=void 0)},a})(f.AsyncAction);return tt.AsapAction=c,tt}var nt={},Bb;function Hx(){if(Bb)return nt;Bb=1;var o=nt&&nt.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=At(),f=(function(c){o(l,c);function l(){c.apply(this,arguments)}return l.prototype.flush=function(a){this.active=!0,this.scheduled=void 0;var n=this.actions,r,e=-1,t=n.length;a=a||n.shift();do if(r=a.execute(a.state,a.delay))break;while(++e<t&&(a=n.shift()));if(this.active=!1,r){for(;++e<t&&(a=n.shift());)a.unsubscribe();throw r}},l})(s.AsyncScheduler);return nt.AsapScheduler=f,nt}var zb;function q_(){if(zb)return na;zb=1;var o=Gx(),s=Hx();return na.asap=new s.AsapScheduler(o.AsapAction),na}var Gb;function Jx(){if(Gb)return rt;Gb=1;var o=rt&&rt.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=g(),f=q_(),c=Et(),l=(function(a){o(n,a);function n(r,e,t){e===void 0&&(e=0),t===void 0&&(t=f.asap),a.call(this),this.source=r,this.delayTime=e,this.scheduler=t,(!c.isNumeric(e)||e<0)&&(this.delayTime=0),(!t||typeof t.schedule!="function")&&(this.scheduler=f.asap)}return n.create=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=f.asap),new n(r,e,t)},n.dispatch=function(r){var e=r.source,t=r.subscriber;return this.add(e.subscribe(t))},n.prototype._subscribe=function(r){var e=this.delayTime,t=this.source,i=this.scheduler;return i.schedule(n.dispatch,e,{source:t,subscriber:r})},n})(s.Observable);return rt.SubscribeOnObservable=l,rt}var Hb;function Yx(){if(Hb)return ta;Hb=1;var o=Jx();function s(c,l){return l===void 0&&(l=0),function(n){return n.lift(new f(c,l))}}ta.subscribeOn=s;var f=(function(){function c(l,a){this.scheduler=l,this.delay=a}return c.prototype.call=function(l,a){return new o.SubscribeOnObservable(a,this.delay,this.scheduler).subscribe(l)},c})();return ta}var Jb;function Kx(){if(Jb)return ra;Jb=1;var o=Yx();function s(f,c){return c===void 0&&(c=0),o.subscribeOn(f,c)(this)}return ra.subscribeOn=s,ra}var Yb;function Zx(){if(Yb)return Db;Yb=1;var o=g(),s=Kx();return o.Observable.prototype.subscribeOn=s.subscribeOn,Db}var Kb={},ia={},oa={},it={},Zb;function Xa(){if(Zb)return it;Zb=1;var o=it&&it.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n,r){return function(t){return t.lift(new l(n,r))}}it.switchMap=c;var l=(function(){function n(r,e){this.project=r,this.resultSelector=e}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.project,this.resultSelector))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.project=t,this.resultSelector=i,this.index=0}return r.prototype._next=function(e){var t,i=this.index++;try{t=this.project(e,i)}catch(u){this.destination.error(u);return}this._innerSub(t,e,i)},r.prototype._innerSub=function(e,t,i){var u=this.innerSubscription;u&&u.unsubscribe(),this.add(this.innerSubscription=f.subscribeToResult(this,e,t,i))},r.prototype._complete=function(){var e=this.innerSubscription;(!e||e.closed)&&n.prototype._complete.call(this)},r.prototype._unsubscribe=function(){this.innerSubscription=null},r.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&n.prototype._complete.call(this)},r.prototype.notifyNext=function(e,t,i,u,h){this.resultSelector?this._tryNotifyNext(e,t,i,u):this.destination.next(t)},r.prototype._tryNotifyNext=function(e,t,i,u){var h;try{h=this.resultSelector(e,t,i,u)}catch(v){this.destination.error(v);return}this.destination.next(h)},r})(s.OuterSubscriber);return it}var Qb;function $_(){if(Qb)return oa;Qb=1;var o=Xa(),s=hm();function f(){return o.switchMap(s.identity)}return oa.switchAll=f,oa}var Xb;function Qx(){if(Xb)return ia;Xb=1;var o=$_();function s(){return o.switchAll()(this)}return ia._switch=s,ia}var ed;function Xx(){if(ed)return Kb;ed=1;var o=g(),s=Qx();return o.Observable.prototype.switch=s._switch,o.Observable.prototype._switch=s._switch,Kb}var rd={},aa={},td;function eq(){if(td)return aa;td=1;var o=Xa();function s(f,c){return o.switchMap(f,c)(this)}return aa.switchMap=s,aa}var nd;function rq(){if(nd)return rd;nd=1;var o=g(),s=eq();return o.Observable.prototype.switchMap=s.switchMap,rd}var id={},sa={},ot={},od;function R_(){if(od)return ot;od=1;var o=ot&&ot.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n,r){return function(e){return e.lift(new l(n,r))}}ot.switchMapTo=c;var l=(function(){function n(r,e){this.observable=r,this.resultSelector=e}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.observable,this.resultSelector))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.inner=t,this.resultSelector=i,this.index=0}return r.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=f.subscribeToResult(this,this.inner,e,this.index++))},r.prototype._complete=function(){var e=this.innerSubscription;(!e||e.closed)&&n.prototype._complete.call(this)},r.prototype._unsubscribe=function(){this.innerSubscription=null},r.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&n.prototype._complete.call(this)},r.prototype.notifyNext=function(e,t,i,u,h){var v=this,p=v.resultSelector,b=v.destination;p?this.tryResultSelector(e,t,i,u):b.next(t)},r.prototype.tryResultSelector=function(e,t,i,u){var h=this,v=h.resultSelector,p=h.destination,b;try{b=v(e,t,i,u)}catch(d){p.error(d);return}p.next(b)},r})(s.OuterSubscriber);return ot}var ad;function tq(){if(ad)return sa;ad=1;var o=R_();function s(f,c){return o.switchMapTo(f,c)(this)}return sa.switchMapTo=s,sa}var sd;function nq(){if(sd)return id;sd=1;var o=g(),s=tq();return o.Observable.prototype.switchMapTo=s.switchMapTo,id}var ud={},ua={},at={},cd;function T_(){if(cd)return at;cd=1;var o=at&&at.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=I(),f=kt(),c=ie();function l(r){return function(e){return r===0?new c.EmptyObservable:e.lift(new a(r))}}at.take=l;var a=(function(){function r(e){if(this.total=e,this.total<0)throw new f.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new n(e,this.total))},r})(),n=(function(r){o(e,r);function e(t,i){r.call(this,t),this.total=i,this.count=0}return e.prototype._next=function(t){var i=this.total,u=++this.count;u<=i&&(this.destination.next(t),u===i&&(this.destination.complete(),this.unsubscribe()))},e})(s.Subscriber);return at}var ld;function iq(){if(ld)return ua;ld=1;var o=T_();function s(f){return o.take(f)(this)}return ua.take=s,ua}var fd;function oq(){if(fd)return ud;fd=1;var o=g(),s=iq();return o.Observable.prototype.take=s.take,ud}var hd={},ca={},vd;function aq(){if(vd)return ca;vd=1;var o=Za();function s(f){return o.takeLast(f)(this)}return ca.takeLast=s,ca}var pd;function sq(){if(pd)return hd;pd=1;var o=g(),s=aq();return o.Observable.prototype.takeLast=s.takeLast,hd}var bd={},la={},st={},dd;function E_(){if(dd)return st;dd=1;var o=st&&st.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(n){return function(r){return r.lift(new l(n))}}st.takeUntil=c;var l=(function(){function n(r){this.notifier=r}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.notifier))},n})(),a=(function(n){o(r,n);function r(e,t){n.call(this,e),this.notifier=t,this.add(f.subscribeToResult(this,t))}return r.prototype.notifyNext=function(e,t,i,u,h){this.complete()},r.prototype.notifyComplete=function(){},r})(s.OuterSubscriber);return st}var yd;function uq(){if(yd)return la;yd=1;var o=E_();function s(f){return o.takeUntil(f)(this)}return la.takeUntil=s,la}var md;function cq(){if(md)return bd;md=1;var o=g(),s=uq();return o.Observable.prototype.takeUntil=s.takeUntil,bd}var _d={},fa={},ut={},Sd;function j_(){if(Sd)return ut;Sd=1;var o=ut&&ut.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=I();function f(a){return function(n){return n.lift(new c(a))}}ut.takeWhile=f;var c=(function(){function a(n){this.predicate=n}return a.prototype.call=function(n,r){return r.subscribe(new l(n,this.predicate))},a})(),l=(function(a){o(n,a);function n(r,e){a.call(this,r),this.predicate=e,this.index=0}return n.prototype._next=function(r){var e=this.destination,t;try{t=this.predicate(r,this.index++)}catch(i){e.error(i);return}this.nextOrComplete(r,t)},n.prototype.nextOrComplete=function(r,e){var t=this.destination;e?t.next(r):t.complete()},n})(s.Subscriber);return ut}var gd;function lq(){if(gd)return fa;gd=1;var o=j_();function s(f){return o.takeWhile(f)(this)}return fa.takeWhile=s,fa}var Od;function fq(){if(Od)return _d;Od=1;var o=g(),s=lq();return o.Observable.prototype.takeWhile=s.takeWhile,_d}var wd={},ha={},ct={},xd;function cn(){return xd||(xd=1,(function(o){var s=ct&&ct.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},f=P(),c=F();o.defaultThrottleConfig={leading:!0,trailing:!1};function l(r,e){return e===void 0&&(e=o.defaultThrottleConfig),function(t){return t.lift(new a(r,e.leading,e.trailing))}}o.throttle=l;var a=(function(){function r(e,t,i){this.durationSelector=e,this.leading=t,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new n(e,this.durationSelector,this.leading,this.trailing))},r})(),n=(function(r){s(e,r);function e(t,i,u,h){r.call(this,t),this.destination=t,this.durationSelector=i,this._leading=u,this._trailing=h,this._hasTrailingValue=!1}return e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var i=this.tryDurationSelector(t);i&&this.add(this.throttled=c.subscribeToResult(this,i)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(i){return this.destination.error(i),null}},e.prototype._unsubscribe=function(){var t=this,i=t.throttled;t._trailingValue,t._hasTrailingValue,t._trailing,this._trailingValue=null,this._hasTrailingValue=!1,i&&(this.remove(i),this.throttled=null,i.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,i=t.destination,u=t.throttled,h=t._trailing,v=t._trailingValue,p=t._hasTrailingValue;u&&h&&p&&(i.next(v),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,i,u,h,v){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e})(f.OuterSubscriber)})(ct)),ct}var qd;function hq(){if(qd)return ha;qd=1;var o=cn();function s(f,c){return c===void 0&&(c=o.defaultThrottleConfig),o.throttle(f,c)(this)}return ha.throttle=s,ha}var $d;function vq(){if($d)return wd;$d=1;var o=g(),s=hq();return o.Observable.prototype.throttle=s.throttle,wd}var Rd={},va={},lt={},Td;function A_(){if(Td)return lt;Td=1;var o=lt&&lt.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=I(),f=D(),c=cn();function l(e,t,i){return t===void 0&&(t=f.async),i===void 0&&(i=c.defaultThrottleConfig),function(u){return u.lift(new a(e,t,i.leading,i.trailing))}}lt.throttleTime=l;var a=(function(){function e(t,i,u,h){this.duration=t,this.scheduler=i,this.leading=u,this.trailing=h}return e.prototype.call=function(t,i){return i.subscribe(new n(t,this.duration,this.scheduler,this.leading,this.trailing))},e})(),n=(function(e){o(t,e);function t(i,u,h,v,p){e.call(this,i),this.duration=u,this.scheduler=h,this.leading=v,this.trailing=p,this._hasTrailingValue=!1,this._trailingValue=null}return t.prototype._next=function(i){this.throttled?this.trailing&&(this._trailingValue=i,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(r,this.duration,{subscriber:this})),this.leading&&this.destination.next(i))},t.prototype.clearThrottle=function(){var i=this.throttled;i&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),i.unsubscribe(),this.remove(i),this.throttled=null)},t})(s.Subscriber);function r(e){var t=e.subscriber;t.clearThrottle()}return lt}var Ed;function pq(){if(Ed)return va;Ed=1;var o=D(),s=cn(),f=A_();function c(l,a,n){return a===void 0&&(a=o.async),n===void 0&&(n=s.defaultThrottleConfig),f.throttleTime(l,a,n)(this)}return va.throttleTime=c,va}var jd;function bq(){if(jd)return Rd;jd=1;var o=g(),s=pq();return o.Observable.prototype.throttleTime=s.throttleTime,Rd}var Ad={},Gt={},we={},Id;function I_(){if(Id)return we;Id=1;var o=we&&we.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=I(),f=D();function c(r){return r===void 0&&(r=f.async),function(e){return e.lift(new a(r))}}we.timeInterval=c;var l=(function(){function r(e,t){this.value=e,this.interval=t}return r})();we.TimeInterval=l;var a=(function(){function r(e){this.scheduler=e}return r.prototype.call=function(e,t){return t.subscribe(new n(e,this.scheduler))},r})(),n=(function(r){o(e,r);function e(t,i){r.call(this,t),this.scheduler=i,this.lastTime=0,this.lastTime=i.now()}return e.prototype._next=function(t){var i=this.scheduler.now(),u=i-this.lastTime;this.lastTime=i,this.destination.next(new l(t,u))},e})(s.Subscriber);return we}var kd;function k_(){if(kd)return Gt;kd=1;var o=D(),s=I_();Gt.TimeInterval=s.TimeInterval;function f(c){return c===void 0&&(c=o.async),s.timeInterval(c)(this)}return Gt.timeInterval=f,Gt}var Cd;function dq(){if(Cd)return Ad;Cd=1;var o=g(),s=k_();return o.Observable.prototype.timeInterval=s.timeInterval,Ad}var Pd={},pa={},ft={},ht={},Fd;function C_(){if(Fd)return ht;Fd=1;var o=ht&&ht.__extends||function(f,c){for(var l in c)c.hasOwnProperty(l)&&(f[l]=c[l]);function a(){this.constructor=f}f.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)},s=(function(f){o(c,f);function c(){var l=f.call(this,"Timeout has occurred");this.name=l.name="TimeoutError",this.stack=l.stack,this.message=l.message}return c})(Error);return ht.TimeoutError=s,ht}var Md;function P_(){if(Md)return ft;Md=1;var o=ft&&ft.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=D(),f=on(),c=I(),l=C_();function a(e,t){t===void 0&&(t=s.async);var i=f.isDate(e),u=i?+e-t.now():Math.abs(e);return function(h){return h.lift(new n(u,i,t,new l.TimeoutError))}}ft.timeout=a;var n=(function(){function e(t,i,u,h){this.waitFor=t,this.absoluteTimeout=i,this.scheduler=u,this.errorInstance=h}return e.prototype.call=function(t,i){return i.subscribe(new r(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e})(),r=(function(e){o(t,e);function t(i,u,h,v,p){e.call(this,i),this.absoluteTimeout=u,this.waitFor=h,this.scheduler=v,this.errorInstance=p,this.action=null,this.scheduleTimeout()}return t.dispatchTimeout=function(i){i.error(i.errorInstance)},t.prototype.scheduleTimeout=function(){var i=this.action;i?this.action=i.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(i){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,i)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},t})(c.Subscriber);return ft}var Nd;function yq(){if(Nd)return pa;Nd=1;var o=D(),s=P_();function f(c,l){return l===void 0&&(l=o.async),s.timeout(c,l)(this)}return pa.timeout=f,pa}var Wd;function mq(){if(Wd)return Pd;Wd=1;var o=g(),s=yq();return o.Observable.prototype.timeout=s.timeout,Pd}var Ld={},ba={},vt={},Dd;function F_(){if(Dd)return vt;Dd=1;var o=vt&&vt.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)},s=D(),f=on(),c=P(),l=F();function a(e,t,i){return i===void 0&&(i=s.async),function(u){var h=f.isDate(e),v=h?+e-i.now():Math.abs(e);return u.lift(new n(v,h,t,i))}}vt.timeoutWith=a;var n=(function(){function e(t,i,u,h){this.waitFor=t,this.absoluteTimeout=i,this.withObservable=u,this.scheduler=h}return e.prototype.call=function(t,i){return i.subscribe(new r(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e})(),r=(function(e){o(t,e);function t(i,u,h,v,p){e.call(this,i),this.absoluteTimeout=u,this.waitFor=h,this.withObservable=v,this.scheduler=p,this.action=null,this.scheduleTimeout()}return t.dispatchTimeout=function(i){var u=i.withObservable;i._unsubscribeAndRecycle(),i.add(l.subscribeToResult(i,u))},t.prototype.scheduleTimeout=function(){var i=this.action;i?this.action=i.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(i){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,i)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t})(c.OuterSubscriber);return vt}var Vd;function _q(){if(Vd)return ba;Vd=1;var o=D(),s=F_();function f(c,l,a){return a===void 0&&(a=o.async),s.timeoutWith(c,l,a)(this)}return ba.timeoutWith=f,ba}var Ud;function Sq(){if(Ud)return Ld;Ud=1;var o=g(),s=_q();return o.Observable.prototype.timeoutWith=s.timeoutWith,Ld}var Bd={},da={},Ht={},zd;function es(){if(zd)return Ht;zd=1;var o=D(),s=It();function f(l){return l===void 0&&(l=o.async),s.map(function(a){return new c(a,l.now())})}Ht.timestamp=f;var c=(function(){function l(a,n){this.value=a,this.timestamp=n}return l})();return Ht.Timestamp=c,Ht}var Gd;function gq(){if(Gd)return da;Gd=1;var o=D(),s=es();function f(c){return c===void 0&&(c=o.async),s.timestamp(c)(this)}return da.timestamp=f,da}var Hd;function Oq(){if(Hd)return Bd;Hd=1;var o=g(),s=gq();return o.Observable.prototype.timestamp=s.timestamp,Bd}var Jd={},ya={},ma={},Yd;function M_(){if(Yd)return ma;Yd=1;var o=Ct();function s(c,l,a){return a===0?[l]:(c.push(l),c)}function f(){return o.reduce(s,[])}return ma.toArray=f,ma}var Kd;function wq(){if(Kd)return ya;Kd=1;var o=M_();function s(){return o.toArray()(this)}return ya.toArray=s,ya}var Zd;function xq(){if(Zd)return Jd;Zd=1;var o=g(),s=wq();return o.Observable.prototype.toArray=s.toArray,Jd}var Qd={},_a={},pt={},Xd;function N_(){if(Xd)return pt;Xd=1;var o=pt&&pt.__extends||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)},s=G(),f=P(),c=F();function l(r){return function(t){return t.lift(new a(r))}}pt.window=l;var a=(function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var i=new n(e),u=t.subscribe(i);return u.closed||i.add(c.subscribeToResult(i,this.windowBoundaries)),u},r})(),n=(function(r){o(e,r);function e(t){r.call(this,t),this.window=new s.Subject,t.next(this.window)}return e.prototype.notifyNext=function(t,i,u,h,v){this.openWindow()},e.prototype.notifyError=function(t,i){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var i=this.destination,u=this.window=new s.Subject;i.next(u)},e})(f.OuterSubscriber);return pt}var ey;function qq(){if(ey)return _a;ey=1;var o=N_();function s(f){return o.window(f)(this)}return _a.window=s,_a}var ry;function $q(){if(ry)return Qd;ry=1;var o=g(),s=qq();return o.Observable.prototype.window=s.window,Qd}var ty={},Sa={},bt={},ny;function W_(){if(ny)return bt;ny=1;var o=bt&&bt.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=I(),f=G();function c(n,r){return r===void 0&&(r=0),function(t){return t.lift(new l(n,r))}}bt.windowCount=c;var l=(function(){function n(r,e){this.windowSize=r,this.startWindowEvery=e}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.windowSize,this.startWindowEvery))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.destination=e,this.windowSize=t,this.startWindowEvery=i,this.windows=[new f.Subject],this.count=0,e.next(this.windows[0])}return r.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,u=this.windowSize,h=this.windows,v=h.length,p=0;p<v&&!this.closed;p++)h[p].next(e);var b=this.count-u+1;if(b>=0&&b%t===0&&!this.closed&&h.shift().complete(),++this.count%t===0&&!this.closed){var d=new f.Subject;h.push(d),i.next(d)}},r.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},r.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},r.prototype._unsubscribe=function(){this.count=0,this.windows=null},r})(s.Subscriber);return bt}var iy;function Rq(){if(iy)return Sa;iy=1;var o=W_();function s(f,c){return c===void 0&&(c=0),o.windowCount(f,c)(this)}return Sa.windowCount=s,Sa}var oy;function Tq(){if(oy)return ty;oy=1;var o=g(),s=Rq();return o.Observable.prototype.windowCount=s.windowCount,ty}var ay={},ga={},dt={},sy;function L_(){if(sy)return dt;sy=1;var o=dt&&dt.__extends||function(v,p){for(var b in p)p.hasOwnProperty(b)&&(v[b]=p[b]);function d(){this.constructor=v}v.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)},s=G(),f=D(),c=I(),l=Et(),a=X();function n(v){var p=f.async,b=null,d=Number.POSITIVE_INFINITY;return a.isScheduler(arguments[3])&&(p=arguments[3]),a.isScheduler(arguments[2])?p=arguments[2]:l.isNumeric(arguments[2])&&(d=arguments[2]),a.isScheduler(arguments[1])?p=arguments[1]:l.isNumeric(arguments[1])&&(b=arguments[1]),function(_){return _.lift(new r(v,b,d,p))}}dt.windowTime=n;var r=(function(){function v(p,b,d,y){this.windowTimeSpan=p,this.windowCreationInterval=b,this.maxWindowSize=d,this.scheduler=y}return v.prototype.call=function(p,b){return b.subscribe(new t(p,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},v})(),e=(function(v){o(p,v);function p(){v.apply(this,arguments),this._numberOfNextedValues=0}return p.prototype.next=function(b){this._numberOfNextedValues++,v.prototype.next.call(this,b)},Object.defineProperty(p.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),p})(s.Subject),t=(function(v){o(p,v);function p(b,d,y,_,S){v.call(this,b),this.destination=b,this.windowTimeSpan=d,this.windowCreationInterval=y,this.maxWindowSize=_,this.scheduler=S,this.windows=[];var $=this.openWindow();if(y!==null&&y>=0){var j={subscriber:this,window:$,context:null},T={windowTimeSpan:d,windowCreationInterval:y,subscriber:this,scheduler:S};this.add(S.schedule(h,d,j)),this.add(S.schedule(u,y,T))}else{var m={subscriber:this,window:$,windowTimeSpan:d};this.add(S.schedule(i,d,m))}}return p.prototype._next=function(b){for(var d=this.windows,y=d.length,_=0;_<y;_++){var S=d[_];S.closed||(S.next(b),S.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(S))}},p.prototype._error=function(b){for(var d=this.windows;d.length>0;)d.shift().error(b);this.destination.error(b)},p.prototype._complete=function(){for(var b=this.windows;b.length>0;){var d=b.shift();d.closed||d.complete()}this.destination.complete()},p.prototype.openWindow=function(){var b=new e;this.windows.push(b);var d=this.destination;return d.next(b),b},p.prototype.closeWindow=function(b){b.complete();var d=this.windows;d.splice(d.indexOf(b),1)},p})(c.Subscriber);function i(v){var p=v.subscriber,b=v.windowTimeSpan,d=v.window;d&&p.closeWindow(d),v.window=p.openWindow(),this.schedule(v,b)}function u(v){var p=v.windowTimeSpan,b=v.subscriber,d=v.scheduler,y=v.windowCreationInterval,_=b.openWindow(),S=this,$={action:S,subscription:null},j={subscriber:b,window:_,context:$};$.subscription=d.schedule(h,p,j),S.add($.subscription),S.schedule(v,y)}function h(v){var p=v.subscriber,b=v.window,d=v.context;d&&d.action&&d.subscription&&d.action.remove(d.subscription),p.closeWindow(b)}return dt}var uy;function Eq(){if(uy)return ga;uy=1;var o=D(),s=Et(),f=X(),c=L_();function l(a){var n=o.async,r=null,e=Number.POSITIVE_INFINITY;return f.isScheduler(arguments[3])&&(n=arguments[3]),f.isScheduler(arguments[2])?n=arguments[2]:s.isNumeric(arguments[2])&&(e=arguments[2]),f.isScheduler(arguments[1])?n=arguments[1]:s.isNumeric(arguments[1])&&(r=arguments[1]),c.windowTime(a,r,e,n)(this)}return ga.windowTime=l,ga}var cy;function jq(){if(cy)return ay;cy=1;var o=g(),s=Eq();return o.Observable.prototype.windowTime=s.windowTime,ay}var ly={},Oa={},yt={},fy;function D_(){if(fy)return yt;fy=1;var o=yt&&yt.__extends||function(i,u){for(var h in u)u.hasOwnProperty(h)&&(i[h]=u[h]);function v(){this.constructor=i}i.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)},s=G(),f=B(),c=H(),l=z(),a=P(),n=F();function r(i,u){return function(h){return h.lift(new e(i,u))}}yt.windowToggle=r;var e=(function(){function i(u,h){this.openings=u,this.closingSelector=h}return i.prototype.call=function(u,h){return h.subscribe(new t(u,this.openings,this.closingSelector))},i})(),t=(function(i){o(u,i);function u(h,v,p){i.call(this,h),this.openings=v,this.closingSelector=p,this.contexts=[],this.add(this.openSubscription=n.subscribeToResult(this,v,v))}return u.prototype._next=function(h){var v=this.contexts;if(v)for(var p=v.length,b=0;b<p;b++)v[b].window.next(h)},u.prototype._error=function(h){var v=this.contexts;if(this.contexts=null,v)for(var p=v.length,b=-1;++b<p;){var d=v[b];d.window.error(h),d.subscription.unsubscribe()}i.prototype._error.call(this,h)},u.prototype._complete=function(){var h=this.contexts;if(this.contexts=null,h)for(var v=h.length,p=-1;++p<v;){var b=h[p];b.window.complete(),b.subscription.unsubscribe()}i.prototype._complete.call(this)},u.prototype._unsubscribe=function(){var h=this.contexts;if(this.contexts=null,h)for(var v=h.length,p=-1;++p<v;){var b=h[p];b.window.unsubscribe(),b.subscription.unsubscribe()}},u.prototype.notifyNext=function(h,v,p,b,d){if(h===this.openings){var y=this.closingSelector,_=c.tryCatch(y)(v);if(_===l.errorObject)return this.error(l.errorObject.e);var S=new s.Subject,$=new f.Subscription,j={window:S,subscription:$};this.contexts.push(j);var T=n.subscribeToResult(this,_,j);T.closed?this.closeWindow(this.contexts.length-1):(T.context=j,$.add(T)),this.destination.next(S)}else this.closeWindow(this.contexts.indexOf(h))},u.prototype.notifyError=function(h){this.error(h)},u.prototype.notifyComplete=function(h){h!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(h.context))},u.prototype.closeWindow=function(h){if(h!==-1){var v=this.contexts,p=v[h],b=p.window,d=p.subscription;v.splice(h,1),b.complete(),d.unsubscribe()}},u})(a.OuterSubscriber);return yt}var hy;function Aq(){if(hy)return Oa;hy=1;var o=D_();function s(f,c){return o.windowToggle(f,c)(this)}return Oa.windowToggle=s,Oa}var vy;function Iq(){if(vy)return ly;vy=1;var o=g(),s=Aq();return o.Observable.prototype.windowToggle=s.windowToggle,ly}var py={},wa={},mt={},by;function V_(){if(by)return mt;by=1;var o=mt&&mt.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=G(),f=H(),c=z(),l=P(),a=F();function n(t){return function(u){return u.lift(new r(t))}}mt.windowWhen=n;var r=(function(){function t(i){this.closingSelector=i}return t.prototype.call=function(i,u){return u.subscribe(new e(i,this.closingSelector))},t})(),e=(function(t){o(i,t);function i(u,h){t.call(this,u),this.destination=u,this.closingSelector=h,this.openWindow()}return i.prototype.notifyNext=function(u,h,v,p,b){this.openWindow(b)},i.prototype.notifyError=function(u,h){this._error(u)},i.prototype.notifyComplete=function(u){this.openWindow(u)},i.prototype._next=function(u){this.window.next(u)},i.prototype._error=function(u){this.window.error(u),this.destination.error(u),this.unsubscribeClosingNotification()},i.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},i.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},i.prototype.openWindow=function(u){u===void 0&&(u=null),u&&(this.remove(u),u.unsubscribe());var h=this.window;h&&h.complete();var v=this.window=new s.Subject;this.destination.next(v);var p=f.tryCatch(this.closingSelector)();if(p===c.errorObject){var b=c.errorObject.e;this.destination.error(b),this.window.error(b)}else this.add(this.closingNotification=a.subscribeToResult(this,p))},i})(l.OuterSubscriber);return mt}var dy;function kq(){if(dy)return wa;dy=1;var o=V_();function s(f){return o.windowWhen(f)(this)}return wa.windowWhen=s,wa}var yy;function Cq(){if(yy)return py;yy=1;var o=g(),s=kq();return o.Observable.prototype.windowWhen=s.windowWhen,py}var my={},xa={},_t={},_y;function U_(){if(_y)return _t;_y=1;var o=_t&&_t.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=P(),f=F();function c(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return function(e){var t;typeof n[n.length-1]=="function"&&(t=n.pop());var i=n;return e.lift(new l(i,t))}}_t.withLatestFrom=c;var l=(function(){function n(r,e){this.observables=r,this.project=e}return n.prototype.call=function(r,e){return e.subscribe(new a(r,this.observables,this.project))},n})(),a=(function(n){o(r,n);function r(e,t,i){n.call(this,e),this.observables=t,this.project=i,this.toRespond=[];var u=t.length;this.values=new Array(u);for(var h=0;h<u;h++)this.toRespond.push(h);for(var h=0;h<u;h++){var v=t[h];this.add(f.subscribeToResult(this,v,v,h))}}return r.prototype.notifyNext=function(e,t,i,u,h){this.values[i]=t;var v=this.toRespond;if(v.length>0){var p=v.indexOf(i);p!==-1&&v.splice(p,1)}},r.prototype.notifyComplete=function(){},r.prototype._next=function(e){if(this.toRespond.length===0){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},r.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(t)},r})(s.OuterSubscriber);return _t}var Sy;function Pq(){if(Sy)return xa;Sy=1;var o=U_();function s(){for(var f=[],c=0;c<arguments.length;c++)f[c-0]=arguments[c];return o.withLatestFrom.apply(void 0,f)(this)}return xa.withLatestFrom=s,xa}var gy;function Fq(){if(gy)return my;gy=1;var o=g(),s=Pq();return o.Observable.prototype.withLatestFrom=s.withLatestFrom,my}var Oy={},qa={},wy;function Mq(){if(wy)return qa;wy=1;var o=an();function s(){for(var f=[],c=0;c<arguments.length;c++)f[c-0]=arguments[c];return o.zip.apply(void 0,f)(this)}return qa.zipProto=s,qa}var xy;function Nq(){if(xy)return Oy;xy=1;var o=g(),s=Mq();return o.Observable.prototype.zip=s.zipProto,Oy}var qy={},$a={},Ra={},$y;function B_(){if($y)return Ra;$y=1;var o=an();function s(f){return function(c){return c.lift(new o.ZipOperator(f))}}return Ra.zipAll=s,Ra}var Ry;function Wq(){if(Ry)return $a;Ry=1;var o=B_();function s(f){return o.zipAll(f)(this)}return $a.zipAll=s,$a}var Ty;function Lq(){if(Ty)return qy;Ty=1;var o=g(),s=Wq();return o.Observable.prototype.zipAll=s.zipAll,qy}var St={},gt={},Ta={},Ea={},Ey;function z_(){if(Ey)return Ea;Ey=1;var o=(function(){function s(f,c){c===void 0&&(c=Number.POSITIVE_INFINITY),this.subscribedFrame=f,this.unsubscribedFrame=c}return s})();return Ea.SubscriptionLog=o,Ea}var jy;function G_(){if(jy)return Ta;jy=1;var o=z_(),s=(function(){function f(){this.subscriptions=[]}return f.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new o.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},f.prototype.logUnsubscribedFrame=function(c){var l=this.subscriptions,a=l[c];l[c]=new o.SubscriptionLog(a.subscribedFrame,this.scheduler.now())},f})();return Ta.SubscriptionLoggable=s,Ta}var ja={},Ay;function H_(){if(Ay)return ja;Ay=1;function o(s,f){for(var c=0,l=f.length;c<l;c++)for(var a=f[c],n=Object.getOwnPropertyNames(a.prototype),r=0,e=n.length;r<e;r++){var t=n[r];s.prototype[t]=a.prototype[t]}}return ja.applyMixins=o,ja}var Iy;function Dq(){if(Iy)return gt;Iy=1;var o=gt&&gt.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=g(),f=B(),c=G_(),l=H_(),a=(function(n){o(r,n);function r(e,t){n.call(this,function(i){var u=this,h=u.logSubscribedFrame();return i.add(new f.Subscription(function(){u.logUnsubscribedFrame(h)})),u.scheduleMessages(i),i}),this.messages=e,this.subscriptions=[],this.scheduler=t}return r.prototype.scheduleMessages=function(e){for(var t=this.messages.length,i=0;i<t;i++){var u=this.messages[i];e.add(this.scheduler.schedule(function(h){var v=h.message,p=h.subscriber;v.notification.observe(p)},u.frame,{message:u,subscriber:e}))}},r})(s.Observable);return gt.ColdObservable=a,l.applyMixins(a,[c.SubscriptionLoggable]),gt}var Ot={},ky;function Vq(){if(ky)return Ot;ky=1;var o=Ot&&Ot.__extends||function(n,r){for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},s=G(),f=B(),c=G_(),l=H_(),a=(function(n){o(r,n);function r(e,t){n.call(this),this.messages=e,this.subscriptions=[],this.scheduler=t}return r.prototype._subscribe=function(e){var t=this,i=t.logSubscribedFrame();return e.add(new f.Subscription(function(){t.logUnsubscribedFrame(i)})),n.prototype._subscribe.call(this,e)},r.prototype.setup=function(){for(var e=this,t=e.messages.length,i=0;i<t;i++)(function(){var u=e.messages[i];e.scheduler.schedule(function(){u.notification.observe(e)},u.frame)})()},r})(s.Subject);return Ot.HotObservable=a,l.applyMixins(a,[c.SubscriptionLoggable]),Ot}var xe={},Cy;function J_(){if(Cy)return xe;Cy=1;var o=xe&&xe.__extends||function(a,n){for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)},s=jt(),f=At(),c=(function(a){o(n,a);function n(r,e){var t=this;r===void 0&&(r=l),e===void 0&&(e=Number.POSITIVE_INFINITY),a.call(this,r,function(){return t.frame}),this.maxFrames=e,this.frame=0,this.index=-1}return n.prototype.flush=function(){for(var r=this,e=r.actions,t=r.maxFrames,i,u;(u=e.shift())&&(this.frame=u.delay)<=t&&!(i=u.execute(u.state,u.delay)););if(i){for(;u=e.shift();)u.unsubscribe();throw i}},n.frameTimeFactor=10,n})(f.AsyncScheduler);xe.VirtualTimeScheduler=c;var l=(function(a){o(n,a);function n(r,e,t){t===void 0&&(t=r.index+=1),a.call(this,r,e),this.scheduler=r,this.work=e,this.index=t,this.active=!0,this.index=r.index=t}return n.prototype.schedule=function(r,e){if(e===void 0&&(e=0),!this.id)return a.prototype.schedule.call(this,r,e);this.active=!1;var t=new n(this.scheduler,this.work);return this.add(t),t.schedule(r,e)},n.prototype.requestAsyncId=function(r,e,t){t===void 0&&(t=0),this.delay=r.frame+t;var i=r.actions;return i.push(this),i.sort(n.sortActions),!0},n.prototype.recycleAsyncId=function(r,e,t){},n.prototype._execute=function(r,e){if(this.active===!0)return a.prototype._execute.call(this,r,e)},n.sortActions=function(r,e){return r.delay===e.delay?r.index===e.index?0:r.index>e.index?1:-1:r.delay>e.delay?1:-1},n})(s.AsyncAction);return xe.VirtualAction=l,xe}var Py;function Uq(){if(Py)return St;Py=1;var o=St&&St.__extends||function(t,i){for(var u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);function h(){this.constructor=t}t.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)},s=g(),f=Tt(),c=Dq(),l=Vq(),a=z_(),n=J_(),r=750,e=(function(t){o(i,t);function i(u){t.call(this,n.VirtualAction,r),this.assertDeepEqual=u,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return i.prototype.createTime=function(u){var h=u.indexOf("|");if(h===-1)throw new Error('marble diagram for time should have a completion marker "|"');return h*i.frameTimeFactor},i.prototype.createColdObservable=function(u,h,v){if(u.indexOf("^")!==-1)throw new Error('cold observable cannot have subscription offset "^"');if(u.indexOf("!")!==-1)throw new Error('cold observable cannot have unsubscription marker "!"');var p=i.parseMarbles(u,h,v),b=new c.ColdObservable(p,this);return this.coldObservables.push(b),b},i.prototype.createHotObservable=function(u,h,v){if(u.indexOf("!")!==-1)throw new Error('hot observable cannot have unsubscription marker "!"');var p=i.parseMarbles(u,h,v),b=new l.HotObservable(p,this);return this.hotObservables.push(b),b},i.prototype.materializeInnerObservable=function(u,h){var v=this,p=[];return u.subscribe(function(b){p.push({frame:v.frame-h,notification:f.Notification.createNext(b)})},function(b){p.push({frame:v.frame-h,notification:f.Notification.createError(b)})},function(){p.push({frame:v.frame-h,notification:f.Notification.createComplete()})}),p},i.prototype.expectObservable=function(u,h){var v=this;h===void 0&&(h=null);var p=[],b={actual:p,ready:!1},d=i.parseMarblesAsSubscriptions(h).unsubscribedFrame,y;return this.schedule(function(){y=u.subscribe(function(_){var S=_;_ instanceof s.Observable&&(S=v.materializeInnerObservable(S,v.frame)),p.push({frame:v.frame,notification:f.Notification.createNext(S)})},function(_){p.push({frame:v.frame,notification:f.Notification.createError(_)})},function(){p.push({frame:v.frame,notification:f.Notification.createComplete()})})},0),d!==Number.POSITIVE_INFINITY&&this.schedule(function(){return y.unsubscribe()},d),this.flushTests.push(b),{toBe:function(_,S,$){b.ready=!0,b.expected=i.parseMarbles(_,S,$,!0)}}},i.prototype.expectSubscriptions=function(u){var h={actual:u,ready:!1};return this.flushTests.push(h),{toBe:function(v){var p=typeof v=="string"?[v]:v;h.ready=!0,h.expected=p.map(function(b){return i.parseMarblesAsSubscriptions(b)})}}},i.prototype.flush=function(){for(var u=this.hotObservables;u.length>0;)u.shift().setup();t.prototype.flush.call(this);for(var h=this.flushTests.filter(function(p){return p.ready});h.length>0;){var v=h.shift();this.assertDeepEqual(v.actual,v.expected)}},i.parseMarblesAsSubscriptions=function(u){if(typeof u!="string")return new a.SubscriptionLog(Number.POSITIVE_INFINITY);for(var h=u.length,v=-1,p=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY,d=0;d<h;d++){var y=d*this.frameTimeFactor,_=u[d];switch(_){case"-":case" ":break;case"(":v=y;break;case")":v=-1;break;case"^":if(p!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");p=v>-1?v:y;break;case"!":if(b!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");b=v>-1?v:y;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+_+"'.")}}return b<0?new a.SubscriptionLog(p):new a.SubscriptionLog(p,b)},i.parseMarbles=function(u,h,v,p){if(p===void 0&&(p=!1),u.indexOf("!")!==-1)throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var b=u.length,d=[],y=u.indexOf("^"),_=y===-1?0:y*-this.frameTimeFactor,S=typeof h!="object"?function(O){return O}:function(O){return p&&h[O]instanceof c.ColdObservable?h[O].messages:h[O]},$=-1,j=0;j<b;j++){var T=j*this.frameTimeFactor+_,m=void 0,w=u[j];switch(w){case"-":case" ":break;case"(":$=T;break;case")":$=-1;break;case"|":m=f.Notification.createComplete();break;case"^":break;case"#":m=f.Notification.createError(v||"error");break;default:m=f.Notification.createNext(S(w));break}m&&d.push({frame:$>-1?$:T,notification:m})}return d},i})(n.VirtualTimeScheduler);return St.TestScheduler=e,St}var Aa={},wt={},Jt={},Fy;function Bq(){if(Fy)return Jt;Fy=1;var o=K(),s=(function(){function f(c){c.requestAnimationFrame?(this.cancelAnimationFrame=c.cancelAnimationFrame.bind(c),this.requestAnimationFrame=c.requestAnimationFrame.bind(c)):c.mozRequestAnimationFrame?(this.cancelAnimationFrame=c.mozCancelAnimationFrame.bind(c),this.requestAnimationFrame=c.mozRequestAnimationFrame.bind(c)):c.webkitRequestAnimationFrame?(this.cancelAnimationFrame=c.webkitCancelAnimationFrame.bind(c),this.requestAnimationFrame=c.webkitRequestAnimationFrame.bind(c)):c.msRequestAnimationFrame?(this.cancelAnimationFrame=c.msCancelAnimationFrame.bind(c),this.requestAnimationFrame=c.msRequestAnimationFrame.bind(c)):c.oRequestAnimationFrame?(this.cancelAnimationFrame=c.oCancelAnimationFrame.bind(c),this.requestAnimationFrame=c.oRequestAnimationFrame.bind(c)):(this.cancelAnimationFrame=c.clearTimeout.bind(c),this.requestAnimationFrame=function(l){return c.setTimeout(l,1e3/60)})}return f})();return Jt.RequestAnimationFrameDefinition=s,Jt.AnimationFrame=new s(o.root),Jt}var My;function zq(){if(My)return wt;My=1;var o=wt&&wt.__extends||function(l,a){for(var n in a)a.hasOwnProperty(n)&&(l[n]=a[n]);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)},s=jt(),f=Bq(),c=(function(l){o(a,l);function a(n,r){l.call(this,n,r),this.scheduler=n,this.work=r}return a.prototype.requestAsyncId=function(n,r,e){return e===void 0&&(e=0),e!==null&&e>0?l.prototype.requestAsyncId.call(this,n,r,e):(n.actions.push(this),n.scheduled||(n.scheduled=f.AnimationFrame.requestAnimationFrame(n.flush.bind(n,null))))},a.prototype.recycleAsyncId=function(n,r,e){if(e===void 0&&(e=0),e!==null&&e>0||e===null&&this.delay>0)return l.prototype.recycleAsyncId.call(this,n,r,e);n.actions.length===0&&(f.AnimationFrame.cancelAnimationFrame(r),n.scheduled=void 0)},a})(s.AsyncAction);return wt.AnimationFrameAction=c,wt}var xt={},Ny;function Gq(){if(Ny)return xt;Ny=1;var o=xt&&xt.__extends||function(c,l){for(var a in l)l.hasOwnProperty(a)&&(c[a]=l[a]);function n(){this.constructor=c}c.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)},s=At(),f=(function(c){o(l,c);function l(){c.apply(this,arguments)}return l.prototype.flush=function(a){this.active=!0,this.scheduled=void 0;var n=this.actions,r,e=-1,t=n.length;a=a||n.shift();do if(r=a.execute(a.state,a.delay))break;while(++e<t&&(a=n.shift()));if(this.active=!1,r){for(;++e<t&&(a=n.shift());)a.unsubscribe();throw r}},l})(s.AsyncScheduler);return xt.AnimationFrameScheduler=f,xt}var Wy;function Hq(){if(Wy)return Aa;Wy=1;var o=zq(),s=Gq();return Aa.animationFrame=new s.AnimationFrameScheduler(o.AnimationFrameAction),Aa}var E={},Ly;function Jq(){if(Ly)return E;Ly=1;var o=Ya();E.audit=o.audit;var s=Bm();E.auditTime=s.auditTime;var f=dm();E.buffer=f.buffer;var c=ym();E.bufferCount=c.bufferCount;var l=mm();E.bufferTime=l.bufferTime;var a=_m();E.bufferToggle=a.bufferToggle;var n=Sm();E.bufferWhen=n.bufferWhen;var r=gm();E.catchError=r.catchError;var e=Om();E.combineAll=e.combineAll;var t=rn();E.combineLatest=t.combineLatest;var i=wm();E.concat=i.concat;var u=Da();E.concatAll=u.concatAll;var h=Ba();E.concatMap=h.concatMap;var v=xm();E.concatMapTo=v.concatMapTo;var p=qm();E.count=p.count;var b=Rm();E.debounce=b.debounce;var d=Tm();E.debounceTime=d.debounceTime;var y=za();E.defaultIfEmpty=y.defaultIfEmpty;var _=Em();E.delay=_.delay;var S=jm();E.delayWhen=S.delayWhen;var $=$m();E.dematerialize=$.dematerialize;var j=Am();E.distinct=j.distinct;var T=Ga();E.distinctUntilChanged=T.distinctUntilChanged;var m=Im();E.distinctUntilKeyChanged=m.distinctUntilKeyChanged;var w=Mm();E.elementAt=w.elementAt;var O=Gm();E.every=O.every;var x=Cm();E.exhaust=x.exhaust;var q=Pm();E.exhaustMap=q.exhaustMap;var R=Fm();E.expand=R.expand;var A=Ha();E.filter=A.filter;var k=Nm();E.finalize=k.finalize;var N=Ja();E.find=N.find;var M=Wm();E.findIndex=M.findIndex;var V=Lm();E.first=V.first;var L=Dm();E.groupBy=L.groupBy;var C=Vm();E.ignoreElements=C.ignoreElements;var U=Um();E.isEmpty=U.isEmpty;var Q=zm();E.last=Q.last;var ee=It();E.map=ee.map;var qe=Hm();E.mapTo=qe.mapTo;var ae=Jm();E.materialize=ae.materialize;var Pt=Ym();E.max=Pt.max;var Z_=Km();E.merge=Z_.merge;var Q_=nn();E.mergeAll=Q_.mergeAll;var X_=qt();E.mergeMap=X_.mergeMap;var e1=qt();E.flatMap=e1.mergeMap;var r1=Zm();E.mergeMapTo=r1.mergeMapTo;var t1=Qm();E.mergeScan=t1.mergeScan;var n1=Xm();E.min=n1.min;var i1=ye();E.multicast=i1.multicast;var o1=tn();E.observeOn=o1.observeOn;var a1=Ua();E.onErrorResumeNext=a1.onErrorResumeNext;var s1=r_();E.pairwise=s1.pairwise;var u1=t_();E.partition=u1.partition;var c1=n_();E.pluck=c1.pluck;var l1=i_();E.publish=l1.publish;var f1=a_();E.publishBehavior=f1.publishBehavior;var h1=u_();E.publishLast=h1.publishLast;var v1=s_();E.publishReplay=v1.publishReplay;var p1=c_();E.race=p1.race;var b1=Ct();E.reduce=b1.reduce;var d1=l_();E.repeat=d1.repeat;var y1=f_();E.repeatWhen=y1.repeatWhen;var m1=h_();E.retry=m1.retry;var _1=v_();E.retryWhen=_1.retryWhen;var S1=Qa();E.refCount=S1.refCount;var g1=p_();E.sample=g1.sample;var O1=b_();E.sampleTime=O1.sampleTime;var w1=Ka();E.scan=w1.scan;var x1=d_();E.sequenceEqual=x1.sequenceEqual;var q1=y_();E.share=q1.share;var $1=m_();E.shareReplay=$1.shareReplay;var R1=__();E.single=R1.single;var T1=S_();E.skip=T1.skip;var E1=g_();E.skipLast=E1.skipLast;var j1=O_();E.skipUntil=j1.skipUntil;var A1=w_();E.skipWhile=A1.skipWhile;var I1=x_();E.startWith=I1.startWith;var k1=$_();E.switchAll=k1.switchAll;var C1=Xa();E.switchMap=C1.switchMap;var P1=R_();E.switchMapTo=P1.switchMapTo;var F1=T_();E.take=F1.take;var M1=Za();E.takeLast=M1.takeLast;var N1=E_();E.takeUntil=N1.takeUntil;var W1=j_();E.takeWhile=W1.takeWhile;var L1=km();E.tap=L1.tap;var D1=cn();E.throttle=D1.throttle;var V1=A_();E.throttleTime=V1.throttleTime;var U1=I_();E.timeInterval=U1.timeInterval;var B1=P_();E.timeout=B1.timeout;var z1=F_();E.timeoutWith=z1.timeoutWith;var G1=es();E.timestamp=G1.timestamp;var H1=M_();E.toArray=H1.toArray;var J1=N_();E.window=J1.window;var Y1=W_();E.windowCount=Y1.windowCount;var K1=L_();E.windowTime=K1.windowTime;var Z1=D_();E.windowToggle=Z1.windowToggle;var Q1=V_();E.windowWhen=Q1.windowWhen;var X1=U_();E.withLatestFrom=X1.withLatestFrom;var eS=an();E.zip=eS.zip;var rS=B_();return E.zipAll=rS.zipAll,E}var Dy;function Y_(){if(Dy)return W;Dy=1;var o=G();W.Subject=o.Subject,W.AnonymousSubject=o.AnonymousSubject;var s=g();W.Observable=s.Observable,jS(),kS(),FS(),WS(),VS(),BS(),HS(),JS(),ZS(),eg(),tg(),og(),ug(),vg(),pg(),bg(),mg(),_g(),gg(),xg(),Rg(),jg(),kg(),Pg(),Mg(),Wg(),zg(),Hg(),Yg(),Zg(),Xg(),rO(),nO(),oO(),sO(),cO(),fO(),vO(),bO(),yO(),_O(),gO(),wO(),qO(),RO(),EO(),IO(),CO(),FO(),NO(),LO(),VO(),BO(),GO(),JO(),KO(),QO(),ew(),tw(),sw(),cw(),fw(),vw(),bw(),yw(),_w(),gw(),ww(),qw(),Rw(),Ew(),Aw(),kw(),Pw(),Mw(),Ww(),Dw(),Uw(),zw(),Hw(),Yw(),Qw(),ex(),tx(),ix(),ax(),ux(),lx(),hx(),px(),dx(),mx(),Sx(),Ox(),xx(),$x(),Tx(),jx(),Ix(),Cx(),Fx(),Nx(),Lx(),Vx(),Bx(),Zx(),Xx(),rq(),nq(),oq(),sq(),cq(),fq(),vq(),bq(),dq(),mq(),Sq(),Oq(),xq(),$q(),Tq(),jq(),Iq(),Cq(),Fq(),Nq(),Lq();var f=B();W.Subscription=f.Subscription;var c=I();W.Subscriber=c.Subscriber;var l=en();W.AsyncSubject=l.AsyncSubject;var a=sn();W.ReplaySubject=a.ReplaySubject;var n=o_();W.BehaviorSubject=n.BehaviorSubject;var r=e_();W.ConnectableObservable=r.ConnectableObservable;var e=Tt();W.Notification=e.Notification;var t=un();W.EmptyError=t.EmptyError;var i=kt();W.ArgumentOutOfRangeError=i.ArgumentOutOfRangeError;var u=Xt();W.ObjectUnsubscribedError=u.ObjectUnsubscribedError;var h=C_();W.TimeoutError=h.TimeoutError;var v=nm();W.UnsubscriptionError=v.UnsubscriptionError;var p=k_();W.TimeInterval=p.TimeInterval;var b=es();W.Timestamp=b.Timestamp;var d=Uq();W.TestScheduler=d.TestScheduler;var y=J_();W.VirtualTimeScheduler=y.VirtualTimeScheduler;var _=pm();W.AjaxResponse=_.AjaxResponse,W.AjaxError=_.AjaxError,W.AjaxTimeoutError=_.AjaxTimeoutError;var S=Wa();W.pipe=S.pipe;var $=q_(),j=D(),T=bm(),m=Hq(),w=Zt(),O=Rt(),x=Qt(),q=Jq();W.operators=q;var R={asap:$.asap,queue:T.queue,animationFrame:m.animationFrame,async:j.async};W.Scheduler=R;var A={rxSubscriber:w.rxSubscriber,observable:x.observable,iterator:O.iterator};return W.Symbol=A,W}var Y={},Ia,Vy;function Yq(){if(Vy)return Ia;Vy=1;var o=OS(),s=oS(),f=wS(),c=aS();function l(a,n,r){return a=c(a),r=r==null?0:o(f(r),0,a.length),n=s(n),a.slice(r,r+n.length)==n}return Ia=l,Ia}var ka,Uy;function Kq(){if(Uy)return ka;Uy=1;var o=sS();function s(f,c,l){for(var a=-1,n=f.length;++a<n;){var r=f[a],e=c(r);if(e!=null&&(t===void 0?e===e&&!o(e):l(e,t)))var t=e,i=r}return i}return ka=s,ka}var Ca,By;function Zq(){if(By)return Ca;By=1;function o(s,f){return s>f}return Ca=o,Ca}var Pa,zy;function Qq(){if(zy)return Pa;zy=1;var o=Kq(),s=Zq(),f=nS();function c(l,a){return l&&l.length?o(l,f(a,2),s):void 0}return Pa=c,Pa}var Gy;function K_(){if(Gy)return Y;Gy=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.addLeadingSearchCommand=b,Y.stripLeadingSearchCommand=d,Y.startsWithSPL2Annotation=y,Y.addLeadingSPL2Annotation=_,Y.createJava5HashForString=S,Y.getCachedSearch=$,Y.createSearchJob=j,Y.oneShot=T,Y.postAction=m,Y.getData=w,Y.batchGetSearches=O,Y.validateSearch=x;var o=r(Yq()),s=r(uS()),f=r(xS()),c=r(Qq()),l=r(Xy()),a=em(),n=rm();function r(q){return q&&q.__esModule?q:{default:q}}function e(q){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},e(q)}function t(q,R){var A=Object.keys(q);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(q);R&&(k=k.filter(function(N){return Object.getOwnPropertyDescriptor(q,N).enumerable})),A.push.apply(A,k)}return A}function i(q){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?t(Object(A),!0).forEach(function(k){u(q,k,A[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(A)):t(Object(A)).forEach(function(k){Object.defineProperty(q,k,Object.getOwnPropertyDescriptor(A,k))})}return q}function u(q,R,A){return(R=h(R))in q?Object.defineProperty(q,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):q[R]=A,q}function h(q){var R=v(q,"string");return e(R)=="symbol"?R:R+""}function v(q,R){if(e(q)!="object"||!q)return q;var A=q[Symbol.toPrimitive];if(A!==void 0){var k=A.call(q,R);if(e(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(q)}var p=["webframework.cache.hash","app","owner","provenance","refresh","refreshType"];function b(q){var R=q.trim();return(0,o.default)(R,"|")||(0,o.default)(R,"search ")&&R.length>7?q:"search ".concat(R)}function d(q){var R=q.trim();return(0,o.default)(R,"search ")?R.substring(7):q}function y(q){var R=q.trim(),A=R.startsWith("|")?R.substring(1).trim():R;return A.startsWith("@spl2")}function _(q){var R=q.trim();return y(R)?R.startsWith("|")?R:"| ".concat(R):"| @spl2 ".concat(R)}function S(q){for(var R=0,A=0,k=q.length;A<k;A++)R=(31*R|0)+q.charCodeAt(A)|0;return R=R.toString(16),"java5:".concat(R)}function $(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=R.cacheLimit,k=A===void 0?0:A,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,a.getDefaultFetchInit)(),V=S(q.search),L=l.default.encode({output_mode:"json",search:"request.webframework.cache.hash=".concat(V)});return fetch("".concat((0,n.createRESTURL)("search/jobs",{},N),"?").concat(L),M).then(function(C){return C.json()}).then(function(C){var U=(0,s.default)(q,p),Q=C.entry.filter(function(ae){return(0,f.default)(U,(0,s.default)(ae.content.request,p))});if(Q.length>0){var ee=(0,c.default)(Q,function(ae){return new Date(ae.published).valueOf()}),qe=k<=0?0:new Date().valueOf()-k*1e3;if(new Date(ee.published).valueOf()>qe)return ee}return null}).catch((0,a.handleError)("Failed to get cached jobs."))}function j(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,a.getDefaultFetchInit)();return fetch((0,n.createRESTURL)("search/jobs",R,A),i(i({},k),{},{method:"POST",body:l.default.encode(i({output_mode:"json"},q))})).then((0,a.handleResponse)(201)).catch((0,a.handleError)("Failed to create search job."))}function T(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,a.getDefaultFetchInit)();return fetch((0,n.createRESTURL)("search/v2/jobs",R,A),i(i({},k),{},{method:"POST",body:l.default.encode(i(i({output_mode:"json"},q),{},{exec_mode:"oneshot"}))})).then((0,a.handleResponse)(200)).catch((0,a.handleError)("Failed to create one shot search job"))}function m(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,a.getDefaultFetchInit)();return fetch((0,n.createRESTURL)("search/jobs/".concat(q,"/control"),{},A),i(i({},k),{},{method:"POST",body:l.default.encode(i(i({},R),{},{output_mode:"json"}))})).then((0,a.handleResponse)(200)).catch((0,a.handleError)("Action ".concat(R.action," failed on search job ").concat(q)))}function w(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:(0,a.getDefaultFetchInit)(),M=["results","results_preview","events"],V=M.includes(R)?"/v2":"",L=l.default.encode(i({output_mode:"json"},A)),C=(0,n.createRESTURL)("search".concat(V,"/jobs/").concat(q).concat(R&&"/".concat(R)),{},k);return A.search&&V==="/v2"?fetch(C,i(i({},N),{},{method:"POST",body:L})).then((0,a.handleResponse)([200,204])).catch((0,a.handleError)("Failed to get ".concat(R||"status"," for job ").concat(q))):fetch("".concat(C,"?").concat(L),N).then((0,a.handleResponse)([200,204])).catch((0,a.handleError)("Failed to get ".concat(R||"status"," for job ").concat(q)))}function O(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,a.getDefaultFetchInit)(),N=l.default.encode(i({output_mode:"json",id:q,count:q.length},R));return fetch("".concat((0,n.createRESTURL)("search/jobs",{},A),"?").concat(N),k).then((0,a.handleResponse)(200)).catch((0,a.handleError)("Failed to get batch status of jobs."))}function x(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,a.getDefaultFetchInit)(),N=l.default.encode(i({output_mode:"json",parse_only:!0,q:b(q)},R));return fetch("".concat((0,n.createRESTURL)("search/v2/parser",{},A)),i(i({},k),{},{method:"POST",body:N})).then((0,a.handleResponse)(200)).then(function(M){return{valid:!0,data:M}}).catch(function(M){return M.json().then(function(V){var L="Failed to validate search string.",C=(0,a.findErrorMessage)(V),U=C?C.text:L;return M.status===400?Promise.resolve({valid:!1,error:U}):Promise.reject(new Error(U))})})}return Y}var de={},Hy;function Xq(){if(Hy)return de;Hy=1,Object.defineProperty(de,"__esModule",{value:!0}),de.get=i,de.dispatch=u,de.getHistory=h,de.getLatest=v;var o=c(Xy()),s=em(),f=rm();function c(p){return p&&p.__esModule?p:{default:p}}function l(p){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l(p)}function a(p,b){var d=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);b&&(y=y.filter(function(_){return Object.getOwnPropertyDescriptor(p,_).enumerable})),d.push.apply(d,y)}return d}function n(p){for(var b=1;b<arguments.length;b++){var d=arguments[b]!=null?arguments[b]:{};b%2?a(Object(d),!0).forEach(function(y){r(p,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(d)):a(Object(d)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(d,y))})}return p}function r(p,b,d){return(b=e(b))in p?Object.defineProperty(p,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[b]=d,p}function e(p){var b=t(p,"string");return l(b)=="symbol"?b:b+""}function t(p,b){if(l(p)!="object"||!p)return p;var d=p[Symbol.toPrimitive];if(d!==void 0){var y=d.call(p,b);if(l(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(p)}function i(p){var b=p.name,d=p.app,y=p.owner,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,s.getDefaultFetchInit)(),j=(0,f.createRESTURL)("saved/searches/".concat(b),{app:d,owner:y},S),T=o.default.encode(n({output_mode:"json"},_));return fetch("".concat(j,"?").concat(T),$).then((0,s.handleResponse)(200)).catch((0,s.handleError)("Failed to get saved search: ".concat(b)))}function u(p){var b=p.name,d=p.app,y=p.owner,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,s.getDefaultFetchInit)(),j=(0,f.createRESTURL)("saved/searches/".concat(b,"/dispatch"),{app:d,owner:y},S);return fetch(j,n(n({},$),{},{method:"POST",body:o.default.encode(n(n({},_),{},{output_mode:"json"}))})).then((0,s.handleResponse)(201)).catch((0,s.handleError)("Failed to dispatch saved search: ".concat(b)))}function h(p){var b=p.name,d=p.app,y=p.owner,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,s.getDefaultFetchInit)(),j=(0,f.createRESTURL)("saved/searches/".concat(b,"/history"),{app:d,owner:y},S),T=o.default.encode(n({output_mode:"json"},_));return fetch("".concat(j,"?").concat(T),$).then((0,s.handleResponse)(200)).catch((0,s.handleError)("Failed to get history for saved search: ".concat(b)))}function v(p){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,s.getDefaultFetchInit)();return h(p,n(n({},b),{},{sort_key:"start",sort_dir:"desc",count:1}),d,y).then(function(_){return _.entry[0]})}return de}var Z={},Fa,Jy;function e$(){if(Jy)return Fa;Jy=1;var o=qS(),s=cS(),f=lS(),c=fS(),l=f(function(a,n){return c(a)?o(a,s(n,1,c,!0)):[]});return Fa=l,Fa}var Ma,Yy;function r$(){if(Yy)return Ma;Yy=1;var o=hS(),s=vS(),f=pS(),c=Qy(),l=bS(),a=dS(),n=mS(),r=yS(),e="[object Map]",t="[object Set]",i=Object.prototype,u=i.hasOwnProperty;function h(v){if(v==null)return!0;if(l(v)&&(c(v)||typeof v=="string"||typeof v.splice=="function"||a(v)||r(v)||f(v)))return!v.length;var p=s(v);if(p==e||p==t)return!v.size;if(n(v))return!o(v).length;for(var b in v)if(u.call(v,b))return!1;return!0}return Ma=h,Ma}var Ky;function t$(){if(Ky)return Z;Ky=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.track=Z.setSplunkConfig=Z.setIntervalTest=Z.setBaseFetchInit=Z.resetTest=void 0;var o=n(e$()),s=n(Qy()),f=n(r$()),c=n(_S()),l=Y_(),a=K_();function n(_){return _&&_.__esModule?_:{default:_}}function r(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function e(_,S){for(var $=0;$<S.length;$++){var j=S[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function t(_,S,$){return S&&e(_.prototype,S),_}function i(_,S,$){return S in _?Object.defineProperty(_,S,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[S]=$,_}var u=(function(){function _(){var S=this;r(this,_),i(this,"setSplunkConfig",function($){S.splunkConfig=$}),i(this,"setBaseFetchInit",function($){S.baseFetchInit=$}),i(this,"setIntervalTest",function($){throw new Error("progressTracker#setIntervalTest is only available in test environment.")}),i(this,"resetTest",function(){throw new Error("progressTracker#resetTest is only available in test environment.")}),i(this,"track",function($){return S.observableCache[$]||(S.observableCache[$]=l.Observable.create(function(j){return S.searchSubscribers[$]=j,S.queueNextFetch(),function(){delete S.searchSubscribers[$],delete S.observableCache[$],(0,f.default)(S.searchSubscribers)&&S.unqueueNextFetch()}}).publishReplay(1).refCount()),S.observableCache[$]}),i(this,"unqueueNextFetch",function(){S.heartbeatSubscription&&(S.heartbeatSubscription.unsubscribe(),S.heartbeatSubscription=null)}),i(this,"queueNextFetch",function(){S.unqueueNextFetch(),(0,f.default)(S.searchSubscribers)||(S.heartbeatSubscription=S.createHeartbeat().subscribe(S.handleProgress))}),i(this,"handleProgress",function($){if(!(!$||!(0,s.default)($.entry))){$.entry.forEach(function(T){var m=T.content.sid;S.searchSubscribers[m]&&S.searchSubscribers[m].next(T),S.searchSubscribers[m]&&(T.content.isDone||T.content.isFinalized)&&S.searchSubscribers[m].complete()});var j=$.entry.map(function(T){return T.content.sid});(0,o.default)(S.requestedSearches,j).forEach(function(T){S.searchSubscribers[T]&&S.searchSubscribers[T].error(new Error("Search ".concat(T," not found. The search may have been cancelled while there are still subscribers.")))})}}),this.initialize()}return t(_,[{key:"initialize",value:function(){this.unqueueNextFetch(),this.longInterval=1e3,this.shortInterval=100,this.heartbeatSubscription=null,this.requestedSearches=null,this.searchSubscribers={},this.observableCache={},this.splunkConfig=void 0,this.baseFetchInit=void 0}},{key:"createHeartbeat",value:function(){var $=this;return l.Observable.timer(this.shortInterval,this.longInterval).exhaustMap(function(){return(0,f.default)($.searchSubscribers)?l.Observable.empty():($.requestedSearches=(0,c.default)($.searchSubscribers),l.Observable.fromPromise((0,a.batchGetSearches)($.requestedSearches,{},$.splunkConfig,$.baseFetchInit)))}).catch(function(j,T){return T})}}]),_})(),h=new u,v=h.resetTest,p=h.setBaseFetchInit,b=h.setIntervalTest,d=h.setSplunkConfig,y=h.track;return Z.track=y,Z.setSplunkConfig=d,Z.setIntervalTest=b,Z.setBaseFetchInit=p,Z.resetTest=v,Z}var Zy;function n$(){return Zy||(Zy=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=t(iS()),f=t(SS()),c=t($S()),l=t(gS()),a=Y_(),n=K_(),r=Xq(),e=t$();function t(m){return m&&m.__esModule?m:{default:m}}function i(m,w){var O=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);w&&(x=x.filter(function(q){return Object.getOwnPropertyDescriptor(m,q).enumerable})),O.push.apply(O,x)}return O}function u(m){for(var w=1;w<arguments.length;w++){var O=arguments[w]!=null?arguments[w]:{};w%2?i(Object(O),!0).forEach(function(x){y(m,x,O[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(O)):i(Object(O)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(O,x))})}return m}function h(m,w){if(m==null)return{};var O=v(m,w),x,q;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(m);for(q=0;q<R.length;q++)x=R[q],!(w.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(m,x)&&(O[x]=m[x])}return O}function v(m,w){if(m==null)return{};var O={},x=Object.keys(m),q,R;for(R=0;R<x.length;R++)q=x[R],!(w.indexOf(q)>=0)&&(O[q]=m[q]);return O}function p(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function b(m,w){for(var O=0;O<w.length;O++){var x=w[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}function d(m,w,O){return w&&b(m.prototype,w),O&&b(m,O),m}function y(m,w,O){return w in m?Object.defineProperty(m,w,{value:O,enumerable:!0,configurable:!0,writable:!0}):m[w]=O,m}function _(){return!0}function S(m){return(0,s.default)(m,["content","isDone"],!1)||(0,s.default)(m,["content","isFailed"],!1)||(0,s.default)(m,["content","isFinalized"],!1)}var $=Math.pow(2,31)-1,j=(function(){d(m,null,[{key:"create",value:function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=x.app,R=x.owner,A=x.sharing,k=x.cache,N=k===void 0?!1:k,M=x.cacheLimit,V=M===void 0?600:M,L=x.cancelOnUnload,C=L===void 0?!N:L,U=h(x,["app","owner","sharing","cache","cacheLimit","cancelOnUnload"]),Q=(0,n.addLeadingSearchCommand)(O.search),ee=u(u({},O),{},{search:Q}),qe=N?(0,n.getCachedSearch)(ee,{cacheLimit:V},m.splunkConfig,m.baseFetchInit).then(function(ae){var Pt=(0,s.default)(ae,["content","sid"],null);return(0,c.default)(Pt)?(0,n.createSearchJob)(u({"webframework.cache.hash":(0,n.createJava5HashForString)(Q)},ee),{app:q,owner:R,sharing:A},m.splunkConfig,m.baseFetchInit):{sid:Pt}}):(0,n.createSearchJob)(ee,{app:q,owner:R,sharing:A},m.splunkConfig,m.baseFetchInit);return new m(qe,u({cancelOnUnload:C},U))}},{key:"fromSavedSearch",value:function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=x.cache,R=q===void 0?"any":q,A=x.cacheLimit,k=A===void 0?1/0:A,N=x.dispatchParams,M=N===void 0?{}:N,V=h(x,["cache","cacheLimit","dispatchParams"]);if(R!=="any"&&R!=="none"&&R!=="scheduled")throw new Error("Invalid value for cache: '".concat(R,"'. cache must be 'none', 'any', or 'scheduled'"));var L;if(R==="none")L=(0,r.dispatch)(O,M,m.splunkConfig,m.baseFetchInit);else{var C=R==="scheduled"?{search:"isScheduled=true"}:{};L=(0,r.getLatest)(O,C,m.splunkConfig,m.baseFetchInit).then(function(U){var Q=(0,s.default)(U,["name"],null);if((0,c.default)(Q))return(0,r.dispatch)(O,M,m.splunkConfig,m.baseFetchInit);if(k>0){var ee=Date.now()/1e3-k;if(ee>U.content.start)return(0,r.dispatch)(O,M,m.splunkConfig,m.baseFetchInit)}return{sid:Q}})}return new m(L,V)}},{key:"fromSid",value:function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new m(a.Observable.of({sid:O}),x)}},{key:"setSplunkConfig",value:function(O){m.splunkConfig=O,(0,e.setSplunkConfig)(O)}},{key:"setBaseFetchInit",value:function(O){m.baseFetchInit=O,(0,e.setBaseFetchInit)(O)}},{key:"defaultPreviewFetchPredicate",value:function(O){return(0,s.default)(O,["content","isRealTimeSearch"],!1)?!0:(0,s.default)(O,["content","resultPreviewCount"],0)>0}},{key:"getData",value:function(O,x,q){return a.Observable.fromPromise((0,n.getData)(O,x,q,m.splunkConfig,m.baseFetchInit))}}]);function m(w){var O=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=x.cancelOnUnload,R=q===void 0?!1:q,A=x.keepAlive,k=A===void 0?!1:A;p(this,m),y(this,"handleUnload",function(){O.cancel()}),this.searchJobSid=a.Observable.from(w),["getSid","getProgress","whenDone"].forEach(function(N){O[N]=(0,l.default)(O[N])}),this.ttl=null,R&&typeof window<"u"&&(0,f.default)(window,"addEventListener")&&window.addEventListener("beforeunload",this.handleUnload),k?this.startKeepAlive():this.keepAliveSubscription=null}return d(m,[{key:"getSid",value:function(){return this.searchJobSid.map(function(O){var x=O.sid;return x})}},{key:"getProgress",value:function(){return this.getSid().concatMap(e.track).publishReplay(1).refCount()}},{key:"whenDone",value:function(){return this.getProgress().last().publishReplay(1).refCount()}},{key:"getResults",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.whenDone().concatMap(function(x){return m.getData(x.content.sid,"results",O)}).publishReplay(1).refCount()}},{key:"pollData",value:function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=q.fetchPredicate||_;return this.getProgress().filter(R).filter(function(A){return!S(A)}).exhaustMap(function(A){return m.getData(A.content.sid,O,x)}).concat(this.whenDone().filter(R).concatMap(function(A){return m.getData(A.content.sid,O,x)})).publishReplay(1).refCount()}},{key:"getResultsPreview",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.pollData("results_preview",O,u({fetchPredicate:m.defaultPreviewFetchPredicate},x))}},{key:"getEvents",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.pollData("events",O,x)}},{key:"getSummary",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.pollData("summary",O,x)}},{key:"getTimeline",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.pollData("timeline",O,x)}},{key:"control",value:function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=this.getSid().concatMap(function(R){return a.Observable.fromPromise((0,n.postAction)(R,u({action:O},x),m.splunkConfig,m.baseFetchInit))}).publishReplay(1);return q.connect(),q}},{key:"pause",value:function(){return this.control("pause")}},{key:"unpause",value:function(){return this.control("unpause")}},{key:"finalize",value:function(){return this.control("finalize")}},{key:"cancel",value:function(){return this.stopKeepAlive(),typeof window<"u"&&(0,f.default)(window,"removeEventListener")&&window.removeEventListener("beforeunload",this.handleUnload),this.control("cancel")}},{key:"touch",value:function(){return this.control("touch")}},{key:"setTTL",value:function(O){return this.ttl=O,this.keepAliveSubscription&&this.startKeepAlive(),this.control("setttl",{ttl:O})}},{key:"setPriority",value:function(O){return this.control("setpriority",{priority:O})}},{key:"enablePreview",value:function(){return this.control("enablepreview")}},{key:"disablePreview",value:function(){return this.control("disablepreview")}},{key:"save",value:function(){return this.control("save")}},{key:"unsave",value:function(){return this.control("unsave")}},{key:"startKeepAlive",value:function(){var O=this;this.stopKeepAlive(),this.keepAliveSubscription=this.whenDone().catch(function(){return a.Observable.empty()}).map(function(x){var q=(0,c.default)(O.ttl)?(0,s.default)(x,["content","ttl"]):O.ttl;return Math.min(q*500,$)}).concatMap(function(x){return a.Observable.interval(x)}).exhaustMap(function(){return O.touch()}).catch(function(x,q){return q}).subscribe()}},{key:"stopKeepAlive",value:function(){this.keepAliveSubscription&&(this.keepAliveSubscription.unsubscribe(),this.keepAliveSubscription=null)}}]),m})();y(j,"splunkConfig",void 0),y(j,"baseFetchInit",void 0);var T=j;o.default=T})(ln)),ln}var i$=n$();const o$=tS(i$),p$=o=>{const s=window.location.origin+window.location.pathname,f=s.lastIndexOf("/"),c=new URL(`${s.slice(0,f)}/search`);return o&&Object.entries(o).forEach(([l,a])=>{a&&c.searchParams.append(l,a)}),c},b$=o=>new Promise((s,f)=>{const l=o$.create({search:o}).getResults({count:0}).subscribe({next:a=>{try{s(a)}catch(n){f(n)}},error:a=>{f(a)},complete:()=>{l.unsubscribe()}})});export{o$ as S,e$ as a,Y_ as b,n$ as c,Xq as d,K_ as e,r$ as f,p$ as g,b$ as r};
