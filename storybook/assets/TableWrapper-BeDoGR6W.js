var Fe=Object.defineProperty;var Me=(n,r,e)=>r in n?Fe(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;var P=(n,r,e)=>Me(n,typeof r!="symbol"?r+"":r,e);import{j as o}from"./jsx-runtime-1FKYbnEZ.js";import{b as Le,R as ee,r as h}from"./index-prPvd6Su.js";import{a as $e,P as H,b as Be,u as ie}from"./TableContext-gysp-n-m.js";import{A as ne,N as Ve,T as We,W as ze}from"./CustomTableStyle-4srtNYm5.js";import{a as Ue,g as ye,p as Ge}from"./api-BXYB3TVR.js";import{g as re,i as we,a as He}from"./util-BVaVe7dF.js";import{g as L}from"./_commonjsHelpers-CE1G-McA.js";import{a as Ke,b as Ye,c as Xe,d as Je,e as Qe,f as Ze}from"./Search-BQQL0aN1.js";import{i as _,p as en}from"./messageUtil-CvmCOD_s.js";import{b as nn}from"./index-CCTXOnLi.js";import{n as Te,h as xe,o as tn,M as se,f as le,p as Y,q as rn}from"./ControlWrapper-C-3SaADr.js";import{r as an}from"./Clickable-vbs6x6a2.js";import{d as on,r as sn,q as Q}from"./omit-UcH284-_.js";import{_ as Se}from"./iframe-D1ZpU7rR.js";import{a as ln}from"./ExclamationTriangle-C7EecpCM.js";import{g as ke}from"./script-ClADN3Yb.js";import{W as un}from"./WaitSpinner-DIBk8RZx.js";import{r as mn}from"./pick-BOH874jN.js";import{b as cn}from"./Number-akKODsrJ.js";import{A as qe}from"./AcceptModal-Dd61O4RF.js";import{E as dn}from"./EntityModal-Dj1UFiw1.js";import{D as pn}from"./DeleteModal-B6FTVUNL.js";import{P as z}from"./index-BbiZmkAC.js";import{e as gn}from"./Dropdown-CEDZaBsM.js";import{U as fn}from"./UCCButton-IGhfY3sr.js";import{S as yn}from"./Search-DHvjbgMH.js";import{B as bn}from"./Button-B_-pY_Ng.js";import{v as hn}from"./variables-BJ06o7R7.js";const J="page",be="modal";var vn=Ke();const M=L(vn);var ue={exports:{}},he;function Cn(){return he||(he=1,(()=>{var n={};n.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return n.d(c,{a:c}),c},n.d=(a,c)=>{for(var u in c)n.o(c,u)&&!n.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:c[u]})},n.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),n.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{Description:()=>R,Term:()=>B,default:()=>Z});const e=Le();var t=n.n(e);const l=an();var s=n.n(l),p=(0,e.createContext)({layout:"fixed"});const d=on;var q=n.n(d);const y=sn();var S=q().dt.withConfig({displayName:"DefinitionListStyles__StyledTerm",componentId:"sc-1pqfrgm-0"})(["",""],(function(a){var c=a.$separatorCharacter,u=a.$termWidth;return(0,y.pickVariant)("$layout",{fixed:(0,d.css)(["",";",";float:left;overflow:hidden;white-space:nowrap;word-wrap:normal;width:",";",""],y.mixins.reset("block"),y.mixins.typography("body",{color:"muted"}),u,c&&(0,d.css)(["&::after{content:'","';}"]," ".concat(c.repeat(100)))),auto:(0,d.css)(["",";",";grid-template-columns:[term] auto [separator] 1fr;grid-column:term;overflow:hidden;white-space:normal;word-break:break-word;width:",";",""],y.mixins.reset("grid"),y.mixins.typography("body",{color:"muted"}),u,c&&(0,d.css)(["&::after{grid-column:separator;content:'","';margin-inline-start:",";min-width:",";overflow:hidden;white-space:nowrap;}"]," ".concat(c.repeat(100)),y.variables.spacingXSmall,y.variables.spacingLarge))})})),T=q().dd.withConfig({displayName:"DefinitionListStyles__StyledDescription",componentId:"sc-1pqfrgm-1"})(["",""],(function(a){var c=a.$descriptionWidth,u=a.$termWidth;return(0,y.pickVariant)("$layout",{fixed:(0,d.css)(["",";",";padding-inline-start:",";margin-inline-start:",";white-space:normal;word-break:break-word;width:",";"],y.mixins.reset("block"),y.mixins.typography("body",{color:"active"}),y.variables.spacingSmall,u,c),auto:(0,d.css)(["",";",";grid-column:description;white-space:normal;word-break:break-word;width:",";"],y.mixins.reset("grid"),y.mixins.typography("body",{color:"active"}),c)})})),D=q().dl.withConfig({displayName:"DefinitionListStyles__Styled",componentId:"sc-1pqfrgm-2"})(["",""],(0,y.pickVariant)("$layout",{fixed:(0,d.css)(["",";",";"],y.mixins.reset("block"),y.mixins.typography("body")),auto:(0,d.css)(["",";grid-template-columns:[term] fit-content(",") [description] fit-content( "," );column-gap:",";row-gap:",";"],y.mixins.reset("grid"),y.variables.lineLength,y.variables.lineLength,y.variables.spacingXLarge,y.variables.spacingMedium)}));function w(){return w=Object.assign?Object.assign.bind():function(a){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var i in u)({}).hasOwnProperty.call(u,i)&&(a[i]=u[i])}return a},w.apply(null,arguments)}function O(a,c){if(a==null)return{};var u,i,b=I(a,c);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(a);for(i=0;i<v.length;i++)u=v[i],c.indexOf(u)===-1&&{}.propertyIsEnumerable.call(a,u)&&(b[u]=a[u])}return b}function I(a,c){if(a==null)return{};var u={};for(var i in a)if({}.hasOwnProperty.call(a,i)){if(c.indexOf(i)!==-1)continue;u[i]=a[i]}return u}var j={children:s().node.isRequired,elementRef:s().oneOfType([s().func,s().object])};function A(a){var c=a.children,u=a.elementRef,i=O(a,["children","elementRef"]),b=(0,e.useContext)(p),v=b.descriptionWidth,f=b.layout,C=b.termWidth;return t().createElement(T,w({"data-test":"description",ref:u,$descriptionWidth:v,$layout:f,$termWidth:C},i),c)}A.propTypes=j;const R=A;function k(){return k=Object.assign?Object.assign.bind():function(a){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var i in u)({}).hasOwnProperty.call(u,i)&&(a[i]=u[i])}return a},k.apply(null,arguments)}function g(a,c){if(a==null)return{};var u,i,b=x(a,c);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(a);for(i=0;i<v.length;i++)u=v[i],c.indexOf(u)===-1&&{}.propertyIsEnumerable.call(a,u)&&(b[u]=a[u])}return b}function x(a,c){if(a==null)return{};var u={};for(var i in a)if({}.hasOwnProperty.call(a,i)){if(c.indexOf(i)!==-1)continue;u[i]=a[i]}return u}var $={children:s().node.isRequired,elementRef:s().oneOfType([s().func,s().object])};function F(a){var c=a.children,u=a.elementRef,i=g(a,["children","elementRef"]),b=(0,e.useContext)(p),v=b.layout,f=b.separatorCharacter,C=b.termWidth;return t().createElement(S,k({"data-test":"term",ref:u,$layout:v,$separatorCharacter:f,$termWidth:C},i),c)}F.propTypes=$;const B=F;function U(){return U=Object.assign?Object.assign.bind():function(a){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var i in u)({}).hasOwnProperty.call(u,i)&&(a[i]=u[i])}return a},U.apply(null,arguments)}function G(a,c){if(a==null)return{};var u,i,b=V(a,c);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(a);for(i=0;i<v.length;i++)u=v[i],c.indexOf(u)===-1&&{}.propertyIsEnumerable.call(a,u)&&(b[u]=a[u])}return b}function V(a,c){if(a==null)return{};var u={};for(var i in a)if({}.hasOwnProperty.call(a,i)){if(c.indexOf(i)!==-1)continue;u[i]=a[i]}return u}var X={children:s().node,descriptionWidth:s().string,elementRef:s().oneOfType([s().func,s().object]),layout:s().oneOf(["fixed","auto"]),separatorCharacter:s().string,termWidth:s().string};function W(a){var c=a.children,u=a.descriptionWidth,i=a.elementRef,b=a.layout,v=b===void 0?"fixed":b,f=a.separatorCharacter,C=a.termWidth,E=C===void 0?"120px":C,m=G(a,["children","descriptionWidth","elementRef","layout","separatorCharacter","termWidth"]),N=v!=="fixed"&&E==="120px"?void 0:E,K=(0,e.useMemo)((function(){return{descriptionWidth:u,layout:v,separatorCharacter:f,termWidth:N}}),[u,v,f,N]);return t().createElement(D,U({"data-test":"definition-list",ref:i,$layout:v},m),t().createElement(p.Provider,{value:K},c))}W.propTypes=X,W.Description=R,W.Term=B;const Z=W;ue.exports=r})()),ue.exports}var ce=Cn();const de=L(ce);var wn=ln();const _e=L(wn),Tn="[[default]]";function Ee(n,r){return!!(n&&n in r&&Te(r[n]))}function xn(n){if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return n.toString();if(ee.isValidElement(n))return n;try{return JSON.stringify(n)}catch{return String(n)}}function Re(n,r,e){const t=n[r];if(!(t==null||t==="")){const p=e?.[String(t)];return typeof p<"u"?p:xn(t)}return e?.[Tn]||t}function pe(n,r){const e=r?.reduce((t,l)=>{const s=_._(l.label),p=Re(n,l.field,l.mapping);return p!=null&&p!==""&&(t.push(o.jsx(ce.Term,{children:s},l.field)),t.push(o.jsx(ce.Description,{children:String(p)},`${l.field}_decr`))),t},[])||[];return e.length>0?o.jsx(de,{children:e}):[]}pe.__docgenInfo={description:`Generates the definition list rows for the expansion view based on the provided row data and moreInfo configuration.

@param {Object} row - The data object containing the row information.
@param {Array} moreInfo - An array of objects containing configuration for each field to display.
@returns {Array} - An array of React elements representing the definition list rows.`,methods:[],displayName:"getExpansionRowData"};function me(n){console.error(`[Custom Control] Something went wrong while calling ${n.methodName}. Error: ${n.error?.name} ${n.error?.message}`)}class Ne extends h.Component{constructor(e){super(e);P(this,"customComponentContext");P(this,"customControl");P(this,"el",null);P(this,"shouldRender");P(this,"loadCustomControl",()=>new Promise((e,t)=>{const{type:l,fileName:s}=this.props,p=this.customComponentContext?.[this.props.fileName];if(p?.type==="row"){const d=p.component;e(d)}else l==="external"&&Se(()=>import(`${ke()}/custom/${s}.js`),[],import.meta.url).then(d=>e(d.default)).catch(d=>t(d))}));P(this,"callCustomMethod",async e=>{try{return typeof this?.customControl?.[e]=="function"?this.customControl[e]():null}catch(t){return me({methodName:e,error:t}),null}});P(this,"handleNoGetDLRows",()=>{(!this.customControl||typeof this.customControl.render!="function")&&this.setState(e=>({...e,methodNotPresentError:'At least "render" either "getDLRows" method should be present.'})),this.setState(e=>({...e,loading:!1}))});this.state={loading:!0,row:{...e.row},checkMethodIsPresent:!1,methodNotPresentError:"",rowUpdatedByControl:!1},this.shouldRender=!0,this.customComponentContext=e.customComponentContext}static getDerivedStateFromProps(e,t){return!t.rowUpdatedByControl&&e.row!==t.row?{row:{...e.row},loading:!1}:null}componentDidMount(){this.initializeCustomControl()}shouldComponentUpdate(e,t){return this.props.row!==e.row||this.state.row!==t.row?!0:!t.loading&&this.shouldRender?(this.shouldRender=!1,!0):!1}componentDidUpdate(e){e.row!==this.props.row&&(this.initializeCustomControl(),this.setState({rowUpdatedByControl:!1}))}async initializeCustomControl(){const e=re();this.loadCustomControl().then(async t=>{if(typeof t!="function"){this.setState({loading:!1,methodNotPresentError:"Loaded module is not a constructor function"});return}this.customControl=new t(e,this.props.serviceName,this.el,this.state.row);const l=await this.callCustomMethod("getDLRows");try{l&&typeof l=="object"&&!Array.isArray(l)?this.setState({row:{...l},checkMethodIsPresent:!0,loading:!1,rowUpdatedByControl:!0}):l!==null?this.setState({loading:!1,checkMethodIsPresent:!0,methodNotPresentError:"getDLRows method did not return a valid object"}):this.handleNoGetDLRows()}catch(s){me({methodName:"getDLRows",error:s}),this.handleNoGetDLRows()}}).catch(t=>{this.setState({loading:!1,methodNotPresentError:"Error loading custom control"}),console.error(`[Custom Control] Error loading custom control ${t}`)})}render(){const{row:e,loading:t,checkMethodIsPresent:l,methodNotPresentError:s}=this.state,{moreInfo:p}=this.props;if(!t&&!l&&this.customControl&&typeof this.customControl.render=="function")try{this.customControl.render(e,p)}catch(q){me({methodName:"render",error:q})}let d;return s?d=o.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[o.jsx(_e,{style:{color:"red",marginRight:"4px"}}),s]}):l?d=o.jsx(de,{termWidth:"250",children:pe(e,p)}):d=o.jsx("span",{ref:q=>{this.el=q},style:{visibility:t?"hidden":"visible"}}),o.jsxs(o.Fragment,{children:[t&&_._("Loading..."),d]})}}Ne.__docgenInfo={description:"",methods:[{name:"loadCustomControl",docblock:null,modifiers:[],params:[],returns:{type:{name:"Promise",elements:[{name:"unknown"}],raw:"Promise<CustomRowConstructor>"}}},{name:"callCustomMethod",docblock:`Calls a method on the customControl instance, if it exists, with the provided arguments.

@param {string} methodName - The name of the method to call on the customControl class instance.
only possible is getDLRows or render
@returns {*} - The response from the custom control method, or null if the method does not exist or an error occurs.`,modifiers:["async"],params:[{name:"methodName",description:`The name of the method to call on the customControl class instance.
only possible is getDLRows or render`,type:{name:"union",raw:"'getDLRows' | 'render'",elements:[{name:"literal",value:"'getDLRows'"},{name:"literal",value:"'render'"}]},optional:!1}],returns:{description:"The response from the custom control method, or null if the method does not exist or an error occurs.",type:{name:"mixed"}},description:"Calls a method on the customControl instance, if it exists, with the provided arguments."},{name:"handleNoGetDLRows",docblock:null,modifiers:[],params:[],returns:null},{name:"initializeCustomControl",docblock:null,modifiers:["async"],params:[],returns:null}],displayName:"CustomTableControl",props:{serviceName:{required:!0,tsType:{name:"string"},description:""},row:{required:!0,tsType:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},description:""},fileName:{required:!0,tsType:{name:"string"},description:""},type:{required:!0,tsType:{name:"string"},description:""},moreInfo:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ name: string; value: string; mapping?: Record<string, string> }",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}},{key:"mapping",value:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>",required:!1}}]}}],raw:"Array<{ name: string; value: string; mapping?: Record<string, string> }>"},description:""},customComponentContext:{required:!1,tsType:{name:"union",raw:"CustomElementsMap | undefined",elements:[{name:"Record",elements:[{name:"string"},{name:"union",raw:`| CustomHookStructure
| CustomControlStructure
| CustomRowStructure
| CustomCellStructure
| CustomTabStructure`,elements:[{name:"signature",type:"object",raw:`{
    component: CustomHookConstructor;
    type: 'hook';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'hook'",required:!0}}]}},{name:"signature",type:"object",raw:`{
    component: CustomControlConstructor;
    type: 'control';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'control'",required:!0}}]}},{name:"signature",type:"object",raw:`{
    component: CustomRowConstructor;
    type: 'row';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'row'",required:!0}}]}},{name:"signature",type:"object",raw:`{
    component: CustomCellConstructor;
    type: 'cell';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'cell'",required:!0}}]}},{name:"signature",type:"object",raw:`{
    component: CustomTabConstructor;
    type: 'tab';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'tab'",required:!0}}]}}]}],raw:`Record<
    string,
    | CustomHookStructure
    | CustomControlStructure
    | CustomRowStructure
    | CustomCellStructure
    | CustomTabStructure
>`},{name:"undefined"}]},description:""}}};const Sn=Q(M.Cell)`
    border-top: none;
`;function je(n,r,e,t,l){return o.jsx(M.Row,{style:{wordBreak:"break-word"},children:o.jsx(Sn,{colSpan:n,children:t&&t.src?o.jsx(o.Fragment,{children:ee.createElement(Ne,{serviceName:r.serviceName,row:r,fileName:t.src,type:t.type,moreInfo:e,customComponentContext:l})}):o.jsx(de,{termWidth:250,children:pe(r,e)})})},`${r.id}-expansion`)}je.__docgenInfo={description:"",methods:[],displayName:"getExpansionRow"};var kn=Ye();const qn=L(kn);var _n=mn();const te=L(_n);var En=Xe();const Rn=L(En);var Nn=cn();const jn=L(Nn);var An=Je();const Dn=L(An);var On=Qe();const In=L(On);function Pn(n){console.error(`[Custom Cell] Something went wrong while calling ${n.methodName}. Error: ${n.error?.name} ${n.error?.message}`)}class Ae extends h.Component{constructor(e){super(e);P(this,"customComponentContext");P(this,"customCell");P(this,"el",null);P(this,"loadCustomCell",()=>new Promise((e,t)=>{const{type:l,fileName:s}=this.props,p=this.customComponentContext?.[this.props.fileName];if(p?.type==="cell"){const d=p.component;e(d)}else l==="external"&&Se(()=>import(`${ke()}/custom/${s}.js`),[],import.meta.url).then(d=>e(d.default)).catch(d=>t(d))}));P(this,"handleNoRender",()=>{(!this.customCell||typeof this.customCell.render!="function")&&this.setState(e=>({...e,methodNotPresentError:'"Render" method should be present.'})),this.setState(e=>({...e,loading:!1}))});this.state={loading:!0,row:{...e.row},methodNotPresentError:"",rowUpdatedByControl:!1},this.customComponentContext=e.customComponentContext}static getDerivedStateFromProps(e,t){return!t.rowUpdatedByControl&&e.row!==t.row?{row:{...e.row},loading:!1}:null}componentDidMount(){this.initializeCustomCell()}componentDidUpdate(e){e.row!==this.props.row&&(this.initializeCustomCell(),this.setState({rowUpdatedByControl:!1}))}async initializeCustomCell(){const e=re();this.loadCustomCell().then(async t=>{if(typeof t!="function"){this.setState({loading:!1,methodNotPresentError:"Loaded module is not a constructor function"});return}we(this.el,"Element reference is not set"),this.customCell=new t(e,this.props.serviceName,this.el,this.state.row,this.props.field),this.handleNoRender()}).catch(t=>{this.setState({loading:!1,methodNotPresentError:"Error loading custom Cell module"}),console.error(`[Custom Cell] Error loading custom control ${t}`)})}render(){const{loading:e,methodNotPresentError:t}=this.state;if(!e&&this.customCell&&typeof this.customCell.render=="function")try{this.customCell.render()}catch(s){Pn({methodName:"render",error:s})}let l;return t?l=o.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[o.jsx(_e,{style:{color:"red",marginRight:"4px"}}),t]}):l=o.jsx("span",{ref:s=>{this.el=s},style:{visibility:e?"hidden":"visible"}}),o.jsxs(o.Fragment,{children:[e&&_._("Loading..."),l]})}}Ae.__docgenInfo={description:"",methods:[{name:"loadCustomCell",docblock:null,modifiers:[],params:[],returns:{type:{name:"Promise",elements:[{name:"unknown"}],raw:"Promise<CustomCellConstructor>"}}},{name:"handleNoRender",docblock:null,modifiers:[],params:[],returns:null},{name:"initializeCustomCell",docblock:null,modifiers:["async"],params:[],returns:null}],displayName:"CustomTableCell",props:{serviceName:{required:!0,tsType:{name:"string"},description:""},row:{required:!0,tsType:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},description:""},field:{required:!0,tsType:{name:"string"},description:""},fileName:{required:!0,tsType:{name:"string"},description:""},type:{required:!1,tsType:{name:"string"},description:""},customComponentContext:{required:!1,tsType:{name:"union",raw:"CustomElementsMap | undefined",elements:[{name:"Record",elements:[{name:"string"},{name:"union",raw:`| CustomHookStructure
| CustomControlStructure
| CustomRowStructure
| CustomCellStructure
| CustomTabStructure`,elements:[{name:"signature",type:"object",raw:`{
    component: CustomHookConstructor;
    type: 'hook';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'hook'",required:!0}}]}},{name:"signature",type:"object",raw:`{
    component: CustomControlConstructor;
    type: 'control';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'control'",required:!0}}]}},{name:"signature",type:"object",raw:`{
    component: CustomRowConstructor;
    type: 'row';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'row'",required:!0}}]}},{name:"signature",type:"object",raw:`{
    component: CustomCellConstructor;
    type: 'cell';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'cell'",required:!0}}]}},{name:"signature",type:"object",raw:`{
    component: CustomTabConstructor;
    type: 'tab';
}`,signature:{properties:[{key:"component",value:{name:"unknown",required:!0}},{key:"type",value:{name:"literal",value:"'tab'",required:!0}}]}}]}],raw:`Record<
    string,
    | CustomHookStructure
    | CustomControlStructure
    | CustomRowStructure
    | CustomCellStructure
    | CustomTabStructure
>`},{name:"undefined"}]},description:""}}};const Fn=Q(M.Cell)`
    padding: 2px;
`,Mn=Q.div`
    display: flex;

    .toggle_switch {
        padding: 0;
        margin-right: 10px;
    }
`;function De(n){const{row:r,columns:e,rowActions:t,headerMapping:l,handleToggleActionClick:s,handleEditActionClick:p,handleCloneActionClick:d,handleDeleteActionClick:q,useInputToggleConfirmation:y}=n,[S,T]=h.useState(!1),D=h.useContext(xe),w=ee.createRef(),O=(g,x)=>x.customCell?.src&&ee.createElement(Ae,{serviceName:r.serviceName,field:x.field,row:g,fileName:x.customCell.src,type:x.customCell.type,customComponentContext:D}),I=h.useCallback((g,x)=>o.jsx(Fn,{"data-column":"actions",children:o.jsxs(qn,{children:[!n.readonly&&t.includes("edit")&&o.jsx(te,{content:_._("Edit"),children:o.jsx(ne,{id:"edit-btn","aria-label":_._("Edit"),icon:o.jsx(Rn,{}),"data-testid":"edit-button",onClick:()=>p(g),className:"editBtn"})}),t.includes("clone")&&o.jsx(te,{content:_._("Clone"),children:o.jsx(ne,{id:"clone-btn","aria-label":_._("Clone"),icon:o.jsx(Dn,{size:1}),"data-testid":"clone-button",onClick:()=>d(g),className:"cloneBtn"})}),t.includes("search")&&o.jsx(te,{content:_._(`Go to search for events associated with ${g.name}`),children:o.jsx(ne,{id:"search-btn","aria-label":_._(`Go to search for events associated with ${g.name}`),icon:o.jsx(jn,{}),"data-testid":"search-button",to:`/app/search/search?q=search%20index%3D_internal%20source%3D*${g.name}*`,className:"searchBtn",inline:!1,target:"_blank"})}),!n.readonly&&t.includes("delete")&&o.jsx(te,{content:_._("Delete"),children:o.jsx(ne,{id:"delete-btn","aria-label":_._("Delete"),icon:o.jsx(In,{size:1}),"data-testid":"delete-button",onClick:()=>q(g),className:"deleteBtn"})})]})},x.field),[p,d,q]),j=g=>{g&&s(r),T(!1)},A=()=>{T(!0)};let R=r.disabled?"Inactive":"Active";r.__toggleShowSpinner?R=o.jsx(un,{}):l.disabled?.[String(r.disabled)]&&(R=l.disabled[String(r.disabled)]);const k=()=>{w.current?.firstChild instanceof HTMLButtonElement&&w.current.firstChild.focus()};return o.jsx(M.Row,{...n,"aria-label":`row-${r.name||r.id}`,children:e&&e.length&&e.map(g=>{let x="";if(g.customCell&&g.customCell.src)x=o.jsx(M.Cell,{"data-column":g.field,children:g.customCell&&O(r,g)},g.field);else if(g.field==="disabled"){const $=l?.disabled?.false?l.disabled.false:"Active",F=l?.disabled?.true?l.disabled.true:"Inactive";x=o.jsx(M.Cell,{"data-column":g.field,children:o.jsxs(Mn,{children:[o.jsx(tn,{elementRef:w,value:r.disabled,onClick:()=>y?A():s(r),selected:!r.disabled,disabled:!!r.__toggleShowSpinner||n.readonly,appearance:"toggle",className:"toggle_switch",selectedLabel:_._(l?.disabled?.false?l.disabled.false:"Active"),unselectedLabel:_._(l?.disabled?.true?l.disabled.true:"Inactive")},r.name),o.jsx("span",{"data-test":"status",children:R}),y&&o.jsx(qe,{returnFocus:k,message:`Do you want to make ${r.name} input ${r.disabled?$:F}?`,open:S,handleRequestClose:j,title:`Make input ${r.disabled?$:F}?`,declineBtnLabel:"No",acceptBtnLabel:"Yes"})]})},g.field)}else g.field==="actions"?x=I(r,g):x=o.jsx(M.Cell,{style:{wordBreak:"break-word"},"data-column":g.field,children:Re(r,g.field,l[g.field])},g.field);return x})},r.name||r.id)}const Ln=ee.memo(De);De.__docgenInfo={description:"",methods:[],displayName:"CustomTableRow",props:{row:{required:!0,tsType:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},description:""},readonly:{required:!1,tsType:{name:"boolean"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ customCell?: { src?: string; type?: string }; field: string }",signature:{properties:[{key:"customCell",value:{name:"signature",type:"object",raw:"{ src?: string; type?: string }",signature:{properties:[{key:"src",value:{name:"string",required:!1}},{key:"type",value:{name:"string",required:!1}}]},required:!1}},{key:"field",value:{name:"string",required:!0}}]}}],raw:"Array<{ customCell?: { src?: string; type?: string }; field: string }>"},description:""},rowActions:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},headerMapping:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"union",raw:"Record<string, string> | undefined",elements:[{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},{name:"undefined"}]}],raw:"Record<string, Record<string, string> | undefined>"},description:""},handleToggleActionClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: RowDataFields) => void",signature:{arguments:[{type:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},name:"row"}],return:{name:"void"}}},description:""},handleEditActionClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: RowDataFields) => void",signature:{arguments:[{type:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},name:"row"}],return:{name:"void"}}},description:""},handleCloneActionClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: RowDataFields) => void",signature:{arguments:[{type:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},name:"row"}],return:{name:"void"}}},description:""},handleDeleteActionClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: RowDataFields) => void",signature:{arguments:[{type:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},name:"row"}],return:{name:"void"}}},description:""},useInputToggleConfirmation:{required:!1,tsType:{name:"boolean"},description:""}}};function ae(){const n=h.useContext($e);if(!n)throw new Error("useTableContext must be used within <TableContextProvider />");return n}const $n=(n,r)=>{const e={};return n===H?r.pages.inputs?.services.forEach(l=>{e[l.name]=l.style===J?J:be}):r.pages.configuration?.tabs.forEach(t=>{e[t.name]=t.style===J?J:be}),e},Oe=({page:n,serviceName:r,data:e,handleToggleActionClick:t,handleOpenPageStyleDialog:l,handleSort:s,sortDir:p,sortKey:d,tableConfig:q,useInputToggleConfirmation:y})=>{const S=re(),[T,D]=h.useState({open:!1}),[w,O]=h.useState({open:!1}),I=h.useContext(xe),{rowData:j}=ae(),A=S.pages.inputs,R=n===H&&A&&"table"in A&&A.readonlyFieldId?A.readonlyFieldId:void 0,{moreInfo:k,header:g,actions:x}=q,$={};g.forEach(m=>{$[m.field]=m.mapping});const F=h.useMemo(()=>$n(n,S),[n,S]),[B,U]=nn(),G=B.get("tab"),V=B.get("record");h.useEffect(()=>{if((G===r||!r)&&V&&!T.open){const m=Object.keys(j).find(N=>j[N][V]);if(m){const N=j[m][V];D({...T,open:!0,serviceName:N.serviceName,stanzaName:N.name,mode:se})}}},[G,V,T,j,r]);const X=()=>{if(B.has("record")){const m=new URLSearchParams(B);m.delete("record"),U(m)}D({...T,open:!1})},W=h.useCallback(m=>{F[m.serviceName]===J?l(m,se):D({...T,open:!0,serviceName:m.serviceName,stanzaName:m.name,mode:se})},[T]),Z=()=>{O({...w,open:!1})},a=h.useCallback(m=>{F[m.serviceName]===J?l(m,le):D({...T,open:!0,serviceName:m.serviceName,stanzaName:m.name,mode:le})},[T,l,F]),c=h.useCallback((m,N)=>{if(!(!N||!S)){if(n===H){const K=S.pages.inputs?.services.find(oe=>oe.name===N);return K?.formTitle||(m?K?.title:"")}if(n===Be){we(S.pages.configuration,"Configuration page not found in global config");const K=S.pages.configuration.tabs.find(oe=>oe.name===N);return K?.formTitle||(m?K?.title:"")}}},[S,n]),u=h.useCallback(m=>{O({...w,open:!0,stanzaName:m.name,serviceName:m.serviceName,formTitle:c(!1,m.serviceName)})},[w,c]),i=()=>{if(T.open){const m=c(!0,T.serviceName);return T.serviceName&&T.mode?o.jsx(dn,{page:n,open:T.open,handleRequestClose:X,returnFocus:()=>{},serviceName:T.serviceName,stanzaName:T.stanzaName,mode:T.mode,formLabel:T.mode===le?_._("Clone ")+m:_._("Update ")+m}):null}return null},b=()=>w.serviceName&&w.stanzaName?o.jsx(pn,{page:n,open:w.open,returnFocus:()=>{},handleRequestClose:Z,serviceName:w.serviceName,stanzaName:w.stanzaName,formTitle:w.formTitle}):null,f=(()=>{const m=[];return g&&g.length&&g.forEach(N=>{m.push({...N,sortKey:N.field||null})}),x&&x.length&&m.push({label:"Actions",field:"actions",sortKey:""}),m})(),C=h.useCallback(()=>o.jsx(M.Head,{children:f&&f.length&&f.map(m=>o.jsx(M.HeadCell,{onSort:m.sortKey?s:void 0,sortKey:m.sortKey??void 0,sortDir:m.sortKey&&m.sortKey===d?p:"none",children:m.label},m.field))}),[f,s,p,d]),E=()=>o.jsx(M.Body,{children:e&&e.length&&e.map(m=>o.jsx(Ln,{row:m,columns:f,rowActions:x,headerMapping:$,readonly:Ee(R,m),useInputToggleConfirmation:y,handleEditActionClick:W,handleCloneActionClick:a,handleDeleteActionClick:u,handleToggleActionClick:t,...k?{expansionRow:je(f.length,m,k,q?.customRow,I)}:{}},`${m.serviceName}-${m.name}-row`))});return o.jsxs(o.Fragment,{children:[f&&f.length&&o.jsxs(M,{stripeRows:!0,headType:"docked",...k?{rowExpansion:"single"}:{},children:[C(),E()]}),e.length?null:o.jsx(Ve,{children:"No records found"}),i(),b()]})},Bn=h.memo(Oe);Oe.__docgenInfo={description:"",methods:[],displayName:"CustomTable",props:{page:{required:!0,tsType:{name:"union",raw:"'configuration' | 'inputs'",elements:[{name:"literal",value:"'configuration'"},{name:"literal",value:"'inputs'"}]},description:""},serviceName:{required:!1,tsType:{name:"string"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]}],raw:"RowDataFields[]"},description:""},handleToggleActionClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: RowDataFields) => void",signature:{arguments:[{type:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},name:"row"}],return:{name:"void"}}},description:""},handleOpenPageStyleDialog:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: RowDataFields, mode: Mode) => void",signature:{arguments:[{type:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},name:"row"},{type:{name:"union",raw:`| typeof MODE_CLONE
| typeof MODE_CREATE
| typeof MODE_DELETE
| typeof MODE_EDIT
| typeof MODE_CONFIG`,elements:[{name:"MODE_CLONE"},{name:"MODE_CREATE"},{name:"MODE_DELETE"},{name:"MODE_EDIT"},{name:"MODE_CONFIG"}]},name:"mode"}],return:{name:"void"}}},description:""},handleSort:{required:!0,tsType:{name:"HeadCellSortHandler"},description:""},sortDir:{required:!0,tsType:{name:"union",raw:"'asc' | 'desc' | 'none'",elements:[{name:"literal",value:"'asc'"},{name:"literal",value:"'desc'"},{name:"literal",value:"'none'"}]},description:""},sortKey:{required:!1,tsType:{name:"string"},description:""},tableConfig:{required:!0,tsType:{name:"z.infer",elements:[{name:"TableSchema"}],raw:"z.infer<typeof TableSchema>"},description:""},useInputToggleConfirmation:{required:!1,tsType:{name:"boolean"},description:""}}};var Vn=Ze();const Wn=L(Vn);var zn=gn();function ge(n){const{searchText:r}=ae();return o.jsx(yn,{onChange:n.handleChange,value:r})}ge.propTypes={handleChange:z.func};ge.__docgenInfo={description:"",methods:[],displayName:"TableFilter",props:{handleChange:{description:"",type:{name:"func"},required:!1}}};const ve=Q(({...n})=>o.jsx(bn,{...n}))`
    max-width: fit-content;
    font-size: ${hn.fontSize};
`;function Ie(n){const[r,e]=h.useState(!1),[t,l]=h.useState(!1),s=h.useRef(null),p=h.useRef(null),d=y=>{y.forEach(S=>{S.disabled!==t&&n.changeToggleStatus(S)})},q=y=>{e(!1),y&&d(n.dataRows)};return n.displayActionBtnAllRows?o.jsxs("div",{children:[o.jsx(ve,{"data-testid":"enableAllBtn",onClick:()=>{e(!0),l(!1)},role:"button",disabled:n.dataRows.length<1,elementRef:s,children:"Activate all"}),o.jsx(ve,{"data-testid":"disableAllBtn",onClick:()=>{e(!0),l(!0)},role:"button",disabled:n.dataRows.length<1,elementRef:p,children:"Deactivate all"}),o.jsx(qe,{message:`Do you want to ${t?"deactivate":"activate"} all? It may take a while.`,open:r,handleRequestClose:q,returnFocus:t?p:s,title:t?"Deactivate all":"Activate all",declineBtnLabel:"No",acceptBtnLabel:"Yes"})]}):null}Ie.__docgenInfo={description:"",methods:[],displayName:"InteractAllStatusButtons",props:{displayActionBtnAllRows:{required:!0,tsType:{name:"boolean"},description:""},dataRows:{required:!0,tsType:{name:"Array",elements:[{name:"InputRowData"}],raw:"InputRowData[]"},description:""},changeToggleStatus:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: InputRowData) => void",signature:{arguments:[{type:{name:"InputRowData"},name:"row"}],return:{name:"void"}}},description:""}}};const Un=Q.div`
    display: flex;
    justify-content: space-between;
    border-top: 1px solid #ccc;
    padding-top: 5px;
    margin-bottom: 5px;
`,Gn=Q.div`
    max-width: 300px;
    width: 100%;
`;function fe({page:n,isTabs:r,services:e,totalElement:t,handleRequestModalOpen:l,allFilteredData:s,changeToggleStatus:p,displayActionBtnAllRows:d}){const{pageSize:q,currentPage:y,setCurrentPage:S,setPageSize:T,searchType:D,setSearchType:w,setSearchText:O}=ae(),I=n===H?"Input":"Item",j=()=>{if(e.length<2)return null;let R=[];return R=e.map(k=>o.jsx(Y.Option,{label:k.title,value:k.name},k.name)),R.unshift(o.jsx(Y.Option,{label:_._("All"),value:"all"},"all")),o.jsx(Y,{value:D,className:"dropdownInput",onChange:(k,{value:g})=>{S(0),w(g)},children:R})},A=()=>{const k=`(${s.filter(g=>!g.disabled).length} of ${t} enabled)`;return o.jsxs(zn.Typography,{as:"span",className:"inputNumber",children:[t,t>1?_._(` ${I}s`):_._(` ${I}`)," ",n===H&&t>=q?k:null]})};return o.jsxs(Un,{children:[o.jsxs("div",{children:[A(),n===H?o.jsxs(We,{children:[o.jsxs(Y,{value:q,className:"dropdownPage",onChange:(R,{value:k})=>{S(0),T(k)},children:[o.jsx(Y.Option,{label:_._("10 Per Page"),value:10},"10"),o.jsx(Y.Option,{label:_._("25 Per Page"),value:25},"25"),o.jsx(Y.Option,{label:_._("50 Per Page"),value:50},"50")]}),!r&&j()]}):null]}),o.jsx(Gn,{children:o.jsx(ge,{handleChange:(R,{value:k})=>{S(0),O(k)}})}),o.jsxs("div",{children:[o.jsx(Wn,{onChange:(R,{page:k})=>S(k-1),current:y+1,alwaysShowLastPageLink:!0,totalPages:Math.ceil(t/q)}),r&&o.jsx(fn,{label:_._("Add"),onClick:l})]}),o.jsx(Ie,{displayActionBtnAllRows:d,dataRows:s,changeToggleStatus:p})]})}fe.propTypes={page:z.string,services:z.array,totalElement:z.number,isTabs:z.bool,handleRequestModalOpen:z.func,displayActionBtnAllRows:z.bool,changeToggleStatus:z.func,allFilteredData:z.array};fe.__docgenInfo={description:"",methods:[],displayName:"TableHeader",props:{page:{description:"",type:{name:"string"},required:!1},services:{description:"",type:{name:"array"},required:!1},totalElement:{description:"",type:{name:"number"},required:!1},isTabs:{description:"",type:{name:"bool"},required:!1},handleRequestModalOpen:{description:"",type:{name:"func"},required:!1},displayActionBtnAllRows:{description:"",type:{name:"bool"},required:!1},changeToggleStatus:{description:"",type:{name:"func"},required:!1},allFilteredData:{description:"",type:{name:"array"},required:!1}}};const Hn=(n="name")=>{const[r,e]=h.useState(n),[t,l]=h.useState("asc"),s=h.useCallback((p,d)=>{const S=(r===d.sortKey?t:"none")==="asc"?"desc":"asc";l(S),d.sortKey&&e(d.sortKey)},[r,t]);return{sortKey:r,sortDir:t,handleSort:s}},Ce={header:[],actions:[],moreInfo:[]},Kn=(n,r,e)=>{const t=n===H?r.pages.inputs?.services:r.pages.configuration?.tabs.filter(s=>s.name===e);if(n===H){if(r.pages.inputs&&"table"in r.pages.inputs)return{services:t,tableConfig:r.pages.inputs.table,readonlyFieldId:r.pages.inputs.readonlyFieldId,hideFieldId:r.pages.inputs.hideFieldId,useInputToggleConfirmation:r.pages.inputs.useInputToggleConfirmation};const s=t?.find(d=>d.name===e),p=s&&"table"in s&&s.table;return{services:t,tableConfig:{...p||Ce},readonlyFieldId:void 0,hideFieldId:void 0,useInputToggleConfirmation:s&&"useInputToggleConfirmation"in s&&!!s.useInputToggleConfirmation}}const l=r.pages.configuration?.tabs.find(s=>s.name===e)?.table;return{services:t,tableConfig:{...l||Ce},readonlyFieldId:void 0,hideFieldId:void 0}},Yn=(n,r)=>{const e={};return n?.forEach((t,l)=>{if(t&&t.name&&r){const s={};r[l].forEach(p=>{s[p.name]={...p.content,id:p.id,name:p.name,serviceName:t.name,serviceTitle:t.title||""}}),e[t.name]=s}}),e},Pe=({page:n,serviceName:r,handleRequestModalOpen:e,handleOpenPageStyleDialog:t,displayActionBtnAllRows:l})=>{const{sortKey:s,sortDir:p,handleSort:d}=Hn(),[q,y]=h.useState(!0),[S,T]=h.useState(null),D=h.useRef(!1),{rowData:w,setRowData:O,pageSize:I,currentPage:j,searchText:A,searchType:R}=ae(),k=re(),{services:g,tableConfig:x,readonlyFieldId:$,hideFieldId:F,useInputToggleConfirmation:B}=h.useMemo(()=>Kn(n,k,r),[n,k,r]),U=x&&"moreInfo"in x?x?.moreInfo:null,G=x&&"header"in x?x?.header:null,V=!!r;h.useEffect(()=>(D.current=!0,()=>{D.current=!1}),[]),h.useEffect(()=>{const i=new AbortController;function b(){const v=g?.map(f=>Ue({endpointUrl:ye(encodeURIComponent(f.name)),params:{count:-1},signal:i.signal,handleError:!1}))||[];Promise.all(v).catch(f=>{if(i.signal.aborted)return;const C=en(f);He(C,"error"),T(f)}).then(f=>{if(!f)return;const C=Yn(g,f.map(E=>E.entry));O(C)}).finally(()=>{D.current&&y(!1)})}return b(),()=>{i.abort()}},[g,O]);const X=i=>{if(Ee($,i))return;O(v=>ie(v,{[i.serviceName]:{[i.name]:{__toggleShowSpinner:{$set:!0}}}}));const b=new URLSearchParams;b.append("disabled",String(!i.disabled)),Ge({endpointUrl:ye(`${encodeURIComponent(i.serviceName)}/${encodeURIComponent(i.name)}`),body:b,handleError:!0,callbackOnError:()=>{O(v=>ie(v,{[i.serviceName]:{[i.name]:{__toggleShowSpinner:{$set:!1}}}}))}}).then(v=>{O(f=>ie(f,{[i.serviceName]:{[i.name]:{disabled:{$set:Te(v.entry[0].content.disabled)},__toggleShowSpinner:{$set:!1}}}}))})},W=h.useCallback(i=>{const b=[],v=[...G?.map(f=>f.field)||[],...U?.map(f=>f.field)||[]];return Object.values(i).forEach(f=>{Object.entries(f).some(([E,m])=>v.includes(E)&&typeof m=="string"&&m.toLowerCase().includes(A.toLowerCase().trim()))&&b.push(f)}),b},[G,U,A]),Z=()=>{let i=[];g?.forEach(C=>{const E=C?.name;!E||!w?.[E]||(w[E]=Object.fromEntries(Object.entries(w[E]).map(([m,N])=>[m,{...N,serviceTitle:C.title||""}])))}),R==="all"?Object.keys(w).forEach(C=>{const E=A?W(w[C]):Object.keys(w[C]).map(m=>w[C][m]);i=i.concat(E)}):i=W(w[R]),V&&(i=i.filter(C=>C.serviceName===r)),F&&(i=i.filter(C=>rn(C[F])));const b=G?.find(C=>C.field===s)?.mapping||{},v=i.sort((C,E)=>{const m=C[s]===void 0||C[s]===null?"":b[String(C[s])]||C[s],N=E[s]===void 0||E[s]===null?"":b[String(E[s])]||E[s];return p==="asc"?m>N?1:-1:p==="desc"?N>m?1:-1:0});let f=v.slice(j*I,(j+1)*I);return j>0&&!f.length&&(f=v.slice((j-1)*I,I)),{filteredData:f,totalElement:i.length,allFilteredData:i}};if(S)throw S;if(q)return o.jsx(ze,{size:"medium"});const{filteredData:a,totalElement:c,allFilteredData:u}=Z();return o.jsxs(o.Fragment,{children:[o.jsx(fe,{page:n,services:g,totalElement:c,handleRequestModalOpen:e,changeToggleStatus:X,isTabs:V,allFilteredData:u,displayActionBtnAllRows:l}),o.jsx(Bn,{page:n,serviceName:r,data:a,handleToggleActionClick:i=>X(i),handleSort:d,sortDir:p,sortKey:s,handleOpenPageStyleDialog:t,tableConfig:x,useInputToggleConfirmation:B})]})},kt=h.memo(Pe);Pe.__docgenInfo={description:"",methods:[],displayName:"TableWrapper",props:{page:{required:!0,tsType:{name:"union",raw:"typeof PAGE_INPUT | typeof PAGE_CONF",elements:[{name:"PAGE_INPUT"},{name:"PAGE_CONF"}]},description:""},serviceName:{required:!1,tsType:{name:"string"},description:""},handleRequestModalOpen:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},handleOpenPageStyleDialog:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: RowDataFields, mode: Mode) => void",signature:{arguments:[{type:{name:"intersection",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
} & AcceptableFormRecord`,elements:[{name:"signature",type:"object",raw:`{
    name: string;
    serviceName: string;
    serviceTitle: string;
    disabled?: boolean;
    id?: string;
    index?: string;
    __toggleShowSpinner?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"serviceName",value:{name:"string",required:!0}},{key:"serviceTitle",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"index",value:{name:"string",required:!1}},{key:"__toggleShowSpinner",value:{name:"boolean",required:!1}}]}},{name:"Record",elements:[{name:"string"},{name:"union",raw:"AcceptableFormValue | null",elements:[{name:"union",raw:"string | number | boolean | { fileContent?: string }",elements:[{name:"string"},{name:"number"},{name:"boolean"},{name:"signature",type:"object",raw:"{ fileContent?: string }",signature:{properties:[{key:"fileContent",value:{name:"string",required:!1}}]}}]},{name:"null"}]}],raw:"Record<string, AcceptableFormValueOrNull>"}]},name:"row"},{type:{name:"union",raw:`| typeof MODE_CLONE
| typeof MODE_CREATE
| typeof MODE_DELETE
| typeof MODE_EDIT
| typeof MODE_CONFIG`,elements:[{name:"MODE_CLONE"},{name:"MODE_CREATE"},{name:"MODE_DELETE"},{name:"MODE_EDIT"},{name:"MODE_CONFIG"}]},name:"mode"}],return:{name:"void"}}},description:""},displayActionBtnAllRows:{required:!1,tsType:{name:"boolean"},description:""}}};export{J as S,kt as T,zn as a};
