import{d as ee,e as le}from"./_baseIteratee-ksDslDTl.js";import{t as de,s as pe}from"./omit-CSe7u5nZ.js";import{d as ve,e as me,c as be}from"./includes-BAN5eljv.js";import{c as he}from"./_commonjsHelpers-CE1G-McA.js";var q,H;function ge(){if(H)return q;H=1;var p=ee(),g=de(),c=pe();function v(e){return function(n,a,h){var m=Object(n);if(!g(n)){var i=p(a,3);n=c(n),a=function(b){return i(m[b],b,m)}}var f=e(n,a,h);return f>-1?m[i?n[f]:f]:void 0}}return q=v,q}var M,X;function Re(){if(X)return M;X=1;var p=me(),g=ee(),c=ve(),v=Math.max;function e(n,a,h){var m=n==null?0:n.length;if(!m)return-1;var i=h==null?0:c(h);return i<0&&(i=v(m+i,0)),p(n,g(a,3),i)}return M=e,M}var B,G;function ye(){if(G)return B;G=1;var p=ge(),g=Re(),c=p(g);return B=c,B}var E={},u={},F={},V;function Pe(){if(V)return F;V=1,Object.defineProperty(F,"__esModule",{value:!0}),F.getEntry=p;function p(g){if(typeof document>"u")return null;var c=new RegExp("(^|; ?)".concat(g,"=([^;]+)")),v=null;try{var e=document.cookie.match(c);v=e?e[2]:null}catch{}return v}return F}var $;function re(){if($)return u;$=1,Object.defineProperty(u,"__esModule",{value:!0}),u.getCSRFToken=a,u.extractAppName=m,u.versionLabel=u.username=u.splunkdPath=u.serverTimezoneInfo=u.rootPath=u.portNumber=u.locale=u.config=u.buildPushNumber=u.buildNumber=u.appBuild=u.app=u.isAvailable=u.CSRFToken=void 0;var p=c(le()),g=Pe();function c(o){return o&&o.__esModule?o:{default:o}}var v=typeof window>"u"?he:window;function e(o){return(0,p.default)(v,["$C",o])}var n=(0,g.getEntry)("splunkweb_csrf_token_".concat(e("MRSPARKLE_PORT_NUMBER")));u.CSRFToken=n;function a(){return(0,g.getEntry)("splunkweb_csrf_token_".concat(e("MRSPARKLE_PORT_NUMBER")))}var h=!!e("SPLUNKD_PATH");u.isAvailable=h;function m(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,p.default)(v,["document","location","pathname"],""),L=o.match(/\w\w.\w\w\/(app|manager)\/([^/]+)/);return L?L[2]:void 0}var i=m();u.app=i;var f=e("APP_BUILD");u.appBuild=f;var b=e("BUILD_NUMBER");u.buildNumber=b;var w=e("BUILD_PUSH_NUMBER");u.buildPushNumber=w;var O=(0,p.default)(v,"$C");u.config=O;var N=e("LOCALE");u.locale=N;var U=e("MRSPARKLE_PORT_NUMBER");u.portNumber=U;var S=e("MRSPARKLE_ROOT_PATH");u.rootPath=S;var D=e("SERVER_ZONEINFO");u.serverTimezoneInfo=D;var r=e("SPLUNKD_PATH");u.splunkdPath=r;var t=e("USERNAME");u.username=t;var s=e("VERSION_LABEL");return u.versionLabel=s,u}var z;function Ae(){if(z)return E;z=1,Object.defineProperty(E,"__esModule",{value:!0}),E.getDefaultFetchInit=n,E.findErrorMessage=a,E.handleResponse=h,E.handleError=m,E.defaultFetchInit=void 0;var p=v(ye()),g=v(be()),c=re();function v(i){return i&&i.__esModule?i:{default:i}}var e={method:"GET",credentials:"include",headers:{"X-Splunk-Form-Key":c.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}};E.defaultFetchInit=e;function n(){return{method:"GET",credentials:"include",headers:{"X-Splunk-Form-Key":(0,c.getCSRFToken)(),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}}}function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=i.messages;if(Array.isArray(f))return(0,p.default)(f,function(b){var w=b.type;return w==="ERROR"||w==="FATAL"||w==="risky_command"})}function h(i){return function(f){return(0,g.default)([].concat(i),f.status)?f.status===204?null:f.json():Promise.reject(f)}}function m(i){return function(f){var b=null;try{b=f.json()}catch{return Promise.reject(new Error(i))}return b.then(function(w){var O=a(w);return O?Promise.reject(new Error(O.text)):Promise.reject(new Error(i))})}}return E}var P={},I={},k,Q;function we(){if(Q)return k;Q=1;function p(c,v){return Object.prototype.hasOwnProperty.call(c,v)}k=function(c,v,e,n){v=v||"&",e=e||"=";var a={};if(typeof c!="string"||c.length===0)return a;var h=/\+/g;c=c.split(v);var m=1e3;n&&typeof n.maxKeys=="number"&&(m=n.maxKeys);var i=c.length;m>0&&i>m&&(i=m);for(var f=0;f<i;++f){var b=c[f].replace(h,"%20"),w=b.indexOf(e),O,N,U,S;w>=0?(O=b.substr(0,w),N=b.substr(w+1)):(O=b,N=""),U=decodeURIComponent(O),S=decodeURIComponent(N),p(a,U)?g(a[U])?a[U].push(S):a[U]=[a[U],S]:a[U]=S}return a};var g=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};return k}var x,Z;function _e(){if(Z)return x;Z=1;var p=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};x=function(e,n,a,h){return n=n||"&",a=a||"=",e===null&&(e=void 0),typeof e=="object"?c(v(e),function(m){var i=encodeURIComponent(p(m))+a;return g(e[m])?c(e[m],function(f){return i+encodeURIComponent(p(f))}).join(n):i+encodeURIComponent(p(e[m]))}).join(n):h?encodeURIComponent(p(h))+a+encodeURIComponent(p(e)):""};var g=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function c(e,n){if(e.map)return e.map(n);for(var a=[],h=0;h<e.length;h++)a.push(n(e[h],h));return a}var v=Object.keys||function(e){var n=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.push(a);return n};return x}var J;function Ue(){return J||(J=1,I.decode=I.parse=we(),I.encode=I.stringify=_e()),I}var Y;function Ce(){if(Y)return P;Y=1,Object.defineProperty(P,"__esModule",{value:!0}),P.withConfig=f,P.insertCacheBuster=P.createURL=P.createStaticURL=P.createRESTURL=P.createDocsURL=P.createAppDocsURL=void 0;var p=Ue(),g=v(re());function c(r){if(typeof WeakMap!="function")return null;var t=new WeakMap,s=new WeakMap;return(c=function(L){return L?s:t})(r)}function v(r,t){if(r&&r.__esModule)return r;if(r===null||e(r)!="object"&&typeof r!="function")return{default:r};var s=c(t);if(s&&s.has(r))return s.get(r);var o={__proto__:null},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in r)if(A!=="default"&&{}.hasOwnProperty.call(r,A)){var j=L?Object.getOwnPropertyDescriptor(r,A):null;j&&(j.get||j.set)?Object.defineProperty(o,A,j):o[A]=r[A]}return o.default=r,s&&s.set(r,o),o}function e(r){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}function n(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);t&&(o=o.filter(function(L){return Object.getOwnPropertyDescriptor(r,L).enumerable})),s.push.apply(s,o)}return s}function a(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?n(Object(s),!0).forEach(function(o){h(r,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(s,o))})}return r}function h(r,t,s){return(t=m(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function m(r){var t=i(r,"string");return e(t)=="symbol"?t:t+""}function i(r,t){if(e(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,t);if(e(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function f(r){var t=r.appBuild,s=r.buildNumber,o=r.buildPushNumber,L=r.locale,A=r.rootPath,j=r.splunkdPath;function K(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=a({appBuild:t,buildPushNumber:o,buildNumber:s},d),R=l.match(/(^|\w\w-\w\w\/)static\//);if(!R)return l;var y=R.index+R[0].length-1,C=l.match(/(^|\w\w-\w\w|)static\/app/),oe=C?":".concat(_.appBuild||0):"",ie=_.buildPushNumber?".".concat(_.buildPushNumber):"",ce="/@".concat(_.buildNumber).concat(ie).concat(oe),se=l.substr(0,y),fe=l.substr(y);return"".concat(se).concat(ce).concat(fe)}function T(l,d){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=a({appBuild:t,buildPushNumber:o,buildNumber:s,rootPath:A,locale:L},_),y=l||"/",C=d?"?".concat((0,p.stringify)(d)):"";return y.charAt(0)!=="/"&&(y="/".concat(y)),y="".concat(R.rootPath||"","/").concat(R.locale).concat(y).concat(C),K(y,R)}function te(l){for(var d=arguments.length,_=new Array(d>1?d-1:0),R=1;R<d;R++)_[R-1]=arguments[R];return T.apply(void 0,["static/".concat(l)].concat(_))}function ne(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(/^http[s]?:\/\//.test(l))return l;var R=_.splunkdPath||j||"";if(/^\/.*/.test(l))return/^\/services/.test(l)?"".concat(R).concat(l):l;if(!d.app&&!d.owner)return"".concat(R,"/services/").concat(l);var y;d.sharing?y="nobody":d.owner?y=encodeURIComponent(d.owner):y="-";var C;return d.sharing==="system"?C="system":d.app?C=encodeURIComponent(d.app):C="-","".concat(R,"/servicesNS/").concat(y,"/").concat(C,"/").concat(l)}function W(l,d){return T("/help",l,d)}function ae(l,d){return W({location:l},d)}function ue(l,d,_){var R=d.appName,y=d.appVersion;return W({location:"[".concat(R,":").concat(y,"]").concat(l)},_)}return{createAppDocsURL:ue,createDocsURL:ae,createRESTURL:ne,createStaticURL:te,createURL:T,insertCacheBuster:K}}var b=f(g),w=b.createAppDocsURL,O=b.createDocsURL,N=b.createRESTURL,U=b.createStaticURL,S=b.createURL,D=b.insertCacheBuster;return P.insertCacheBuster=D,P.createURL=S,P.createStaticURL=U,P.createRESTURL=N,P.createDocsURL=O,P.createAppDocsURL=w,P}export{re as a,Ce as b,ye as c,Ue as d,Pe as e,Re as f,Ae as r};
